{"version":3,"sources":["webpack:///path---警告-node-oom-了-1b752cdadb4ef0cdab0f.js","webpack:///./.cache/json/警告-node-oom-了.json"],"names":["webpackJsonp","784","module","exports","data","post","id","html","htmlAst","type","children","tagName","properties","value","className","href","style","target","rel","alt","title","src","srcSet","sizes","dataLanguage","quirksMode","fields","slug","prefix","frontmatter","subTitle","cover","author","footnote","site","siteMetadata","facebook","appId","pathContext"],"mappings":"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","file":"path---警告-node-oom-了-1b752cdadb4ef0cdab0f.js","sourcesContent":["webpackJsonp([64197529879269],{\n\n/***/ 784:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"post\":{\"id\":\"/Users/dong/dong/blogs/content/posts/2019-01-28--警告\\\"node OOM\\\"了/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>bug还没解决,如何过年?</p>\\n<p>不是标题党,确实是出了线上问题, 线上不间断出现oom问题,还有一周就过年了,问题不解决,如何能安心过年,过年的时候出问题,估计客户会把我们撕的碎碎的.</p>\\n<p>为什么说 “5块钱的bug,怎么变成了用1.5W的成本”? 如果及早发现这个问题,一个人5分钟就搞定,但我们三个人却用了5天(包含周未);至于说为什么, </p>\\n<h2>现象</h2>\\n<p>在”主动发现问题行动”的推动下配置了alinode的告警,然后就有报警出现了,. </p>\\n<p>报警: “已用堆内存超过堆上限的 80%，当前为 82.31%“;</p>\\n<p>再仔细一查, 不得了了.比报警内容还坏, 我们遇到的不是内存泄漏,而是oom崩溃, 而且是突发式的.一但发生立马崩溃,不给你半点时间;\\n幸好进程会自动拉起. nginx也有健康状态检查,会自动分流; </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.44386422976501%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz61SXU/CQBDs3/bZB1+NCEpM0BhBrARJ9Ff47E9ATYiQAu19362z26viu4TJTuf25m62LY6OT2jx/EJ305ImD49/cF/OaFKCo47xzJh0Gvh0Nqex7CvpCR7lfEHF6esb/eevGF7fCqnqhvbaUJ2xA9Z7aND52Xsv64ymg0FPo2mzb/ca56gY3bSG1nmKMZH1gQw2OyClRCFGwS9PFMFNCOj1osWDnmJ4NRJDD3dZQGMEuEpTBq8laCCCVg8/6wyPw4qz/oUY1lpLLJ9vp3HjDeIoa+XWfHplHFXW0Rr1C1gBa20R19JKO1IhUnE+uBTDHUQncQPVFvOCYWVQwRU0jrkF37qAtYDqaZfBhyvA45ZFr98a+jwzFr1ERjRK+Lfg+LzR5WgW1aDHCk+iywx7g6EYGtO+yZDn53ErjXisxTzPD2VpqRy9H2DZWNE/AcuRO0OF1+7y/BgcfcufAkxdjqzAVY7XoWHNWHAnh34DQ6P021JG5RoAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"cpu   \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png\\\"\\n        srcset=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-bed0f.png 200w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-5fd34.png 400w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png 800w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-b70ec.png 1200w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-d134a.png 1600w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png 1915w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>随后开启服务器coredump,把进程崩溃的现场信息留下来,等了一天,便可以在alinode管理端获取coredump列表.</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.62565172054223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz3WRWUsDMRSF50cLgg8+CvrghgWtWqa009YK+p9E0E5mXzJLJjneJNM6dQkccudOzpeTxDk4Oob39IzxxMWjO8Xh2MXJZA5vsYTrLTEdar7YySXNFiu4s7nR+uUV3moNZ3Q/gR6VBBqaP2hmpBZWVJp+1UsO1A1qvVaRnKvRLZK2gx+ECKIYWZKiyHNEaYpNxODTd0BK8wJJVlA/R0b1nooSSRyTr4Bzc/cAn8jaxFiAoiyhpEKnBHzO8FY1SOrWnEIphbKTZrZD6aatKvK1DZxLShhQI0wzhFGEknNIDZQCjId4J2Ba2wNJMnMCtvRfmE2VgSsD5BZ4en6NsE8YhCHKbUIDDAww6YHaXBOwlhKNtOBvYJ/w7OIHcC8hHZk3iAfAqk+o0+0n/AfIe6CQLd1hgrARKFuxA7bSJtRJdcr/gXSHrE+oeuAnLRJk7LrOGkmSIPYh1G6TX8CIGixOsGHM3KE2dQTcVAUaISHEPnBbqz8e5Qskv+7Nf51IDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"alinodecoredump  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png\\\"\\n        srcset=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-bed0f.png 200w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-5fd34.png 400w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png 800w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b70ec.png 1200w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-d134a.png 1600w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png 1918w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>有了这些信息,就可以开展分析工作了;</p>\\n<h2>线索</h2>\\n<ol>\\n<li>崩溃不定期发生,然而线上机器大概率发生, 灰度 机器并不发生;一台机器中个别进程崩溃;</li>\\n<li>查看其他应用并没有发生崩溃的问题; </li>\\n<li>近期上了健康检查与全链路跟踪; </li>\\n<li>线上虽有崩溃,然而并没有用户反馈有问题;</li>\\n<li>有3种崩溃的情况,不只是一种;</li>\\n</ol>\\n<h2>解决角度</h2>\\n<p>根据对coredump内容分析,有三个解决角度</p>\\n<ol>\\n<li>查看heap中占比最大的对象;</li>\\n<li>zoneContext导致;</li>\\n<li>urllib所发出的请求导致出问题; </li>\\n</ol>\\n<p>看了之后特别怀疑问题2, 原因有两点: </p>\\n<ol>\\n<li>最近我们上线了zipkin全链路跟踪;</li>\\n<li>zoneContex 所使用的async_hook还是实验特性 (不会入坑了吧. );</li>\\n<li>nginx有健康检查,会不停发请求; </li>\\n</ol>\\n<h3>线索1:查看heap中占比最大的对象</h3>\\n<p>本以为手到病除, 然而一看coredump中对象列表就傻眼了.没有统计,没有规律,只显示object有600多M,但是什么对象就是找不到.\\n就好比告诉你凶手就在茫茫人海中,说了几乎跟没说一样.. </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz61S204CMRTc3/bJB/9A0GCQ4BUVCGiMv2RUILvb7b1bxtnuSngTE5tMzml7MmfOtNnR8QlmyxeMb+9xfTdJmDzN8DCdp/iT7+8n0zY+zhftPfH8+obpYomsIUhru8V/rOzicow6RryvNsiFhJAKZSWZV5DawHsPYy0s4Zg718B1sb0zxqazpjYbjW8obgupFJTRUFpDG7ODtW5HoHmnlN6RSjZvyXyqS4TD0VWSKnmgvYNioSE098qSwIfU8FBk/V6f/kWUmy8YkcPJiqPV7Fa3I9YB8U+E54OkMM8/oasCmmMoa1p1LtDftjAeTDgYJkJhVDeygXA6KavriLp5/T38SnjWKVznBV+34CsLVMrQx0BfVfJSu5rNYlLc2BFCICIcowueOS3iPsRG4WkPoBqx/oAqV/CigC9zRCptxoz8UrEbOR4w+jeYYvTBidXgwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"objectlist\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png\\\"\\n        srcset=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-bed0f.png 200w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-5fd34.png 400w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png 800w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-b70ec.png 1200w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-d134a.png 1600w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png 1914w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>尝试用概率的方法来人肉统计一次,然而次次无功而返;当然不依赖alinode对coredump进行分析,然而考虑到时间成本再试下别一个角度</p>\\n<h3>线索2:zoneContext导致</h3>\\n<p>朝着这个方向走,检查了zonecontext的代码,然而并没有看出什么问题, 只好忌出大法(范围缩小跟踪)</p>\\n<p>我们使用zonecontext的地方有两个,1) 全链路跟踪,2) dubbolog . 而 全链路跟踪是新上的功能,且是关键节点,dubbolog记录是很久上的,且业务应用也有使用</p>\\n<p>我们选择关闭了zipkin全链路跟踪,关闭了nginx健康检查(会发送大量请求); </p>\\n<p>理想总是美好的, 然而实现却啪啪啪的打脸. 把这些都关闭了线上还在出问题;囧了. 众多迹象证明问题不在zonecontext&#x26;async_hook</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.36534446764092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz62R20oDMRRF5799EPwBL9WiWKRY6/RKKVj0p+zccptkZrY7SS31RefBwOLMIWHNSXZydn6B3fsHJukcr/MlZqs10sUKL+xny3VgOlsETvuUdbHehHOTaYrt2w6rzRbJaPwMv9q2xX+sZHD/iEwqFFkOxSqFYJXQRFZV7LWGJtLvKwWldKi+14c9peJ38vg0DuY8K5FXFJNSkEJAEqsNmqbpSYtk+DAKwk9pkCmHvbLItYOyDeq2Q3e8TBfout9JLm/uwvF9pSmsef0auZcSVTsI42Bc/LvnT+HV7TAKhRdGUantUVpwWo+sG7i2j3AQhRknzKUN0oLCgtOWnFYZi4YTdnyjro/w+iAsMsVQahSUCoZimbITEvYbJtpY13/C8IaUVZxMMCBp4jU9xrUnMCyiGZrxwbmfU38BNrX0HLADTrYAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  1\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png\\\"\\n        srcset=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-bed0f.png 200w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-5fd34.png 400w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png 800w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-b70ec.png 1200w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-d134a.png 1600w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png 1916w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.54887611082071%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQoz52R227UMBRF8+E8VOIHqCoEiGlLp+k0HbVIFV+EaKYT6CR24nh8zWbbYUB94CIsLe1zLHn5WC5eHL3E+v4TFssVTssKi8trnDE/XFU4J8vrG1xVa5TMMuUB9qv1LS5XFesKd3RUtx9RpI20PIkkkAn/v4rF+TKLvgqFp2GfadXz7EaDYW+hjYP3Ho7431BclKtsbtNB7dCODv3eQbCWTO0ClPWwPiDGCdP0ZzjhRRbuKEySgyhlEhkfKeMbpr/LsvD12/ezsNc/ZbPQomffp2RvOOE/Cd+8W2ShEEnoIfZ+liaRsjBKIziPECOffGDKH8fzcx6YhfOEcjdA9nx2/gQLqQwka9MPsELCdgImJXuvNaJ3mIJ/Di8rTl4dA4PC5vMWTd3gC6m3LR6aDo/NE3b1I8TDhtSQNXOzhWi+QXVdZuBFw66FFi2iVijK9MshcELJCUf0RMsBioy8yI06TxSs/YFBdHbG2l81SVN+B9R48ELdeLncAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  2\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png\\\"\\n        srcset=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-bed0f.png 200w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-5fd34.png 400w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png 800w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-b70ec.png 1200w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-d134a.png 1600w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png 1913w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>线索3:urllib所发出的请求导致出问题</h3>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQoz62P3U/CMBTF94f7YOKj4cFvjALyNb6UaIjx7zEBum7tZKxbuxFyvC0ixAcTiU1+ubfntKe33tHxCSavb2h2fHR6A/jDR/iDEdp+H81uD93+0Gm2tvf8Fvn90RN8q/s9jF8mGI2f4dmg/1xe9b6BbA2IRCHJDFSuHbkukJsCWb7Tfu8N3THwag8tZLrEVKRIcwrQh6OLFU14V4eiDRMJTVS6qTb1b9hAYwPPLm+QU8Pj5bdhyf+CKXaB51dV6HINuVBfgYQ5gO2XL65voc0KEU1YkGHoNWNfc7XcsNX3vR9oN2EJr3JawXKp8D6dY8YZZiwAC2MEPATjtueYB5x6Tr7VQrefM05nBLjVmNUipIsFvEatjkwpsCBwh3kYQcgYUoSI4xDyg0PK0BHFAjK2voAQEWlyUwXpdEenCT4B5hHp8GL2ofMAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  2  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png\\\"\\n        srcset=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-bed0f.png 200w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-5fd34.png 400w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png 800w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-b70ec.png 1200w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-d134a.png 1600w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png 1914w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>根据报错信息组装并打开urllib发出的请求,可以看到请求(<a href=\\\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&#x26;from=311200\\\">http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&#x26;from=311200</a>)的具体信息,里面有几点是不正确的. </p>\\n<ol>\\n<li>门店查询为什么没有店家编号; </li>\\n<li>从311200即1556页开始查询,那个用户会能这么无聊;</li>\\n<li>查询这么多就是没有什么意义的;</li>\\n</ol>\\n<p>基于这个线索我们深入查看了代码.  终于剥开迷雾; 在查找代码后发现这段逻辑中有嵌套调用,无限循环; </p>\\n<p>当通过手机号能查询到用户时, 一切正常,而当通过手机号查询不到用户时,便变成了查询所有店铺列表;</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"typescript\\\">\\n      <pre class=\\\"language-typescript\\\"><code class=\\\"language-typescript\\\">  <span class=\\\"token comment\\\">/**\\n   * 根据ticketId查询查询店铺列表\\n   */</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token function\\\">shopListByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">,</span> pageSize<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">number</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> pageNum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">number</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> ticketId <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>ctx<span class=\\\"token punctuation\\\">.</span>service<span class=\\\"token punctuation\\\">.</span>ucFetch<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">fetchTicketIdByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token constant\\\">ES</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>ctx<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> dataList <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> esRes <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token constant\\\">ES</span><span class=\\\"token punctuation\\\">.</span>pagingQuery<span class=\\\"token operator\\\">&lt;</span>IConnectionInfo<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      router<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span><span class=\\\"token constant\\\">ES</span><span class=\\\"token punctuation\\\">.</span>routers<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">SCENE_RETAIL_SHOP</span><span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">/`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      pageSize<span class=\\\"token punctuation\\\">,</span>\\n      pageNum<span class=\\\"token punctuation\\\">,</span>\\n      terms<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        prop<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'userId'</span><span class=\\\"token punctuation\\\">,</span>\\n        value<span class=\\\"token punctuation\\\">:</span> ticketId<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    dataList <span class=\\\"token operator\\\">=</span> dataList<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>esRes<span class=\\\"token punctuation\\\">.</span>dataList <span class=\\\"token operator\\\">||</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>esRes<span class=\\\"token punctuation\\\">.</span>totalCount <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">200</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> dataList<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> shopList <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">shopListByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">,</span> pageSize<span class=\\\"token punctuation\\\">,</span> pageNum <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      dataList <span class=\\\"token operator\\\">=</span> dataList<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>shopList<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">return</span> dataList<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 39.71238938053097%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz62S2w6CMBBE+f+vJAqU0na7BRFBk3GoRkP0SXw42UvS2Wl2CxcUrQyI44LTNON8WTA+4y8UnRfUvsdw3i+WBa0LaJxs3O1yaDoPE3qMuTH/x2HQ08bdHigo2eFlvmameSHXV/3m9tGbvtRFZR0OlouJgsrz+9x4GwcOiWiCoBFFvcYnjz7x63X0sJJyXjtFx3fF0UUKKcrW49gJSoofeEpWBTYJ2sSlqcuYFNmPMJpQRYppz+EpDzAUtszvPPNo5XA+GtIAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"request  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png\\\"\\n        srcset=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-bed0f.png 200w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-5fd34.png 400w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png 800w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-b70ec.png 1200w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-d134a.png 1600w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png 1808w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n把url拼装后发现得出结果\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 57.17439293598234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz6WRy27CMBBF8/+/UVEgJHYSKLCo1BUbuiiIFaq6oRJFpJC3nQDidhywUEJb9THS1ciW75kZjzH0PLg2B2u34JomeozhjnN0bRs90sB10Hc4+nQ39Fy6szAajTCZzTCdPOFxPMZD18OA2bjvuTCYZYGRkZNcgpmtJlqNBiyzDbtjlrkqEw6ZebOJmzbDbYfDoWIOeZUM1ELmOYIgRFHs8F2I5xdMlznm6+o7Y7/fQ+twOGCzjeAHKYIoRUhKU3GtTELsyEPFlZSv9JPKDo/HYykVWZwg9H1kWQ4hC0iSEHmZpTxnOguC6jeVDjVMAwshkLwukEbZySguEHkuIGuFdCjGNTDfIXnbIH0PIeKs7ESbRQ36KbA+slpGst4iUR0SXFRGLv4IXPqIwuTS2b86pEfxYoU0iL8c9XdA9Yer0x+qrWqT+OFSPgBuojs0ShyxCAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"elasticsearch\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png\\\"\\n        srcset=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-bed0f.png 200w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-5fd34.png 400w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png 800w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-b70ec.png 1200w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-d134a.png 1600w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png 1812w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>回顾</h2>\\n<p>如果是一个请求造成了,内存暴增, 我们可以推断,有用户发送的http请求会中断 ; 然后我查询了nginx监控日志 (近期刚做监控,还没全面推广)\\n通过图发现确实是如此,而且最后一个参数为undefined; 虽然马后炮没什么用, 但如果能解决这个问题,可能就不会有这么一遭经历了. </p>\\n<p>我们再来验证下线索:</p>\\n<p>“崩溃不定期发生”: 是因为有用户触发此请求才会导致,而且只有一个node进程崩溃;</p>\\n<p>“没有用户反馈”: 此功能非重要页面,用户会重新刷新,退出; </p>\\n<p>“有3种崩溃的情况,不只是一种”: 嵌套调用有时间间隔(异步) , 有可能此时dubbo正好返回,导致内存撑爆,故而3种情况甚至更多情况都会出现,只要有申请内存操作的都有机率出现; </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 54.93741307371349%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz21S227TQBD1pyAQUgUhtE3S0pImIUCrtCIPCArijS/gt5C4BNLSVogvgbTQJLSOL0ns9X3XPsyuY9SHrjWyZ7Q+c86c0d7tvsLrvbdoVp/h+OAH4jiBO2cQPEWaZrjuZFl2NcljcbRuax+7zX00KnvofzrCRDegX+q4vNBhTExYlg3bmMA6+wnz9wBhECjAJEkQUfPENsE9hjjh4JRrO/UX6LbfoFXr4vjLCbJUwHVc+J4Pz/Pg+wFm9hT2eISEOcQ6VeExD0EYIp7aEIEPn75NZwZt++FzdBovsbXSQf/zCcKQw5nTBS8CcwMEfgQuu4v0eslFjZ5IEMPHG13IWCu1CfCIugoYFoM99WHNIljzeDHLjOSGiKI8T6kBcxmpYYpx0USrV3bQqHZQvdPEt/53VUyIUfGTELk5hVQZ0gT5Nm0XhumAc65qElTbXHmKemUbq0tbOKQZyjMlyXNHzjCAQ7IZyfeYD5dFZARXdySgNEJcNVwyXL/fxsbyE5Rvb+Lwaw7IWACXgBwWwwtoflwoFgnPGRfbkpARKRklfDJv6iImM7VaqYm18iOUbq2j3ztaSE6UTKEkCyUlW8jOskJ+hoDAMtcGd13YQwOeYRHgvSYeLLdx92YNvY8HtCY+zv8M8Xd8oXZyMjHUTpp0Wdbkjur6hMyJ8llTwygkNY5DI/IJsNwihi0s3VjFh/c92LRzp4MzDH6dYng+UjEajlWMR+P/eUxuy+YF6zhJaSQZ/gHEdAXLpZ7t9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"sentry  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png\\\"\\n        srcset=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-bed0f.png 200w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-5fd34.png 400w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png 800w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-b70ec.png 1200w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-d134a.png 1600w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-f6ead.png 2400w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png 2876w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVQoz21S227TQBD1nyCBBIg2pZekJSVt2lBatRKRQMBDeeUH+C1EaUoSCoivQQ1xEju+rL27vh52xgkgxFqjnfXsnDlnZq13z87xpvsWR83nuO5/R6JThL5AnuUoihL/W2X59/+Sz2zms7rtVzhrv8be5hl67weY2BPYYxvjnzZm0xkcx4HrurzTWUrJyWmaQesESZIhSxdmfOuk9RLdzjkOG10ML4aGWYrADxBFESJRme/5cJ25SU6Q58S84P8yltAEaNRIpTAN5rCOH7+oGG6cYnj1jUWIgC4ryEhBhDG0SjhpofAfydXKTRGdp7CeNLsga6wcGsCvHFQGLDFy0iQ1UipGBFLkBfvU35x8YyyV+p1Xd6zW1gn266eoP2hj0PvCgIHQEHEKpTOURZW4BCDAqncp+3EkufjybO1uPEVr6xib9/fQv7yGTICRHWA8jeB6MV9WSjMIGTGi3jmOy3sQhAxW7QmsnYcdNNePsHZ3F58+foZRiMlMYDaX8EPFl6mHzGoBqKTiQWlTSAhhJp7ykKhFVmO1je3aAVbv7ODKTDnWJX6MPNyMQ0wdwcmxYaKkNk9G8TvVWiMMBTOiWJZVrKm3VqPWxqP1DlZuN9C7GECmwI0dYmQkO57kqssBEVsaABXx5p5pBb0CwTFiSjGrXtvH9toB7t3awOWH/kJyiJkbw/NjlkUAtJNRMgH9kRz9lkwMfwGr0QhOp27L5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"sentry2\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png\\\"\\n        srcset=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-bed0f.png 200w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-5fd34.png 400w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png 800w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-b70ec.png 1200w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-d134a.png 1600w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-f6ead.png 2400w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png 2880w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>小结</h2>\\n<ul>\\n<li>重视线上报错告警信息,每一个错都是一个潜在的雷,不排除,就被炸,问题越早发现处理成本越低,处理起来越简单; </li>\\n<li>重视代码规范(价值观),各环节的参数校验要到位,现在没问题不代表以后没问题; </li>\\n<li>现场只告诉你信息,原因要结合场景进行一些推断, 工具是还没那么智能的告诉你那里出问题了; </li>\\n<li>工具链非常重要,进程崩溃没有引发大范围业务问题,问题相关的定位太感谢相关的工具(alinode lldb sentry logserver,bugatti),好的工具链能营造一个好的开发体验,让我们便捷的去解决问题;</li>\\n</ul>\\n<h2>参考文章</h2>\\n<p><a href=\\\"https://zhuanlan.zhihu.com/p/41178823?spm=a2c4g.11186623.2.23.31636df2AekZJO\\\">Node 案发现场揭秘 —— Coredump 还原线上异常</a>\\n<a href=\\\"https://www.bookstack.cn/read/node-in-debugging/2.1gcorellnode.md\\\">Node.js 调试指南</a></p>\",\"htmlAst\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"bug还没解决,如何过年?\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"不是标题党,确实是出了线上问题, 线上不间断出现oom问题,还有一周就过年了,问题不解决,如何能安心过年,过年的时候出问题,估计客户会把我们撕的碎碎的.\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"为什么说 “5块钱的bug,怎么变成了用1.5W的成本”? 如果及早发现这个问题,一个人5分钟就搞定,但我们三个人却用了5天(包含周未);至于说为什么, \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"现象\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"在”主动发现问题行动”的推动下配置了alinode的告警,然后就有报警出现了,. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"报警: “已用堆内存超过堆上限的 80%，当前为 82.31%“;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"再仔细一查, 不得了了.比报警内容还坏, 我们遇到的不是内存泄漏,而是oom崩溃, 而且是突发式的.一但发生立马崩溃,不给你半点时间;\\n幸好进程会自动拉起. nginx也有健康状态检查,会自动分流; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.44386422976501%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz61SXU/CQBDs3/bZB1+NCEpM0BhBrARJ9Ff47E9ATYiQAu19362z26viu4TJTuf25m62LY6OT2jx/EJ305ImD49/cF/OaFKCo47xzJh0Gvh0Nqex7CvpCR7lfEHF6esb/eevGF7fCqnqhvbaUJ2xA9Z7aND52Xsv64ymg0FPo2mzb/ca56gY3bSG1nmKMZH1gQw2OyClRCFGwS9PFMFNCOj1osWDnmJ4NRJDD3dZQGMEuEpTBq8laCCCVg8/6wyPw4qz/oUY1lpLLJ9vp3HjDeIoa+XWfHplHFXW0Rr1C1gBa20R19JKO1IhUnE+uBTDHUQncQPVFvOCYWVQwRU0jrkF37qAtYDqaZfBhyvA45ZFr98a+jwzFr1ERjRK+Lfg+LzR5WgW1aDHCk+iywx7g6EYGtO+yZDn53ErjXisxTzPD2VpqRy9H2DZWNE/AcuRO0OF1+7y/BgcfcufAkxdjqzAVY7XoWHNWHAnh34DQ6P021JG5RoAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"cpu   \",\"title\":\"\",\"src\":\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png\",\"srcSet\":[\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-bed0f.png 200w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-5fd34.png 400w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png 800w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-b70ec.png 1200w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-d134a.png 1600w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png 1915w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"随后开启服务器coredump,把进程崩溃的现场信息留下来,等了一天,便可以在alinode管理端获取coredump列表.\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.62565172054223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz3WRWUsDMRSF50cLgg8+CvrghgWtWqa009YK+p9E0E5mXzJLJjneJNM6dQkccudOzpeTxDk4Oob39IzxxMWjO8Xh2MXJZA5vsYTrLTEdar7YySXNFiu4s7nR+uUV3moNZ3Q/gR6VBBqaP2hmpBZWVJp+1UsO1A1qvVaRnKvRLZK2gx+ECKIYWZKiyHNEaYpNxODTd0BK8wJJVlA/R0b1nooSSRyTr4Bzc/cAn8jaxFiAoiyhpEKnBHzO8FY1SOrWnEIphbKTZrZD6aatKvK1DZxLShhQI0wzhFGEknNIDZQCjId4J2Ba2wNJMnMCtvRfmE2VgSsD5BZ4en6NsE8YhCHKbUIDDAww6YHaXBOwlhKNtOBvYJ/w7OIHcC8hHZk3iAfAqk+o0+0n/AfIe6CQLd1hgrARKFuxA7bSJtRJdcr/gXSHrE+oeuAnLRJk7LrOGkmSIPYh1G6TX8CIGixOsGHM3KE2dQTcVAUaISHEPnBbqz8e5Qskv+7Nf51IDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"alinodecoredump  \",\"title\":\"\",\"src\":\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png\",\"srcSet\":[\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-bed0f.png 200w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-5fd34.png 400w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png 800w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b70ec.png 1200w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-d134a.png 1600w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png 1918w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"有了这些信息,就可以开展分析工作了;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"崩溃不定期发生,然而线上机器大概率发生, 灰度 机器并不发生;一台机器中个别进程崩溃;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看其他应用并没有发生崩溃的问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"近期上了健康检查与全链路跟踪; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线上虽有崩溃,然而并没有用户反馈有问题;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"有3种崩溃的情况,不只是一种;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"解决角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据对coredump内容分析,有三个解决角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看heap中占比最大的对象;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"zoneContext导致;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"urllib所发出的请求导致出问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"看了之后特别怀疑问题2, 原因有两点: \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"最近我们上线了zipkin全链路跟踪;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"zoneContex 所使用的async_hook还是实验特性 (不会入坑了吧. );\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"nginx有健康检查,会不停发请求; \"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索1:查看heap中占比最大的对象\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"本以为手到病除, 然而一看coredump中对象列表就傻眼了.没有统计,没有规律,只显示object有600多M,但是什么对象就是找不到.\\n就好比告诉你凶手就在茫茫人海中,说了几乎跟没说一样.. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz61S204CMRTc3/bJB/9A0GCQ4BUVCGiMv2RUILvb7b1bxtnuSngTE5tMzml7MmfOtNnR8QlmyxeMb+9xfTdJmDzN8DCdp/iT7+8n0zY+zhftPfH8+obpYomsIUhru8V/rOzicow6RryvNsiFhJAKZSWZV5DawHsPYy0s4Zg718B1sb0zxqazpjYbjW8obgupFJTRUFpDG7ODtW5HoHmnlN6RSjZvyXyqS4TD0VWSKnmgvYNioSE098qSwIfU8FBk/V6f/kWUmy8YkcPJiqPV7Fa3I9YB8U+E54OkMM8/oasCmmMoa1p1LtDftjAeTDgYJkJhVDeygXA6KavriLp5/T38SnjWKVznBV+34CsLVMrQx0BfVfJSu5rNYlLc2BFCICIcowueOS3iPsRG4WkPoBqx/oAqV/CigC9zRCptxoz8UrEbOR4w+jeYYvTBidXgwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"objectlist\",\"title\":\"\",\"src\":\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png\",\"srcSet\":[\"/static/objectlist-a05ede811a97962799580ec1102498f4-bed0f.png 200w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-5fd34.png 400w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png 800w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-b70ec.png 1200w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-d134a.png 1600w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png 1914w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"尝试用概率的方法来人肉统计一次,然而次次无功而返;当然不依赖alinode对coredump进行分析,然而考虑到时间成本再试下别一个角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索2:zoneContext导致\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"朝着这个方向走,检查了zonecontext的代码,然而并没有看出什么问题, 只好忌出大法(范围缩小跟踪)\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们使用zonecontext的地方有两个,1) 全链路跟踪,2) dubbolog . 而 全链路跟踪是新上的功能,且是关键节点,dubbolog记录是很久上的,且业务应用也有使用\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们选择关闭了zipkin全链路跟踪,关闭了nginx健康检查(会发送大量请求); \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"理想总是美好的, 然而实现却啪啪啪的打脸. 把这些都关闭了线上还在出问题;囧了. 众多迹象证明问题不在zonecontext&async_hook\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.36534446764092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz62R20oDMRRF5799EPwBL9WiWKRY6/RKKVj0p+zccptkZrY7SS31RefBwOLMIWHNSXZydn6B3fsHJukcr/MlZqs10sUKL+xny3VgOlsETvuUdbHehHOTaYrt2w6rzRbJaPwMv9q2xX+sZHD/iEwqFFkOxSqFYJXQRFZV7LWGJtLvKwWldKi+14c9peJ38vg0DuY8K5FXFJNSkEJAEqsNmqbpSYtk+DAKwk9pkCmHvbLItYOyDeq2Q3e8TBfout9JLm/uwvF9pSmsef0auZcSVTsI42Bc/LvnT+HV7TAKhRdGUantUVpwWo+sG7i2j3AQhRknzKUN0oLCgtOWnFYZi4YTdnyjro/w+iAsMsVQahSUCoZimbITEvYbJtpY13/C8IaUVZxMMCBp4jU9xrUnMCyiGZrxwbmfU38BNrX0HLADTrYAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  1\",\"title\":\"\",\"src\":\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png\",\"srcSet\":[\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-bed0f.png 200w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-5fd34.png 400w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png 800w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-b70ec.png 1200w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-d134a.png 1600w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png 1916w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.54887611082071%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQoz52R227UMBRF8+E8VOIHqCoEiGlLp+k0HbVIFV+EaKYT6CR24nh8zWbbYUB94CIsLe1zLHn5WC5eHL3E+v4TFssVTssKi8trnDE/XFU4J8vrG1xVa5TMMuUB9qv1LS5XFesKd3RUtx9RpI20PIkkkAn/v4rF+TKLvgqFp2GfadXz7EaDYW+hjYP3Ho7431BclKtsbtNB7dCODv3eQbCWTO0ClPWwPiDGCdP0ZzjhRRbuKEySgyhlEhkfKeMbpr/LsvD12/ezsNc/ZbPQomffp2RvOOE/Cd+8W2ShEEnoIfZ+liaRsjBKIziPECOffGDKH8fzcx6YhfOEcjdA9nx2/gQLqQwka9MPsELCdgImJXuvNaJ3mIJ/Di8rTl4dA4PC5vMWTd3gC6m3LR6aDo/NE3b1I8TDhtSQNXOzhWi+QXVdZuBFw66FFi2iVijK9MshcELJCUf0RMsBioy8yI06TxSs/YFBdHbG2l81SVN+B9R48ELdeLncAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  2\",\"title\":\"\",\"src\":\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png\",\"srcSet\":[\"/static/原因2-8476e1f72ff45b0e087e85029010b116-bed0f.png 200w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-5fd34.png 400w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png 800w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-b70ec.png 1200w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-d134a.png 1600w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png 1913w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索3:urllib所发出的请求导致出问题\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQoz62P3U/CMBTF94f7YOKj4cFvjALyNb6UaIjx7zEBum7tZKxbuxFyvC0ixAcTiU1+ubfntKe33tHxCSavb2h2fHR6A/jDR/iDEdp+H81uD93+0Gm2tvf8Fvn90RN8q/s9jF8mGI2f4dmg/1xe9b6BbA2IRCHJDFSuHbkukJsCWb7Tfu8N3THwag8tZLrEVKRIcwrQh6OLFU14V4eiDRMJTVS6qTb1b9hAYwPPLm+QU8Pj5bdhyf+CKXaB51dV6HINuVBfgYQ5gO2XL65voc0KEU1YkGHoNWNfc7XcsNX3vR9oN2EJr3JawXKp8D6dY8YZZiwAC2MEPATjtueYB5x6Tr7VQrefM05nBLjVmNUipIsFvEatjkwpsCBwh3kYQcgYUoSI4xDyg0PK0BHFAjK2voAQEWlyUwXpdEenCT4B5hHp8GL2ofMAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  2  \",\"title\":\"\",\"src\":\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png\",\"srcSet\":[\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-bed0f.png 200w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-5fd34.png 400w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png 800w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-b70ec.png 1200w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-d134a.png 1600w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png 1914w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据报错信息组装并打开urllib发出的请求,可以看到请求(\"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&from=311200\"},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&from=311200\"}]},{\"type\":\"text\",\"value\":\")的具体信息,里面有几点是不正确的. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"门店查询为什么没有店家编号; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"从311200即1556页开始查询,那个用户会能这么无聊;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询这么多就是没有什么意义的;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于这个线索我们深入查看了代码.  终于剥开迷雾; 在查找代码后发现这段逻辑中有嵌套调用,无限循环; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"当通过手机号能查询到用户时, 一切正常,而当通过手机号查询不到用户时,便变成了查询所有店铺列表;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"div\",\"properties\":{\"className\":[\"gatsby-highlight\"],\"dataLanguage\":\"typescript\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"pre\",\"properties\":{\"className\":[\"language-typescript\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-typescript\"]},\"children\":[{\"type\":\"text\",\"value\":\"  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"comment\"]},\"children\":[{\"type\":\"text\",\"value\":\"/**\\n   * 根据ticketId查询查询店铺列表\\n   */\"}]},{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"async\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"shopListByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"number\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageNum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"number\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" ticketId \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ctx\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"service\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ucFetch\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"fetchTicketIdByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ctx\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"let\"}]},{\"type\":\"text\",\"value\":\" dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"[\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" esRes \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"pagingQuery\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"text\",\"value\":\"IConnectionInfo\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n      router\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"template-string\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"`\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation-punctuation\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"${\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"routers\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"SCENE_RETAIL_SHOP\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation-punctuation\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"/`\"}]}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      pageNum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      terms\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n        prop\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"'userId'\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n        value\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" ticketId\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"concat\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"esRes\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"||\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"[\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"if\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"esRes\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"totalCount \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"-\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"&&\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"length \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" shopList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"shopListByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageNum \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"+\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n      dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"concat\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"shopList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"return\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]},{\"type\":\"text\",\"value\":\"\\n      \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 39.71238938053097%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz62S2w6CMBBE+f+vJAqU0na7BRFBk3GoRkP0SXw42UvS2Wl2CxcUrQyI44LTNON8WTA+4y8UnRfUvsdw3i+WBa0LaJxs3O1yaDoPE3qMuTH/x2HQ08bdHigo2eFlvmameSHXV/3m9tGbvtRFZR0OlouJgsrz+9x4GwcOiWiCoBFFvcYnjz7x63X0sJJyXjtFx3fF0UUKKcrW49gJSoofeEpWBTYJ2sSlqcuYFNmPMJpQRYppz+EpDzAUtszvPPNo5XA+GtIAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"request  \",\"title\":\"\",\"src\":\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png\",\"srcSet\":[\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-bed0f.png 200w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-5fd34.png 400w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png 800w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-b70ec.png 1200w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-d134a.png 1600w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png 1808w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \\n把url拼装后发现得出结果\\n\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 57.17439293598234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz6WRy27CMBBF8/+/UVEgJHYSKLCo1BUbuiiIFaq6oRJFpJC3nQDidhywUEJb9THS1ciW75kZjzH0PLg2B2u34JomeozhjnN0bRs90sB10Hc4+nQ39Fy6szAajTCZzTCdPOFxPMZD18OA2bjvuTCYZYGRkZNcgpmtJlqNBiyzDbtjlrkqEw6ZebOJmzbDbYfDoWIOeZUM1ELmOYIgRFHs8F2I5xdMlznm6+o7Y7/fQ+twOGCzjeAHKYIoRUhKU3GtTELsyEPFlZSv9JPKDo/HYykVWZwg9H1kWQ4hC0iSEHmZpTxnOguC6jeVDjVMAwshkLwukEbZySguEHkuIGuFdCjGNTDfIXnbIH0PIeKs7ESbRQ36KbA+slpGst4iUR0SXFRGLv4IXPqIwuTS2b86pEfxYoU0iL8c9XdA9Yer0x+qrWqT+OFSPgBuojs0ShyxCAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"elasticsearch\",\"title\":\"\",\"src\":\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png\",\"srcSet\":[\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-bed0f.png 200w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-5fd34.png 400w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png 800w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-b70ec.png 1200w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-d134a.png 1600w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png 1812w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"回顾\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果是一个请求造成了,内存暴增, 我们可以推断,有用户发送的http请求会中断 ; 然后我查询了nginx监控日志 (近期刚做监控,还没全面推广)\\n通过图发现确实是如此,而且最后一个参数为undefined; 虽然马后炮没什么用, 但如果能解决这个问题,可能就不会有这么一遭经历了. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们再来验证下线索:\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“崩溃不定期发生”: 是因为有用户触发此请求才会导致,而且只有一个node进程崩溃;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“没有用户反馈”: 此功能非重要页面,用户会重新刷新,退出; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“有3种崩溃的情况,不只是一种”: 嵌套调用有时间间隔(异步) , 有可能此时dubbo正好返回,导致内存撑爆,故而3种情况甚至更多情况都会出现,只要有申请内存操作的都有机率出现; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 54.93741307371349%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz21S227TQBD1pyAQUgUhtE3S0pImIUCrtCIPCArijS/gt5C4BNLSVogvgbTQJLSOL0ns9X3XPsyuY9SHrjWyZ7Q+c86c0d7tvsLrvbdoVp/h+OAH4jiBO2cQPEWaZrjuZFl2NcljcbRuax+7zX00KnvofzrCRDegX+q4vNBhTExYlg3bmMA6+wnz9wBhECjAJEkQUfPENsE9hjjh4JRrO/UX6LbfoFXr4vjLCbJUwHVc+J4Pz/Pg+wFm9hT2eISEOcQ6VeExD0EYIp7aEIEPn75NZwZt++FzdBovsbXSQf/zCcKQw5nTBS8CcwMEfgQuu4v0eslFjZ5IEMPHG13IWCu1CfCIugoYFoM99WHNIljzeDHLjOSGiKI8T6kBcxmpYYpx0USrV3bQqHZQvdPEt/53VUyIUfGTELk5hVQZ0gT5Nm0XhumAc65qElTbXHmKemUbq0tbOKQZyjMlyXNHzjCAQ7IZyfeYD5dFZARXdySgNEJcNVwyXL/fxsbyE5Rvb+Lwaw7IWACXgBwWwwtoflwoFgnPGRfbkpARKRklfDJv6iImM7VaqYm18iOUbq2j3ztaSE6UTKEkCyUlW8jOskJ+hoDAMtcGd13YQwOeYRHgvSYeLLdx92YNvY8HtCY+zv8M8Xd8oXZyMjHUTpp0Wdbkjur6hMyJ8llTwygkNY5DI/IJsNwihi0s3VjFh/c92LRzp4MzDH6dYng+UjEajlWMR+P/eUxuy+YF6zhJaSQZ/gHEdAXLpZ7t9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"sentry  \",\"title\":\"\",\"src\":\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png\",\"srcSet\":[\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-bed0f.png 200w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-5fd34.png 400w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png 800w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-b70ec.png 1200w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-d134a.png 1600w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-f6ead.png 2400w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png 2876w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \\n\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVQoz21S227TQBD1nyCBBIg2pZekJSVt2lBatRKRQMBDeeUH+C1EaUoSCoivQQ1xEju+rL27vh52xgkgxFqjnfXsnDlnZq13z87xpvsWR83nuO5/R6JThL5AnuUoihL/W2X59/+Sz2zms7rtVzhrv8be5hl67weY2BPYYxvjnzZm0xkcx4HrurzTWUrJyWmaQesESZIhSxdmfOuk9RLdzjkOG10ML4aGWYrADxBFESJRme/5cJ25SU6Q58S84P8yltAEaNRIpTAN5rCOH7+oGG6cYnj1jUWIgC4ryEhBhDG0SjhpofAfydXKTRGdp7CeNLsga6wcGsCvHFQGLDFy0iQ1UipGBFLkBfvU35x8YyyV+p1Xd6zW1gn266eoP2hj0PvCgIHQEHEKpTOURZW4BCDAqncp+3EkufjybO1uPEVr6xib9/fQv7yGTICRHWA8jeB6MV9WSjMIGTGi3jmOy3sQhAxW7QmsnYcdNNePsHZ3F58+foZRiMlMYDaX8EPFl6mHzGoBqKTiQWlTSAhhJp7ykKhFVmO1je3aAVbv7ODKTDnWJX6MPNyMQ0wdwcmxYaKkNk9G8TvVWiMMBTOiWJZVrKm3VqPWxqP1DlZuN9C7GECmwI0dYmQkO57kqssBEVsaABXx5p5pBb0CwTFiSjGrXtvH9toB7t3awOWH/kJyiJkbw/NjlkUAtJNRMgH9kRz9lkwMfwGr0QhOp27L5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"sentry2\",\"title\":\"\",\"src\":\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png\",\"srcSet\":[\"/static/sentry2-30c51a39024573ffb6bb984387e45725-bed0f.png 200w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-5fd34.png 400w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png 800w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-b70ec.png 1200w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-d134a.png 1600w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-f6ead.png 2400w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png 2880w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"小结\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ul\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"重视线上报错告警信息,每一个错都是一个潜在的雷,不排除,就被炸,问题越早发现处理成本越低,处理起来越简单; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"重视代码规范(价值观),各环节的参数校验要到位,现在没问题不代表以后没问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"现场只告诉你信息,原因要结合场景进行一些推断, 工具是还没那么智能的告诉你那里出问题了; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"工具链非常重要,进程崩溃没有引发大范围业务问题,问题相关的定位太感谢相关的工具(alinode lldb sentry logserver,bugatti),好的工具链能营造一个好的开发体验,让我们便捷的去解决问题;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"参考文章\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://zhuanlan.zhihu.com/p/41178823?spm=a2c4g.11186623.2.23.31636df2AekZJO\"},\"children\":[{\"type\":\"text\",\"value\":\"Node 案发现场揭秘 —— Coredump 还原线上异常\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://www.bookstack.cn/read/node-in-debugging/2.1gcorellnode.md\"},\"children\":[{\"type\":\"text\",\"value\":\"Node.js 调试指南\"}]}]}],\"data\":{\"quirksMode\":false}},\"fields\":{\"slug\":\"/警告\\\"node OOM\\\"了/\",\"prefix\":\"2019-01-28\"},\"frontmatter\":{\"title\":\"bug不解决,如何过年-node OOM\",\"subTitle\":\"5块钱的bug,怎么变成了用1.5W的成本 !\",\"cover\":null}},\"author\":{\"id\":\"/Users/dong/dong/blogs/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>游大千世界,看大千世界,认知世界!</p>\"},\"footnote\":{\"id\":\"/Users/dong/dong/blogs/content/parts/footnote.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I am a coder who solves the problem<a href=\\\"/about/\\\">contact</a></p>\"},\"site\":{\"siteMetadata\":{\"facebook\":{\"appId\":\"coder.yang2001@gmail.com\"}}}},\"pathContext\":{\"slug\":\"/警告\\\"node OOM\\\"了/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---警告-node-oom-了-1b752cdadb4ef0cdab0f.js","module.exports = {\"data\":{\"post\":{\"id\":\"/Users/dong/dong/blogs/content/posts/2019-01-28--警告\\\"node OOM\\\"了/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>bug还没解决,如何过年?</p>\\n<p>不是标题党,确实是出了线上问题, 线上不间断出现oom问题,还有一周就过年了,问题不解决,如何能安心过年,过年的时候出问题,估计客户会把我们撕的碎碎的.</p>\\n<p>为什么说 “5块钱的bug,怎么变成了用1.5W的成本”? 如果及早发现这个问题,一个人5分钟就搞定,但我们三个人却用了5天(包含周未);至于说为什么, </p>\\n<h2>现象</h2>\\n<p>在”主动发现问题行动”的推动下配置了alinode的告警,然后就有报警出现了,. </p>\\n<p>报警: “已用堆内存超过堆上限的 80%，当前为 82.31%“;</p>\\n<p>再仔细一查, 不得了了.比报警内容还坏, 我们遇到的不是内存泄漏,而是oom崩溃, 而且是突发式的.一但发生立马崩溃,不给你半点时间;\\n幸好进程会自动拉起. nginx也有健康状态检查,会自动分流; </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.44386422976501%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz61SXU/CQBDs3/bZB1+NCEpM0BhBrARJ9Ff47E9ATYiQAu19362z26viu4TJTuf25m62LY6OT2jx/EJ305ImD49/cF/OaFKCo47xzJh0Gvh0Nqex7CvpCR7lfEHF6esb/eevGF7fCqnqhvbaUJ2xA9Z7aND52Xsv64ymg0FPo2mzb/ca56gY3bSG1nmKMZH1gQw2OyClRCFGwS9PFMFNCOj1osWDnmJ4NRJDD3dZQGMEuEpTBq8laCCCVg8/6wyPw4qz/oUY1lpLLJ9vp3HjDeIoa+XWfHplHFXW0Rr1C1gBa20R19JKO1IhUnE+uBTDHUQncQPVFvOCYWVQwRU0jrkF37qAtYDqaZfBhyvA45ZFr98a+jwzFr1ERjRK+Lfg+LzR5WgW1aDHCk+iywx7g6EYGtO+yZDn53ErjXisxTzPD2VpqRy9H2DZWNE/AcuRO0OF1+7y/BgcfcufAkxdjqzAVY7XoWHNWHAnh34DQ6P021JG5RoAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"cpu   \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png\\\"\\n        srcset=\\\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-bed0f.png 200w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-5fd34.png 400w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png 800w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-b70ec.png 1200w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-d134a.png 1600w,\\n/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png 1915w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>随后开启服务器coredump,把进程崩溃的现场信息留下来,等了一天,便可以在alinode管理端获取coredump列表.</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.62565172054223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz3WRWUsDMRSF50cLgg8+CvrghgWtWqa009YK+p9E0E5mXzJLJjneJNM6dQkccudOzpeTxDk4Oob39IzxxMWjO8Xh2MXJZA5vsYTrLTEdar7YySXNFiu4s7nR+uUV3moNZ3Q/gR6VBBqaP2hmpBZWVJp+1UsO1A1qvVaRnKvRLZK2gx+ECKIYWZKiyHNEaYpNxODTd0BK8wJJVlA/R0b1nooSSRyTr4Bzc/cAn8jaxFiAoiyhpEKnBHzO8FY1SOrWnEIphbKTZrZD6aatKvK1DZxLShhQI0wzhFGEknNIDZQCjId4J2Ba2wNJMnMCtvRfmE2VgSsD5BZ4en6NsE8YhCHKbUIDDAww6YHaXBOwlhKNtOBvYJ/w7OIHcC8hHZk3iAfAqk+o0+0n/AfIe6CQLd1hgrARKFuxA7bSJtRJdcr/gXSHrE+oeuAnLRJk7LrOGkmSIPYh1G6TX8CIGixOsGHM3KE2dQTcVAUaISHEPnBbqz8e5Qskv+7Nf51IDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"alinodecoredump  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png\\\"\\n        srcset=\\\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-bed0f.png 200w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-5fd34.png 400w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png 800w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b70ec.png 1200w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-d134a.png 1600w,\\n/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png 1918w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>有了这些信息,就可以开展分析工作了;</p>\\n<h2>线索</h2>\\n<ol>\\n<li>崩溃不定期发生,然而线上机器大概率发生, 灰度 机器并不发生;一台机器中个别进程崩溃;</li>\\n<li>查看其他应用并没有发生崩溃的问题; </li>\\n<li>近期上了健康检查与全链路跟踪; </li>\\n<li>线上虽有崩溃,然而并没有用户反馈有问题;</li>\\n<li>有3种崩溃的情况,不只是一种;</li>\\n</ol>\\n<h2>解决角度</h2>\\n<p>根据对coredump内容分析,有三个解决角度</p>\\n<ol>\\n<li>查看heap中占比最大的对象;</li>\\n<li>zoneContext导致;</li>\\n<li>urllib所发出的请求导致出问题; </li>\\n</ol>\\n<p>看了之后特别怀疑问题2, 原因有两点: </p>\\n<ol>\\n<li>最近我们上线了zipkin全链路跟踪;</li>\\n<li>zoneContex 所使用的async_hook还是实验特性 (不会入坑了吧. );</li>\\n<li>nginx有健康检查,会不停发请求; </li>\\n</ol>\\n<h3>线索1:查看heap中占比最大的对象</h3>\\n<p>本以为手到病除, 然而一看coredump中对象列表就傻眼了.没有统计,没有规律,只显示object有600多M,但是什么对象就是找不到.\\n就好比告诉你凶手就在茫茫人海中,说了几乎跟没说一样.. </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz61S204CMRTc3/bJB/9A0GCQ4BUVCGiMv2RUILvb7b1bxtnuSngTE5tMzml7MmfOtNnR8QlmyxeMb+9xfTdJmDzN8DCdp/iT7+8n0zY+zhftPfH8+obpYomsIUhru8V/rOzicow6RryvNsiFhJAKZSWZV5DawHsPYy0s4Zg718B1sb0zxqazpjYbjW8obgupFJTRUFpDG7ODtW5HoHmnlN6RSjZvyXyqS4TD0VWSKnmgvYNioSE098qSwIfU8FBk/V6f/kWUmy8YkcPJiqPV7Fa3I9YB8U+E54OkMM8/oasCmmMoa1p1LtDftjAeTDgYJkJhVDeygXA6KavriLp5/T38SnjWKVznBV+34CsLVMrQx0BfVfJSu5rNYlLc2BFCICIcowueOS3iPsRG4WkPoBqx/oAqV/CigC9zRCptxoz8UrEbOR4w+jeYYvTBidXgwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"objectlist\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png\\\"\\n        srcset=\\\"/static/objectlist-a05ede811a97962799580ec1102498f4-bed0f.png 200w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-5fd34.png 400w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png 800w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-b70ec.png 1200w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-d134a.png 1600w,\\n/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png 1914w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>尝试用概率的方法来人肉统计一次,然而次次无功而返;当然不依赖alinode对coredump进行分析,然而考虑到时间成本再试下别一个角度</p>\\n<h3>线索2:zoneContext导致</h3>\\n<p>朝着这个方向走,检查了zonecontext的代码,然而并没有看出什么问题, 只好忌出大法(范围缩小跟踪)</p>\\n<p>我们使用zonecontext的地方有两个,1) 全链路跟踪,2) dubbolog . 而 全链路跟踪是新上的功能,且是关键节点,dubbolog记录是很久上的,且业务应用也有使用</p>\\n<p>我们选择关闭了zipkin全链路跟踪,关闭了nginx健康检查(会发送大量请求); </p>\\n<p>理想总是美好的, 然而实现却啪啪啪的打脸. 把这些都关闭了线上还在出问题;囧了. 众多迹象证明问题不在zonecontext&#x26;async_hook</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.36534446764092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz62R20oDMRRF5799EPwBL9WiWKRY6/RKKVj0p+zccptkZrY7SS31RefBwOLMIWHNSXZydn6B3fsHJukcr/MlZqs10sUKL+xny3VgOlsETvuUdbHehHOTaYrt2w6rzRbJaPwMv9q2xX+sZHD/iEwqFFkOxSqFYJXQRFZV7LWGJtLvKwWldKi+14c9peJ38vg0DuY8K5FXFJNSkEJAEqsNmqbpSYtk+DAKwk9pkCmHvbLItYOyDeq2Q3e8TBfout9JLm/uwvF9pSmsef0auZcSVTsI42Bc/LvnT+HV7TAKhRdGUantUVpwWo+sG7i2j3AQhRknzKUN0oLCgtOWnFYZi4YTdnyjro/w+iAsMsVQahSUCoZimbITEvYbJtpY13/C8IaUVZxMMCBp4jU9xrUnMCyiGZrxwbmfU38BNrX0HLADTrYAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  1\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png\\\"\\n        srcset=\\\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-bed0f.png 200w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-5fd34.png 400w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png 800w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-b70ec.png 1200w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-d134a.png 1600w,\\n/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png 1916w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.54887611082071%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQoz52R227UMBRF8+E8VOIHqCoEiGlLp+k0HbVIFV+EaKYT6CR24nh8zWbbYUB94CIsLe1zLHn5WC5eHL3E+v4TFssVTssKi8trnDE/XFU4J8vrG1xVa5TMMuUB9qv1LS5XFesKd3RUtx9RpI20PIkkkAn/v4rF+TKLvgqFp2GfadXz7EaDYW+hjYP3Ho7431BclKtsbtNB7dCODv3eQbCWTO0ClPWwPiDGCdP0ZzjhRRbuKEySgyhlEhkfKeMbpr/LsvD12/ezsNc/ZbPQomffp2RvOOE/Cd+8W2ShEEnoIfZ+liaRsjBKIziPECOffGDKH8fzcx6YhfOEcjdA9nx2/gQLqQwka9MPsELCdgImJXuvNaJ3mIJ/Di8rTl4dA4PC5vMWTd3gC6m3LR6aDo/NE3b1I8TDhtSQNXOzhWi+QXVdZuBFw66FFi2iVijK9MshcELJCUf0RMsBioy8yI06TxSs/YFBdHbG2l81SVN+B9R48ELdeLncAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  2\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png\\\"\\n        srcset=\\\"/static/原因2-8476e1f72ff45b0e087e85029010b116-bed0f.png 200w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-5fd34.png 400w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png 800w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-b70ec.png 1200w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-d134a.png 1600w,\\n/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png 1913w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>线索3:urllib所发出的请求导致出问题</h3>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQoz62P3U/CMBTF94f7YOKj4cFvjALyNb6UaIjx7zEBum7tZKxbuxFyvC0ixAcTiU1+ubfntKe33tHxCSavb2h2fHR6A/jDR/iDEdp+H81uD93+0Gm2tvf8Fvn90RN8q/s9jF8mGI2f4dmg/1xe9b6BbA2IRCHJDFSuHbkukJsCWb7Tfu8N3THwag8tZLrEVKRIcwrQh6OLFU14V4eiDRMJTVS6qTb1b9hAYwPPLm+QU8Pj5bdhyf+CKXaB51dV6HINuVBfgYQ5gO2XL65voc0KEU1YkGHoNWNfc7XcsNX3vR9oN2EJr3JawXKp8D6dY8YZZiwAC2MEPATjtueYB5x6Tr7VQrefM05nBLjVmNUipIsFvEatjkwpsCBwh3kYQcgYUoSI4xDyg0PK0BHFAjK2voAQEWlyUwXpdEenCT4B5hHp8GL2ofMAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"  2  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png\\\"\\n        srcset=\\\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-bed0f.png 200w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-5fd34.png 400w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png 800w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-b70ec.png 1200w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-d134a.png 1600w,\\n/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png 1914w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>根据报错信息组装并打开urllib发出的请求,可以看到请求(<a href=\\\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&#x26;from=311200\\\">http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&#x26;from=311200</a>)的具体信息,里面有几点是不正确的. </p>\\n<ol>\\n<li>门店查询为什么没有店家编号; </li>\\n<li>从311200即1556页开始查询,那个用户会能这么无聊;</li>\\n<li>查询这么多就是没有什么意义的;</li>\\n</ol>\\n<p>基于这个线索我们深入查看了代码.  终于剥开迷雾; 在查找代码后发现这段逻辑中有嵌套调用,无限循环; </p>\\n<p>当通过手机号能查询到用户时, 一切正常,而当通过手机号查询不到用户时,便变成了查询所有店铺列表;</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"typescript\\\">\\n      <pre class=\\\"language-typescript\\\"><code class=\\\"language-typescript\\\">  <span class=\\\"token comment\\\">/**\\n   * 根据ticketId查询查询店铺列表\\n   */</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token function\\\">shopListByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">,</span> pageSize<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">number</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">200</span><span class=\\\"token punctuation\\\">,</span> pageNum<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token builtin\\\">number</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> ticketId <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>ctx<span class=\\\"token punctuation\\\">.</span>service<span class=\\\"token punctuation\\\">.</span>ucFetch<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">fetchTicketIdByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token constant\\\">ES</span> <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>ctx<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> dataList <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> esRes <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token constant\\\">ES</span><span class=\\\"token punctuation\\\">.</span>pagingQuery<span class=\\\"token operator\\\">&lt;</span>IConnectionInfo<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n      router<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span><span class=\\\"token constant\\\">ES</span><span class=\\\"token punctuation\\\">.</span>routers<span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">SCENE_RETAIL_SHOP</span><span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">/`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      pageSize<span class=\\\"token punctuation\\\">,</span>\\n      pageNum<span class=\\\"token punctuation\\\">,</span>\\n      terms<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        prop<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'userId'</span><span class=\\\"token punctuation\\\">,</span>\\n        value<span class=\\\"token punctuation\\\">:</span> ticketId<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    dataList <span class=\\\"token operator\\\">=</span> dataList<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>esRes<span class=\\\"token punctuation\\\">.</span>dataList <span class=\\\"token operator\\\">||</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>esRes<span class=\\\"token punctuation\\\">.</span>totalCount <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">200</span> <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span> <span class=\\\"token operator\\\">&amp;&amp;</span> dataList<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">></span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> shopList <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">shopListByPhonenum</span><span class=\\\"token punctuation\\\">(</span>phonenum<span class=\\\"token punctuation\\\">,</span> pageSize<span class=\\\"token punctuation\\\">,</span> pageNum <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      dataList <span class=\\\"token operator\\\">=</span> dataList<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>shopList<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">return</span> dataList<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 39.71238938053097%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz62S2w6CMBBE+f+vJAqU0na7BRFBk3GoRkP0SXw42UvS2Wl2CxcUrQyI44LTNON8WTA+4y8UnRfUvsdw3i+WBa0LaJxs3O1yaDoPE3qMuTH/x2HQ08bdHigo2eFlvmameSHXV/3m9tGbvtRFZR0OlouJgsrz+9x4GwcOiWiCoBFFvcYnjz7x63X0sJJyXjtFx3fF0UUKKcrW49gJSoofeEpWBTYJ2sSlqcuYFNmPMJpQRYppz+EpDzAUtszvPPNo5XA+GtIAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"request  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png\\\"\\n        srcset=\\\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-bed0f.png 200w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-5fd34.png 400w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png 800w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-b70ec.png 1200w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-d134a.png 1600w,\\n/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png 1808w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n把url拼装后发现得出结果\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 57.17439293598234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz6WRy27CMBBF8/+/UVEgJHYSKLCo1BUbuiiIFaq6oRJFpJC3nQDidhywUEJb9THS1ciW75kZjzH0PLg2B2u34JomeozhjnN0bRs90sB10Hc4+nQ39Fy6szAajTCZzTCdPOFxPMZD18OA2bjvuTCYZYGRkZNcgpmtJlqNBiyzDbtjlrkqEw6ZebOJmzbDbYfDoWIOeZUM1ELmOYIgRFHs8F2I5xdMlznm6+o7Y7/fQ+twOGCzjeAHKYIoRUhKU3GtTELsyEPFlZSv9JPKDo/HYykVWZwg9H1kWQ4hC0iSEHmZpTxnOguC6jeVDjVMAwshkLwukEbZySguEHkuIGuFdCjGNTDfIXnbIH0PIeKs7ESbRQ36KbA+slpGst4iUR0SXFRGLv4IXPqIwuTS2b86pEfxYoU0iL8c9XdA9Yer0x+qrWqT+OFSPgBuojs0ShyxCAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"elasticsearch\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png\\\"\\n        srcset=\\\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-bed0f.png 200w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-5fd34.png 400w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png 800w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-b70ec.png 1200w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-d134a.png 1600w,\\n/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png 1812w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>回顾</h2>\\n<p>如果是一个请求造成了,内存暴增, 我们可以推断,有用户发送的http请求会中断 ; 然后我查询了nginx监控日志 (近期刚做监控,还没全面推广)\\n通过图发现确实是如此,而且最后一个参数为undefined; 虽然马后炮没什么用, 但如果能解决这个问题,可能就不会有这么一遭经历了. </p>\\n<p>我们再来验证下线索:</p>\\n<p>“崩溃不定期发生”: 是因为有用户触发此请求才会导致,而且只有一个node进程崩溃;</p>\\n<p>“没有用户反馈”: 此功能非重要页面,用户会重新刷新,退出; </p>\\n<p>“有3种崩溃的情况,不只是一种”: 嵌套调用有时间间隔(异步) , 有可能此时dubbo正好返回,导致内存撑爆,故而3种情况甚至更多情况都会出现,只要有申请内存操作的都有机率出现; </p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 54.93741307371349%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz21S227TQBD1pyAQUgUhtE3S0pImIUCrtCIPCArijS/gt5C4BNLSVogvgbTQJLSOL0ns9X3XPsyuY9SHrjWyZ7Q+c86c0d7tvsLrvbdoVp/h+OAH4jiBO2cQPEWaZrjuZFl2NcljcbRuax+7zX00KnvofzrCRDegX+q4vNBhTExYlg3bmMA6+wnz9wBhECjAJEkQUfPENsE9hjjh4JRrO/UX6LbfoFXr4vjLCbJUwHVc+J4Pz/Pg+wFm9hT2eISEOcQ6VeExD0EYIp7aEIEPn75NZwZt++FzdBovsbXSQf/zCcKQw5nTBS8CcwMEfgQuu4v0eslFjZ5IEMPHG13IWCu1CfCIugoYFoM99WHNIljzeDHLjOSGiKI8T6kBcxmpYYpx0USrV3bQqHZQvdPEt/53VUyIUfGTELk5hVQZ0gT5Nm0XhumAc65qElTbXHmKemUbq0tbOKQZyjMlyXNHzjCAQ7IZyfeYD5dFZARXdySgNEJcNVwyXL/fxsbyE5Rvb+Lwaw7IWACXgBwWwwtoflwoFgnPGRfbkpARKRklfDJv6iImM7VaqYm18iOUbq2j3ztaSE6UTKEkCyUlW8jOskJ+hoDAMtcGd13YQwOeYRHgvSYeLLdx92YNvY8HtCY+zv8M8Xd8oXZyMjHUTpp0Wdbkjur6hMyJ8llTwygkNY5DI/IJsNwihi0s3VjFh/c92LRzp4MzDH6dYng+UjEajlWMR+P/eUxuy+YF6zhJaSQZ/gHEdAXLpZ7t9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"sentry  \\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png\\\"\\n        srcset=\\\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-bed0f.png 200w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-5fd34.png 400w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png 800w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-b70ec.png 1200w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-d134a.png 1600w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-f6ead.png 2400w,\\n/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png 2876w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVQoz21S227TQBD1nyCBBIg2pZekJSVt2lBatRKRQMBDeeUH+C1EaUoSCoivQQ1xEju+rL27vh52xgkgxFqjnfXsnDlnZq13z87xpvsWR83nuO5/R6JThL5AnuUoihL/W2X59/+Sz2zms7rtVzhrv8be5hl67weY2BPYYxvjnzZm0xkcx4HrurzTWUrJyWmaQesESZIhSxdmfOuk9RLdzjkOG10ML4aGWYrADxBFESJRme/5cJ25SU6Q58S84P8yltAEaNRIpTAN5rCOH7+oGG6cYnj1jUWIgC4ryEhBhDG0SjhpofAfydXKTRGdp7CeNLsga6wcGsCvHFQGLDFy0iQ1UipGBFLkBfvU35x8YyyV+p1Xd6zW1gn266eoP2hj0PvCgIHQEHEKpTOURZW4BCDAqncp+3EkufjybO1uPEVr6xib9/fQv7yGTICRHWA8jeB6MV9WSjMIGTGi3jmOy3sQhAxW7QmsnYcdNNePsHZ3F58+foZRiMlMYDaX8EPFl6mHzGoBqKTiQWlTSAhhJp7ykKhFVmO1je3aAVbv7ODKTDnWJX6MPNyMQ0wdwcmxYaKkNk9G8TvVWiMMBTOiWJZVrKm3VqPWxqP1DlZuN9C7GECmwI0dYmQkO57kqssBEVsaABXx5p5pBb0CwTFiSjGrXtvH9toB7t3awOWH/kJyiJkbw/NjlkUAtJNRMgH9kRz9lkwMfwGr0QhOp27L5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"sentry2\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png\\\"\\n        srcset=\\\"/static/sentry2-30c51a39024573ffb6bb984387e45725-bed0f.png 200w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-5fd34.png 400w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png 800w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-b70ec.png 1200w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-d134a.png 1600w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-f6ead.png 2400w,\\n/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png 2880w\\\"\\n        sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>小结</h2>\\n<ul>\\n<li>重视线上报错告警信息,每一个错都是一个潜在的雷,不排除,就被炸,问题越早发现处理成本越低,处理起来越简单; </li>\\n<li>重视代码规范(价值观),各环节的参数校验要到位,现在没问题不代表以后没问题; </li>\\n<li>现场只告诉你信息,原因要结合场景进行一些推断, 工具是还没那么智能的告诉你那里出问题了; </li>\\n<li>工具链非常重要,进程崩溃没有引发大范围业务问题,问题相关的定位太感谢相关的工具(alinode lldb sentry logserver,bugatti),好的工具链能营造一个好的开发体验,让我们便捷的去解决问题;</li>\\n</ul>\\n<h2>参考文章</h2>\\n<p><a href=\\\"https://zhuanlan.zhihu.com/p/41178823?spm=a2c4g.11186623.2.23.31636df2AekZJO\\\">Node 案发现场揭秘 —— Coredump 还原线上异常</a>\\n<a href=\\\"https://www.bookstack.cn/read/node-in-debugging/2.1gcorellnode.md\\\">Node.js 调试指南</a></p>\",\"htmlAst\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"bug还没解决,如何过年?\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"不是标题党,确实是出了线上问题, 线上不间断出现oom问题,还有一周就过年了,问题不解决,如何能安心过年,过年的时候出问题,估计客户会把我们撕的碎碎的.\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"为什么说 “5块钱的bug,怎么变成了用1.5W的成本”? 如果及早发现这个问题,一个人5分钟就搞定,但我们三个人却用了5天(包含周未);至于说为什么, \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"现象\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"在”主动发现问题行动”的推动下配置了alinode的告警,然后就有报警出现了,. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"报警: “已用堆内存超过堆上限的 80%，当前为 82.31%“;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"再仔细一查, 不得了了.比报警内容还坏, 我们遇到的不是内存泄漏,而是oom崩溃, 而且是突发式的.一但发生立马崩溃,不给你半点时间;\\n幸好进程会自动拉起. nginx也有健康状态检查,会自动分流; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.44386422976501%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz61SXU/CQBDs3/bZB1+NCEpM0BhBrARJ9Ff47E9ATYiQAu19362z26viu4TJTuf25m62LY6OT2jx/EJ305ImD49/cF/OaFKCo47xzJh0Gvh0Nqex7CvpCR7lfEHF6esb/eevGF7fCqnqhvbaUJ2xA9Z7aND52Xsv64ymg0FPo2mzb/ca56gY3bSG1nmKMZH1gQw2OyClRCFGwS9PFMFNCOj1osWDnmJ4NRJDD3dZQGMEuEpTBq8laCCCVg8/6wyPw4qz/oUY1lpLLJ9vp3HjDeIoa+XWfHplHFXW0Rr1C1gBa20R19JKO1IhUnE+uBTDHUQncQPVFvOCYWVQwRU0jrkF37qAtYDqaZfBhyvA45ZFr98a+jwzFr1ERjRK+Lfg+LzR5WgW1aDHCk+iywx7g6EYGtO+yZDn53ErjXisxTzPD2VpqRy9H2DZWNE/AcuRO0OF1+7y/BgcfcufAkxdjqzAVY7XoWHNWHAnh34DQ6P021JG5RoAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"cpu   \",\"title\":\"\",\"src\":\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png\",\"srcSet\":[\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-bed0f.png 200w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-5fd34.png 400w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png 800w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-b70ec.png 1200w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-d134a.png 1600w\",\"/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png 1915w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"随后开启服务器coredump,把进程崩溃的现场信息留下来,等了一天,便可以在alinode管理端获取coredump列表.\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.62565172054223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz3WRWUsDMRSF50cLgg8+CvrghgWtWqa009YK+p9E0E5mXzJLJjneJNM6dQkccudOzpeTxDk4Oob39IzxxMWjO8Xh2MXJZA5vsYTrLTEdar7YySXNFiu4s7nR+uUV3moNZ3Q/gR6VBBqaP2hmpBZWVJp+1UsO1A1qvVaRnKvRLZK2gx+ECKIYWZKiyHNEaYpNxODTd0BK8wJJVlA/R0b1nooSSRyTr4Bzc/cAn8jaxFiAoiyhpEKnBHzO8FY1SOrWnEIphbKTZrZD6aatKvK1DZxLShhQI0wzhFGEknNIDZQCjId4J2Ba2wNJMnMCtvRfmE2VgSsD5BZ4en6NsE8YhCHKbUIDDAww6YHaXBOwlhKNtOBvYJ/w7OIHcC8hHZk3iAfAqk+o0+0n/AfIe6CQLd1hgrARKFuxA7bSJtRJdcr/gXSHrE+oeuAnLRJk7LrOGkmSIPYh1G6TX8CIGixOsGHM3KE2dQTcVAUaISHEPnBbqz8e5Qskv+7Nf51IDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"alinodecoredump  \",\"title\":\"\",\"src\":\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png\",\"srcSet\":[\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-bed0f.png 200w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-5fd34.png 400w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png 800w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b70ec.png 1200w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-d134a.png 1600w\",\"/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png 1918w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"有了这些信息,就可以开展分析工作了;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"崩溃不定期发生,然而线上机器大概率发生, 灰度 机器并不发生;一台机器中个别进程崩溃;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看其他应用并没有发生崩溃的问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"近期上了健康检查与全链路跟踪; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线上虽有崩溃,然而并没有用户反馈有问题;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"有3种崩溃的情况,不只是一种;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"解决角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据对coredump内容分析,有三个解决角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查看heap中占比最大的对象;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"zoneContext导致;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"urllib所发出的请求导致出问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"看了之后特别怀疑问题2, 原因有两点: \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"最近我们上线了zipkin全链路跟踪;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"zoneContex 所使用的async_hook还是实验特性 (不会入坑了吧. );\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"nginx有健康检查,会不停发请求; \"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索1:查看heap中占比最大的对象\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"本以为手到病除, 然而一看coredump中对象列表就傻眼了.没有统计,没有规律,只显示object有600多M,但是什么对象就是找不到.\\n就好比告诉你凶手就在茫茫人海中,说了几乎跟没说一样.. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz61S204CMRTc3/bJB/9A0GCQ4BUVCGiMv2RUILvb7b1bxtnuSngTE5tMzml7MmfOtNnR8QlmyxeMb+9xfTdJmDzN8DCdp/iT7+8n0zY+zhftPfH8+obpYomsIUhru8V/rOzicow6RryvNsiFhJAKZSWZV5DawHsPYy0s4Zg718B1sb0zxqazpjYbjW8obgupFJTRUFpDG7ODtW5HoHmnlN6RSjZvyXyqS4TD0VWSKnmgvYNioSE098qSwIfU8FBk/V6f/kWUmy8YkcPJiqPV7Fa3I9YB8U+E54OkMM8/oasCmmMoa1p1LtDftjAeTDgYJkJhVDeygXA6KavriLp5/T38SnjWKVznBV+34CsLVMrQx0BfVfJSu5rNYlLc2BFCICIcowueOS3iPsRG4WkPoBqx/oAqV/CigC9zRCptxoz8UrEbOR4w+jeYYvTBidXgwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"objectlist\",\"title\":\"\",\"src\":\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png\",\"srcSet\":[\"/static/objectlist-a05ede811a97962799580ec1102498f4-bed0f.png 200w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-5fd34.png 400w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png 800w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-b70ec.png 1200w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-d134a.png 1600w\",\"/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png 1914w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"尝试用概率的方法来人肉统计一次,然而次次无功而返;当然不依赖alinode对coredump进行分析,然而考虑到时间成本再试下别一个角度\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索2:zoneContext导致\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"朝着这个方向走,检查了zonecontext的代码,然而并没有看出什么问题, 只好忌出大法(范围缩小跟踪)\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们使用zonecontext的地方有两个,1) 全链路跟踪,2) dubbolog . 而 全链路跟踪是新上的功能,且是关键节点,dubbolog记录是很久上的,且业务应用也有使用\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们选择关闭了zipkin全链路跟踪,关闭了nginx健康检查(会发送大量请求); \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"理想总是美好的, 然而实现却啪啪啪的打脸. 把这些都关闭了线上还在出问题;囧了. 众多迹象证明问题不在zonecontext&async_hook\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.36534446764092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz62R20oDMRRF5799EPwBL9WiWKRY6/RKKVj0p+zccptkZrY7SS31RefBwOLMIWHNSXZydn6B3fsHJukcr/MlZqs10sUKL+xny3VgOlsETvuUdbHehHOTaYrt2w6rzRbJaPwMv9q2xX+sZHD/iEwqFFkOxSqFYJXQRFZV7LWGJtLvKwWldKi+14c9peJ38vg0DuY8K5FXFJNSkEJAEqsNmqbpSYtk+DAKwk9pkCmHvbLItYOyDeq2Q3e8TBfout9JLm/uwvF9pSmsef0auZcSVTsI42Bc/LvnT+HV7TAKhRdGUantUVpwWo+sG7i2j3AQhRknzKUN0oLCgtOWnFYZi4YTdnyjro/w+iAsMsVQahSUCoZimbITEvYbJtpY13/C8IaUVZxMMCBp4jU9xrUnMCyiGZrxwbmfU38BNrX0HLADTrYAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  1\",\"title\":\"\",\"src\":\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png\",\"srcSet\":[\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-bed0f.png 200w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-5fd34.png 400w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png 800w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-b70ec.png 1200w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-d134a.png 1600w\",\"/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png 1916w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.54887611082071%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQoz52R227UMBRF8+E8VOIHqCoEiGlLp+k0HbVIFV+EaKYT6CR24nh8zWbbYUB94CIsLe1zLHn5WC5eHL3E+v4TFssVTssKi8trnDE/XFU4J8vrG1xVa5TMMuUB9qv1LS5XFesKd3RUtx9RpI20PIkkkAn/v4rF+TKLvgqFp2GfadXz7EaDYW+hjYP3Ho7431BclKtsbtNB7dCODv3eQbCWTO0ClPWwPiDGCdP0ZzjhRRbuKEySgyhlEhkfKeMbpr/LsvD12/ezsNc/ZbPQomffp2RvOOE/Cd+8W2ShEEnoIfZ+liaRsjBKIziPECOffGDKH8fzcx6YhfOEcjdA9nx2/gQLqQwka9MPsELCdgImJXuvNaJ3mIJ/Di8rTl4dA4PC5vMWTd3gC6m3LR6aDo/NE3b1I8TDhtSQNXOzhWi+QXVdZuBFw66FFi2iVijK9MshcELJCUf0RMsBioy8yI06TxSs/YFBdHbG2l81SVN+B9R48ELdeLncAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  2\",\"title\":\"\",\"src\":\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png\",\"srcSet\":[\"/static/原因2-8476e1f72ff45b0e087e85029010b116-bed0f.png 200w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-5fd34.png 400w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png 800w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-b70ec.png 1200w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-d134a.png 1600w\",\"/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png 1913w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h3\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"线索3:urllib所发出的请求导致出问题\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQoz62P3U/CMBTF94f7YOKj4cFvjALyNb6UaIjx7zEBum7tZKxbuxFyvC0ixAcTiU1+ubfntKe33tHxCSavb2h2fHR6A/jDR/iDEdp+H81uD93+0Gm2tvf8Fvn90RN8q/s9jF8mGI2f4dmg/1xe9b6BbA2IRCHJDFSuHbkukJsCWb7Tfu8N3THwag8tZLrEVKRIcwrQh6OLFU14V4eiDRMJTVS6qTb1b9hAYwPPLm+QU8Pj5bdhyf+CKXaB51dV6HINuVBfgYQ5gO2XL65voc0KEU1YkGHoNWNfc7XcsNX3vR9oN2EJr3JawXKp8D6dY8YZZiwAC2MEPATjtueYB5x6Tr7VQrefM05nBLjVmNUipIsFvEatjkwpsCBwh3kYQcgYUoSI4xDyg0PK0BHFAjK2voAQEWlyUwXpdEenCT4B5hHp8GL2ofMAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"  2  \",\"title\":\"\",\"src\":\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png\",\"srcSet\":[\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-bed0f.png 200w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-5fd34.png 400w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png 800w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-b70ec.png 1200w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-d134a.png 1600w\",\"/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png 1914w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"根据报错信息组装并打开urllib发出的请求,可以看到请求(\"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&from=311200\"},\"children\":[{\"type\":\"text\",\"value\":\"http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&from=311200\"}]},{\"type\":\"text\",\"value\":\")的具体信息,里面有几点是不正确的. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ol\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"门店查询为什么没有店家编号; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"从311200即1556页开始查询,那个用户会能这么无聊;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"查询这么多就是没有什么意义的;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"基于这个线索我们深入查看了代码.  终于剥开迷雾; 在查找代码后发现这段逻辑中有嵌套调用,无限循环; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"当通过手机号能查询到用户时, 一切正常,而当通过手机号查询不到用户时,便变成了查询所有店铺列表;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"div\",\"properties\":{\"className\":[\"gatsby-highlight\"],\"dataLanguage\":\"typescript\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"pre\",\"properties\":{\"className\":[\"language-typescript\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-typescript\"]},\"children\":[{\"type\":\"text\",\"value\":\"  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"comment\"]},\"children\":[{\"type\":\"text\",\"value\":\"/**\\n   * 根据ticketId查询查询店铺列表\\n   */\"}]},{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"public\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"async\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"shopListByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"string\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"number\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageNum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"builtin\"]},\"children\":[{\"type\":\"text\",\"value\":\"number\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" ticketId \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ctx\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"service\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ucFetch\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"fetchTicketIdByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"ctx\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"let\"}]},{\"type\":\"text\",\"value\":\" dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"[\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" esRes \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"pagingQuery\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"<\"}]},{\"type\":\"text\",\"value\":\"IConnectionInfo\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n      router\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"template-string\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"`\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation\"]},\"children\":[{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation-punctuation\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"${\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"ES\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"routers\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"constant\"]},\"children\":[{\"type\":\"text\",\"value\":\"SCENE_RETAIL_SHOP\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"interpolation-punctuation\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"/`\"}]}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      pageNum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      terms\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n        prop\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"string\"]},\"children\":[{\"type\":\"text\",\"value\":\"'userId'\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n        value\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\":\"}]},{\"type\":\"text\",\"value\":\" ticketId\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"concat\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"esRes\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"||\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"[\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"]\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"if\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"esRes\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"totalCount \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"-\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"200\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"&&\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"text\",\"value\":\"length \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\">\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"0\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"{\"}]},{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"const\"}]},{\"type\":\"text\",\"value\":\" shopList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"await\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"this\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"shopListByPhonenum\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"phonenum\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageSize\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\",\"}]},{\"type\":\"text\",\"value\":\" pageNum \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"+\"}]},{\"type\":\"text\",\"value\":\" \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"number\"]},\"children\":[{\"type\":\"text\",\"value\":\"1\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n      dataList \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"operator\"]},\"children\":[{\"type\":\"text\",\"value\":\"=\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\".\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"function\"]},\"children\":[{\"type\":\"text\",\"value\":\"concat\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"(\"}]},{\"type\":\"text\",\"value\":\"shopList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\")\"}]},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]},{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"keyword\"]},\"children\":[{\"type\":\"text\",\"value\":\"return\"}]},{\"type\":\"text\",\"value\":\" dataList\"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\";\"}]},{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"token\",\"punctuation\"]},\"children\":[{\"type\":\"text\",\"value\":\"}\"}]}]}]},{\"type\":\"text\",\"value\":\"\\n      \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 39.71238938053097%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz62S2w6CMBBE+f+vJAqU0na7BRFBk3GoRkP0SXw42UvS2Wl2CxcUrQyI44LTNON8WTA+4y8UnRfUvsdw3i+WBa0LaJxs3O1yaDoPE3qMuTH/x2HQ08bdHigo2eFlvmameSHXV/3m9tGbvtRFZR0OlouJgsrz+9x4GwcOiWiCoBFFvcYnjz7x63X0sJJyXjtFx3fF0UUKKcrW49gJSoofeEpWBTYJ2sSlqcuYFNmPMJpQRYppz+EpDzAUtszvPPNo5XA+GtIAAAAASUVORK5CYII='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"request  \",\"title\":\"\",\"src\":\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png\",\"srcSet\":[\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-bed0f.png 200w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-5fd34.png 400w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png 800w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-b70ec.png 1200w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-d134a.png 1600w\",\"/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png 1808w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \\n把url拼装后发现得出结果\\n\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 57.17439293598234%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz6WRy27CMBBF8/+/UVEgJHYSKLCo1BUbuiiIFaq6oRJFpJC3nQDidhywUEJb9THS1ciW75kZjzH0PLg2B2u34JomeozhjnN0bRs90sB10Hc4+nQ39Fy6szAajTCZzTCdPOFxPMZD18OA2bjvuTCYZYGRkZNcgpmtJlqNBiyzDbtjlrkqEw6ZebOJmzbDbYfDoWIOeZUM1ELmOYIgRFHs8F2I5xdMlznm6+o7Y7/fQ+twOGCzjeAHKYIoRUhKU3GtTELsyEPFlZSv9JPKDo/HYykVWZwg9H1kWQ4hC0iSEHmZpTxnOguC6jeVDjVMAwshkLwukEbZySguEHkuIGuFdCjGNTDfIXnbIH0PIeKs7ESbRQ36KbA+slpGst4iUR0SXFRGLv4IXPqIwuTS2b86pEfxYoU0iL8c9XdA9Yer0x+qrWqT+OFSPgBuojs0ShyxCAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"elasticsearch\",\"title\":\"\",\"src\":\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png\",\"srcSet\":[\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-bed0f.png 200w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-5fd34.png 400w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png 800w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-b70ec.png 1200w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-d134a.png 1600w\",\"/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png 1812w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"回顾\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"如果是一个请求造成了,内存暴增, 我们可以推断,有用户发送的http请求会中断 ; 然后我查询了nginx监控日志 (近期刚做监控,还没全面推广)\\n通过图发现确实是如此,而且最后一个参数为undefined; 虽然马后炮没什么用, 但如果能解决这个问题,可能就不会有这么一遭经历了. \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"我们再来验证下线索:\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“崩溃不定期发生”: 是因为有用户触发此请求才会导致,而且只有一个node进程崩溃;\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“没有用户反馈”: 此功能非重要页面,用户会重新刷新,退出; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"“有3种崩溃的情况,不只是一种”: 嵌套调用有时间间隔(异步) , 有可能此时dubbo正好返回,导致内存撑爆,故而3种情况甚至更多情况都会出现,只要有申请内存操作的都有机率出现; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 54.93741307371349%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz21S227TQBD1pyAQUgUhtE3S0pImIUCrtCIPCArijS/gt5C4BNLSVogvgbTQJLSOL0ns9X3XPsyuY9SHrjWyZ7Q+c86c0d7tvsLrvbdoVp/h+OAH4jiBO2cQPEWaZrjuZFl2NcljcbRuax+7zX00KnvofzrCRDegX+q4vNBhTExYlg3bmMA6+wnz9wBhECjAJEkQUfPENsE9hjjh4JRrO/UX6LbfoFXr4vjLCbJUwHVc+J4Pz/Pg+wFm9hT2eISEOcQ6VeExD0EYIp7aEIEPn75NZwZt++FzdBovsbXSQf/zCcKQw5nTBS8CcwMEfgQuu4v0eslFjZ5IEMPHG13IWCu1CfCIugoYFoM99WHNIljzeDHLjOSGiKI8T6kBcxmpYYpx0USrV3bQqHZQvdPEt/53VUyIUfGTELk5hVQZ0gT5Nm0XhumAc65qElTbXHmKemUbq0tbOKQZyjMlyXNHzjCAQ7IZyfeYD5dFZARXdySgNEJcNVwyXL/fxsbyE5Rvb+Lwaw7IWACXgBwWwwtoflwoFgnPGRfbkpARKRklfDJv6iImM7VaqYm18iOUbq2j3ztaSE6UTKEkCyUlW8jOskJ+hoDAMtcGd13YQwOeYRHgvSYeLLdx92YNvY8HtCY+zv8M8Xd8oXZyMjHUTpp0Wdbkjur6hMyJ8llTwygkNY5DI/IJsNwihi0s3VjFh/c92LRzp4MzDH6dYng+UjEajlWMR+P/eUxuy+YF6zhJaSQZ/gHEdAXLpZ7t9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"sentry  \",\"title\":\"\",\"src\":\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png\",\"srcSet\":[\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-bed0f.png 200w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-5fd34.png 400w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png 800w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-b70ec.png 1200w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-d134a.png 1600w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-f6ead.png 2400w\",\"/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png 2876w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \\n\\n  \"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"className\":[\"gatsby-resp-image-link\"],\"href\":\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png\",\"style\":\"display: block\",\"target\":\"_blank\",\"rel\":[\"noopener\"]},\"children\":[{\"type\":\"text\",\"value\":\"\\n  \\n  \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-wrapper\"],\"style\":\"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n    \"},{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"gatsby-resp-image-background-image\"],\"style\":\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVQoz21S227TQBD1nyCBBIg2pZekJSVt2lBatRKRQMBDeeUH+C1EaUoSCoivQQ1xEju+rL27vh52xgkgxFqjnfXsnDlnZq13z87xpvsWR83nuO5/R6JThL5AnuUoihL/W2X59/+Sz2zms7rtVzhrv8be5hl67weY2BPYYxvjnzZm0xkcx4HrurzTWUrJyWmaQesESZIhSxdmfOuk9RLdzjkOG10ML4aGWYrADxBFESJRme/5cJ25SU6Q58S84P8yltAEaNRIpTAN5rCOH7+oGG6cYnj1jUWIgC4ryEhBhDG0SjhpofAfydXKTRGdp7CeNLsga6wcGsCvHFQGLDFy0iQ1UipGBFLkBfvU35x8YyyV+p1Xd6zW1gn266eoP2hj0PvCgIHQEHEKpTOURZW4BCDAqncp+3EkufjybO1uPEVr6xib9/fQv7yGTICRHWA8jeB6MV9WSjMIGTGi3jmOy3sQhAxW7QmsnYcdNNePsHZ3F58+foZRiMlMYDaX8EPFl6mHzGoBqKTiQWlTSAhhJp7ykKhFVmO1je3aAVbv7ODKTDnWJX6MPNyMQ0wdwcmxYaKkNk9G8TvVWiMMBTOiWJZVrKm3VqPWxqP1DlZuN9C7GECmwI0dYmQkO57kqssBEVsaABXx5p5pBb0CwTFiSjGrXtvH9toB7t3awOWH/kJyiJkbw/NjlkUAtJNRMgH9kRz9lkwMfwGr0QhOp27L5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"},\"children\":[{\"type\":\"text\",\"value\":\"\\n      \"},{\"type\":\"element\",\"tagName\":\"img\",\"properties\":{\"className\":[\"gatsby-resp-image-image\"],\"style\":\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\",\"alt\":\"sentry2\",\"title\":\"\",\"src\":\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png\",\"srcSet\":[\"/static/sentry2-30c51a39024573ffb6bb984387e45725-bed0f.png 200w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-5fd34.png 400w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png 800w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-b70ec.png 1200w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-d134a.png 1600w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-f6ead.png 2400w\",\"/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png 2880w\"],\"sizes\":[\"(max-width:\",\"800px)\",\"100vw,\",\"800px\"]},\"children\":[]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n  \"}]},{\"type\":\"text\",\"value\":\"\\n  \\n  \"}]},{\"type\":\"text\",\"value\":\"\\n    \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"小结\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"ul\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"重视线上报错告警信息,每一个错都是一个潜在的雷,不排除,就被炸,问题越早发现处理成本越低,处理起来越简单; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"重视代码规范(价值观),各环节的参数校验要到位,现在没问题不代表以后没问题; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"现场只告诉你信息,原因要结合场景进行一些推断, 工具是还没那么智能的告诉你那里出问题了; \"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"li\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"工具链非常重要,进程崩溃没有引发大范围业务问题,问题相关的定位太感谢相关的工具(alinode lldb sentry logserver,bugatti),好的工具链能营造一个好的开发体验,让我们便捷的去解决问题;\"}]},{\"type\":\"text\",\"value\":\"\\n\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"h2\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"参考文章\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"p\",\"properties\":{},\"children\":[{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://zhuanlan.zhihu.com/p/41178823?spm=a2c4g.11186623.2.23.31636df2AekZJO\"},\"children\":[{\"type\":\"text\",\"value\":\"Node 案发现场揭秘 —— Coredump 还原线上异常\"}]},{\"type\":\"text\",\"value\":\"\\n\"},{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://www.bookstack.cn/read/node-in-debugging/2.1gcorellnode.md\"},\"children\":[{\"type\":\"text\",\"value\":\"Node.js 调试指南\"}]}]}],\"data\":{\"quirksMode\":false}},\"fields\":{\"slug\":\"/警告\\\"node OOM\\\"了/\",\"prefix\":\"2019-01-28\"},\"frontmatter\":{\"title\":\"bug不解决,如何过年-node OOM\",\"subTitle\":\"5块钱的bug,怎么变成了用1.5W的成本 !\",\"cover\":null}},\"author\":{\"id\":\"/Users/dong/dong/blogs/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>游大千世界,看大千世界,认知世界!</p>\"},\"footnote\":{\"id\":\"/Users/dong/dong/blogs/content/parts/footnote.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>I am a coder who solves the problem<a href=\\\"/about/\\\">contact</a></p>\"},\"site\":{\"siteMetadata\":{\"facebook\":{\"appId\":\"coder.yang2001@gmail.com\"}}}},\"pathContext\":{\"slug\":\"/警告\\\"node OOM\\\"了/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/警告-node-oom-了.json\n// module id = 784\n// module chunks = 64197529879269"],"sourceRoot":""}