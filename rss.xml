<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[PersonalBlog - a blog starter for GatsbyJS]]></title><description><![CDATA[PersonalBlog is a GatsbyJS starter.]]></description><link>https://github.com/creasy2010</link><generator>RSS for Node</generator><lastBuildDate>Tue, 29 Jan 2019 08:05:56 GMT</lastBuildDate><item><title><![CDATA[bug不解决,如何过年-node OOM]]></title><description><![CDATA[bug还没解决，如何过年? 不是标题党，确实是出了线上问题，线上不间断出现oom问题，还有一周就过年了，问题不解决，如何能安心过年，过年的时候出问题，估计客户会把我们撕的碎碎的. 为什么说 “5块钱的bug，怎么用了1.5W…]]></description><link>https://github.com/creasy2010/bug不解决如何过年-node OOM/</link><guid isPermaLink="false">https://github.com/creasy2010/bug不解决如何过年-node OOM/</guid><content:encoded>&lt;p&gt;bug还没解决，如何过年?&lt;/p&gt;
&lt;p&gt;不是标题党，确实是出了线上问题，线上不间断出现oom问题，还有一周就过年了，问题不解决，如何能安心过年，过年的时候出问题，估计客户会把我们撕的碎碎的.&lt;/p&gt;
&lt;p&gt;为什么说 “5块钱的bug，怎么用了1.5W的成本?” 数字列的有些夸张了，但如果及早发现这个问题，一个人5分钟就搞定，但我们三个人却用了5天(包含周未);&lt;/p&gt;
&lt;h2&gt;现象&lt;/h2&gt;
&lt;p&gt;在”发现问题行动”的推动下配置了alinode的告警，然后就有报警出现了. &lt;/p&gt;
&lt;p&gt;报警: “已用堆内存超过堆上限的 80%，当前为 82.31%“;&lt;/p&gt;
&lt;p&gt;再仔细一查，不得了了.比报警内容还坏，我们遇到的不是内存泄漏，而是oom崩溃，而且是突发式的.一但发生立马崩溃，不给你半点时间;
幸好进程会自动拉起. nginx也有健康状态检查，会自动分流; &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.44386422976501%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz61SXU/CQBDs3/bZB1+NCEpM0BhBrARJ9Ff47E9ATYiQAu19362z26viu4TJTuf25m62LY6OT2jx/EJ305ImD49/cF/OaFKCo47xzJh0Gvh0Nqex7CvpCR7lfEHF6esb/eevGF7fCqnqhvbaUJ2xA9Z7aND52Xsv64ymg0FPo2mzb/ca56gY3bSG1nmKMZH1gQw2OyClRCFGwS9PFMFNCOj1osWDnmJ4NRJDD3dZQGMEuEpTBq8laCCCVg8/6wyPw4qz/oUY1lpLLJ9vp3HjDeIoa+XWfHplHFXW0Rr1C1gBa20R19JKO1IhUnE+uBTDHUQncQPVFvOCYWVQwRU0jrkF37qAtYDqaZfBhyvA45ZFr98a+jwzFr1ERjRK+Lfg+LzR5WgW1aDHCk+iywx7g6EYGtO+yZDn53ErjXisxTzPD2VpqRy9H2DZWNE/AcuRO0OF1+7y/BgcfcufAkxdjqzAVY7XoWHNWHAnh34DQ6P021JG5RoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;cpu   &quot;
        title=&quot;&quot;
        src=&quot;/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png&quot;
        srcset=&quot;/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-bed0f.png 200w,
/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-5fd34.png 400w,
/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-48538.png 800w,
/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-b70ec.png 1200w,
/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-d134a.png 1600w,
/static/cpu等数据-c788b19c61c6b80817ffa4d8cfe0d6fc-200f3.png 1915w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;随后开启服务器coredump，把进程崩溃的现场信息留下来，等了一天，便可以在alinode管理端获取coredump列表.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.62565172054223%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz3WRWUsDMRSF50cLgg8+CvrghgWtWqa009YK+p9E0E5mXzJLJjneJNM6dQkccudOzpeTxDk4Oob39IzxxMWjO8Xh2MXJZA5vsYTrLTEdar7YySXNFiu4s7nR+uUV3moNZ3Q/gR6VBBqaP2hmpBZWVJp+1UsO1A1qvVaRnKvRLZK2gx+ECKIYWZKiyHNEaYpNxODTd0BK8wJJVlA/R0b1nooSSRyTr4Bzc/cAn8jaxFiAoiyhpEKnBHzO8FY1SOrWnEIphbKTZrZD6aatKvK1DZxLShhQI0wzhFGEknNIDZQCjId4J2Ba2wNJMnMCtvRfmE2VgSsD5BZ4en6NsE8YhCHKbUIDDAww6YHaXBOwlhKNtOBvYJ/w7OIHcC8hHZk3iAfAqk+o0+0n/AfIe6CQLd1hgrARKFuxA7bSJtRJdcr/gXSHrE+oeuAnLRJk7LrOGkmSIPYh1G6TX8CIGixOsGHM3KE2dQTcVAUaISHEPnBbqz8e5Qskv+7Nf51IDgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;alinodecoredump  &quot;
        title=&quot;&quot;
        src=&quot;/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png&quot;
        srcset=&quot;/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-bed0f.png 200w,
/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-5fd34.png 400w,
/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-48538.png 800w,
/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b70ec.png 1200w,
/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-d134a.png 1600w,
/static/alinodecoredump列表-8fb475d6b06ce63c8e745a61219e1c61-b9b8f.png 1918w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;有了这些信息，就可以开展分析工作了;&lt;/p&gt;
&lt;h2&gt;线索&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;崩溃不定期发生，然而线上机器大概率发生，灰度 机器并不发生;一台机器中个别进程崩溃;&lt;/li&gt;
&lt;li&gt;查看其他应用并没有发生崩溃的问题; &lt;/li&gt;
&lt;li&gt;近期上了健康检查与全链路跟踪; &lt;/li&gt;
&lt;li&gt;线上虽有崩溃，然而并没有用户反馈有问题;&lt;/li&gt;
&lt;li&gt;有3种崩溃的情况，不只是一种;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;解决角度&lt;/h2&gt;
&lt;p&gt;根据对coredump内容分析，有三个解决角度&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;查看heap中占比最大的对象;&lt;/li&gt;
&lt;li&gt;zoneContext导致;&lt;/li&gt;
&lt;li&gt;urllib所发出的请求导致出问题; &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;看了之后特别怀疑问题2，原因有两点: &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;最近我们上线了zipkin全链路跟踪;&lt;/li&gt;
&lt;li&gt;zoneContex 所使用的async_hook还是实验特性 (不会入坑了吧. );&lt;/li&gt;
&lt;li&gt;nginx有健康检查，会不停发请求; &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;但还是选一个软柿子捏.”查看heap中占比最大的对象” 这个最容易解决&lt;/p&gt;
&lt;h3&gt;线索1:查看heap中占比最大的对象&lt;/h3&gt;
&lt;p&gt;本以为手到病除，然而一看coredump中对象列表就傻眼了.没有统计，没有规律，只显示object有600多M，但是什么对象就是找不到.
就好比告诉你凶手就在茫茫人海中，说了几乎跟没说一样.. 😱&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz61S204CMRTc3/bJB/9A0GCQ4BUVCGiMv2RUILvb7b1bxtnuSngTE5tMzml7MmfOtNnR8QlmyxeMb+9xfTdJmDzN8DCdp/iT7+8n0zY+zhftPfH8+obpYomsIUhru8V/rOzicow6RryvNsiFhJAKZSWZV5DawHsPYy0s4Zg718B1sb0zxqazpjYbjW8obgupFJTRUFpDG7ODtW5HoHmnlN6RSjZvyXyqS4TD0VWSKnmgvYNioSE098qSwIfU8FBk/V6f/kWUmy8YkcPJiqPV7Fa3I9YB8U+E54OkMM8/oasCmmMoa1p1LtDftjAeTDgYJkJhVDeygXA6KavriLp5/T38SnjWKVznBV+34CsLVMrQx0BfVfJSu5rNYlLc2BFCICIcowueOS3iPsRG4WkPoBqx/oAqV/CigC9zRCptxoz8UrEbOR4w+jeYYvTBidXgwwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;objectlist&quot;
        title=&quot;&quot;
        src=&quot;/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png&quot;
        srcset=&quot;/static/objectlist-a05ede811a97962799580ec1102498f4-bed0f.png 200w,
/static/objectlist-a05ede811a97962799580ec1102498f4-5fd34.png 400w,
/static/objectlist-a05ede811a97962799580ec1102498f4-48538.png 800w,
/static/objectlist-a05ede811a97962799580ec1102498f4-b70ec.png 1200w,
/static/objectlist-a05ede811a97962799580ec1102498f4-d134a.png 1600w,
/static/objectlist-a05ede811a97962799580ec1102498f4-3bb64.png 1914w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;尝试用概率的方法来人肉统计一次，然而次次无功而返;当然可以不依赖alinode对coredump进行分析，然而考虑到时间成本再试下别一个角度😤&lt;/p&gt;
&lt;h3&gt;线索2:zoneContext导致&lt;/h3&gt;
&lt;p&gt;朝着这个方向走，检查了zonecontext的代码，然而并没有看出什么问题，只好忌出大法(范围缩小跟踪)&lt;/p&gt;
&lt;p&gt;我们使用zonecontext的地方有两个，1) 全链路跟踪，2) dubbolog . 而 全链路跟踪是新上的功能，且是关键节点，dubbolog记录是很久上的，且业务应用也有使用&lt;/p&gt;
&lt;p&gt;我们选择关闭了zipkin全链路跟踪，关闭了nginx健康检查(会发送大量请求); &lt;/p&gt;
&lt;p&gt;理想总是美好的，然而实现却啪啪啪的打脸. 把这些都关闭了线上还在出问题;囧了. 众多迹象证明问题不在zonecontext&amp;#x26;async_hook😤&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.36534446764092%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz62R20oDMRRF5799EPwBL9WiWKRY6/RKKVj0p+zccptkZrY7SS31RefBwOLMIWHNSXZydn6B3fsHJukcr/MlZqs10sUKL+xny3VgOlsETvuUdbHehHOTaYrt2w6rzRbJaPwMv9q2xX+sZHD/iEwqFFkOxSqFYJXQRFZV7LWGJtLvKwWldKi+14c9peJ38vg0DuY8K5FXFJNSkEJAEqsNmqbpSYtk+DAKwk9pkCmHvbLItYOyDeq2Q3e8TBfout9JLm/uwvF9pSmsef0auZcSVTsI42Bc/LvnT+HV7TAKhRdGUantUVpwWo+sG7i2j3AQhRknzKUN0oLCgtOWnFYZi4YTdnyjro/w+iAsMsVQahSUCoZimbITEvYbJtpY13/C8IaUVZxMMCBp4jU9xrUnMCyiGZrxwbmfU38BNrX0HLADTrYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;  1&quot;
        title=&quot;&quot;
        src=&quot;/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png&quot;
        srcset=&quot;/static/原因1-f157a782dc7a105fbcaeba2171ae4733-bed0f.png 200w,
/static/原因1-f157a782dc7a105fbcaeba2171ae4733-5fd34.png 400w,
/static/原因1-f157a782dc7a105fbcaeba2171ae4733-48538.png 800w,
/static/原因1-f157a782dc7a105fbcaeba2171ae4733-b70ec.png 1200w,
/static/原因1-f157a782dc7a105fbcaeba2171ae4733-d134a.png 1600w,
/static/原因1-f157a782dc7a105fbcaeba2171ae4733-55c5b.png 1916w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.54887611082071%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQoz52R227UMBRF8+E8VOIHqCoEiGlLp+k0HbVIFV+EaKYT6CR24nh8zWbbYUB94CIsLe1zLHn5WC5eHL3E+v4TFssVTssKi8trnDE/XFU4J8vrG1xVa5TMMuUB9qv1LS5XFesKd3RUtx9RpI20PIkkkAn/v4rF+TKLvgqFp2GfadXz7EaDYW+hjYP3Ho7431BclKtsbtNB7dCODv3eQbCWTO0ClPWwPiDGCdP0ZzjhRRbuKEySgyhlEhkfKeMbpr/LsvD12/ezsNc/ZbPQomffp2RvOOE/Cd+8W2ShEEnoIfZ+liaRsjBKIziPECOffGDKH8fzcx6YhfOEcjdA9nx2/gQLqQwka9MPsELCdgImJXuvNaJ3mIJ/Di8rTl4dA4PC5vMWTd3gC6m3LR6aDo/NE3b1I8TDhtSQNXOzhWi+QXVdZuBFw66FFi2iVijK9MshcELJCUf0RMsBioy8yI06TxSs/YFBdHbG2l81SVN+B9R48ELdeLncAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;  2&quot;
        title=&quot;&quot;
        src=&quot;/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png&quot;
        srcset=&quot;/static/原因2-8476e1f72ff45b0e087e85029010b116-bed0f.png 200w,
/static/原因2-8476e1f72ff45b0e087e85029010b116-5fd34.png 400w,
/static/原因2-8476e1f72ff45b0e087e85029010b116-48538.png 800w,
/static/原因2-8476e1f72ff45b0e087e85029010b116-b70ec.png 1200w,
/static/原因2-8476e1f72ff45b0e087e85029010b116-d134a.png 1600w,
/static/原因2-8476e1f72ff45b0e087e85029010b116-09816.png 1913w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;线索3:urllib所发出的请求导致出问题&lt;/h3&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.470219435736674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQoz62P3U/CMBTF94f7YOKj4cFvjALyNb6UaIjx7zEBum7tZKxbuxFyvC0ixAcTiU1+ubfntKe33tHxCSavb2h2fHR6A/jDR/iDEdp+H81uD93+0Gm2tvf8Fvn90RN8q/s9jF8mGI2f4dmg/1xe9b6BbA2IRCHJDFSuHbkukJsCWb7Tfu8N3THwag8tZLrEVKRIcwrQh6OLFU14V4eiDRMJTVS6qTb1b9hAYwPPLm+QU8Pj5bdhyf+CKXaB51dV6HINuVBfgYQ5gO2XL65voc0KEU1YkGHoNWNfc7XcsNX3vR9oN2EJr3JawXKp8D6dY8YZZiwAC2MEPATjtueYB5x6Tr7VQrefM05nBLjVmNUipIsFvEatjkwpsCBwh3kYQcgYUoSI4xDyg0PK0BHFAjK2voAQEWlyUwXpdEenCT4B5hHp8GL2ofMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;  2  &quot;
        title=&quot;&quot;
        src=&quot;/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png&quot;
        srcset=&quot;/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-bed0f.png 200w,
/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-5fd34.png 400w,
/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-48538.png 800w,
/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-b70ec.png 1200w,
/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-d134a.png 1600w,
/static/原因2查询-3fab228881c13e4e06f1b61930f4f74f-3bb64.png 1914w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;根据报错信息组装并打开urllib发出的请求，可以看到请求(&lt;a href=&quot;http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&amp;#x26;from=311200&quot;&gt;http://192.168.65.222:18082/scene/b2c/retail/view/?size=200&amp;#x26;from=311200&lt;/a&gt;)的具体信息，里面有几点是非常可疑的👀 . &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;门店查询为什么没有店家编号; &lt;/li&gt;
&lt;li&gt;从311200即1556页开始查询，那个用户会能这么无聊;&lt;/li&gt;
&lt;li&gt;查询这么多就是没有什么意义的;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;基于这个线索我们深入查看了代码.  终于剥开迷雾; 在查找代码后发现这段逻辑中有嵌套调用，无限循环; &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;/**
   * 根据ticketId查询查询店铺列表
   */&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shopListByPhonenum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;phonenum&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageSize&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageNum&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ticketId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ucFetch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchTicketIdByPhonenum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;phonenum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; esRes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pagingQuery&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;IConnectionInfo&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      router&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SCENE_RETAIL_SHOP&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      pageSize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      pageNum&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      terms&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        prop&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;userId&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ticketId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    dataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dataList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;esRes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dataList &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;esRes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; dataList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; shopList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shopListByPhonenum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;phonenum&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageSize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageNum &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      dataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dataList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;shopList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; dataList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;当通过手机号能查询到用户时，一切正常，而当通过手机号查询不到用户时，便变成了查询所有店铺列表;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 39.71238938053097%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz62S2w6CMBBE+f+vJAqU0na7BRFBk3GoRkP0SXw42UvS2Wl2CxcUrQyI44LTNON8WTA+4y8UnRfUvsdw3i+WBa0LaJxs3O1yaDoPE3qMuTH/x2HQ08bdHigo2eFlvmameSHXV/3m9tGbvtRFZR0OlouJgsrz+9x4GwcOiWiCoBFFvcYnjz7x63X0sJJyXjtFx3fF0UUKKcrW49gJSoofeEpWBTYJ2sSlqcuYFNmPMJpQRYppz+EpDzAUtszvPPNo5XA+GtIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;request  &quot;
        title=&quot;&quot;
        src=&quot;/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png&quot;
        srcset=&quot;/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-bed0f.png 200w,
/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-5fd34.png 400w,
/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-48538.png 800w,
/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-b70ec.png 1200w,
/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-d134a.png 1600w,
/static/request截图-d395e33b2c30734e2c3e6669108b1d9f-7d528.png 1808w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
把url拼装后发现得出结果

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.17439293598234%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz6WRy27CMBBF8/+/UVEgJHYSKLCo1BUbuiiIFaq6oRJFpJC3nQDidhywUEJb9THS1ciW75kZjzH0PLg2B2u34JomeozhjnN0bRs90sB10Hc4+nQ39Fy6szAajTCZzTCdPOFxPMZD18OA2bjvuTCYZYGRkZNcgpmtJlqNBiyzDbtjlrkqEw6ZebOJmzbDbYfDoWIOeZUM1ELmOYIgRFHs8F2I5xdMlznm6+o7Y7/fQ+twOGCzjeAHKYIoRUhKU3GtTELsyEPFlZSv9JPKDo/HYykVWZwg9H1kWQ4hC0iSEHmZpTxnOguC6jeVDjVMAwshkLwukEbZySguEHkuIGuFdCjGNTDfIXnbIH0PIeKs7ESbRQ36KbA+slpGst4iUR0SXFRGLv4IXPqIwuTS2b86pEfxYoU0iL8c9XdA9Yer0x+qrWqT+OFSPgBuojs0ShyxCAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;elasticsearch&quot;
        title=&quot;&quot;
        src=&quot;/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png&quot;
        srcset=&quot;/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-bed0f.png 200w,
/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-5fd34.png 400w,
/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-48538.png 800w,
/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-b70ec.png 1200w,
/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-d134a.png 1600w,
/static/elasticsearch-87f9fa0da2ad7e500210818c99e62558-cdf4d.png 1812w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;回顾&lt;/h2&gt;
&lt;p&gt;如果是一个请求造成了，内存暴增，我们可以推断，有用户发送的http请求会中断 ; 然后我查询了nginx监控日志 (近期刚做监控，还没全面推广)
通过图发现确实是如此，而且最后一个参数为undefined; 虽然马后炮没什么用，但如果能解决这个问题，可能就不会有这么一遭经历了. &lt;/p&gt;
&lt;p&gt;我们再来验证下线索:&lt;/p&gt;
&lt;p&gt;“崩溃不定期发生”: 是因为有用户触发此请求才会导致，而且只有一个node进程崩溃;&lt;/p&gt;
&lt;p&gt;“没有用户反馈”: 此功能非重要页面，用户会重新刷新，退出; &lt;/p&gt;
&lt;p&gt;“有3种崩溃的情况，不只是一种”: 嵌套调用有时间间隔(异步) ，有可能此时dubbo正好返回，导致内存撑爆，故而3种情况甚至更多情况都会出现，只要有申请内存操作的都有机率出现; &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 54.93741307371349%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz21S227TQBD1pyAQUgUhtE3S0pImIUCrtCIPCArijS/gt5C4BNLSVogvgbTQJLSOL0ns9X3XPsyuY9SHrjWyZ7Q+c86c0d7tvsLrvbdoVp/h+OAH4jiBO2cQPEWaZrjuZFl2NcljcbRuax+7zX00KnvofzrCRDegX+q4vNBhTExYlg3bmMA6+wnz9wBhECjAJEkQUfPENsE9hjjh4JRrO/UX6LbfoFXr4vjLCbJUwHVc+J4Pz/Pg+wFm9hT2eISEOcQ6VeExD0EYIp7aEIEPn75NZwZt++FzdBovsbXSQf/zCcKQw5nTBS8CcwMEfgQuu4v0eslFjZ5IEMPHG13IWCu1CfCIugoYFoM99WHNIljzeDHLjOSGiKI8T6kBcxmpYYpx0USrV3bQqHZQvdPEt/53VUyIUfGTELk5hVQZ0gT5Nm0XhumAc65qElTbXHmKemUbq0tbOKQZyjMlyXNHzjCAQ7IZyfeYD5dFZARXdySgNEJcNVwyXL/fxsbyE5Rvb+Lwaw7IWACXgBwWwwtoflwoFgnPGRfbkpARKRklfDJv6iImM7VaqYm18iOUbq2j3ztaSE6UTKEkCyUlW8jOskJ+hoDAMtcGd13YQwOeYRHgvSYeLLdx92YNvY8HtCY+zv8M8Xd8oXZyMjHUTpp0Wdbkjur6hMyJ8llTwygkNY5DI/IJsNwihi0s3VjFh/c92LRzp4MzDH6dYng+UjEajlWMR+P/eUxuy+YF6zhJaSQZ/gHEdAXLpZ7t9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;sentry  &quot;
        title=&quot;&quot;
        src=&quot;/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png&quot;
        srcset=&quot;/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-bed0f.png 200w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-5fd34.png 400w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-48538.png 800w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-b70ec.png 1200w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-d134a.png 1600w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-f6ead.png 2400w,
/static/sentry统计-a5661bf40f5d44c0f5a928807a73359d-629ce.png 2876w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGklEQVQoz21S227TQBD1nyCBBIg2pZekJSVt2lBatRKRQMBDeeUH+C1EaUoSCoivQQ1xEju+rL27vh52xgkgxFqjnfXsnDlnZq13z87xpvsWR83nuO5/R6JThL5AnuUoihL/W2X59/+Sz2zms7rtVzhrv8be5hl67weY2BPYYxvjnzZm0xkcx4HrurzTWUrJyWmaQesESZIhSxdmfOuk9RLdzjkOG10ML4aGWYrADxBFESJRme/5cJ25SU6Q58S84P8yltAEaNRIpTAN5rCOH7+oGG6cYnj1jUWIgC4ryEhBhDG0SjhpofAfydXKTRGdp7CeNLsga6wcGsCvHFQGLDFy0iQ1UipGBFLkBfvU35x8YyyV+p1Xd6zW1gn266eoP2hj0PvCgIHQEHEKpTOURZW4BCDAqncp+3EkufjybO1uPEVr6xib9/fQv7yGTICRHWA8jeB6MV9WSjMIGTGi3jmOy3sQhAxW7QmsnYcdNNePsHZ3F58+foZRiMlMYDaX8EPFl6mHzGoBqKTiQWlTSAhhJp7ykKhFVmO1je3aAVbv7ODKTDnWJX6MPNyMQ0wdwcmxYaKkNk9G8TvVWiMMBTOiWJZVrKm3VqPWxqP1DlZuN9C7GECmwI0dYmQkO57kqssBEVsaABXx5p5pBb0CwTFiSjGrXtvH9toB7t3awOWH/kJyiJkbw/NjlkUAtJNRMgH9kRz9lkwMfwGr0QhOp27L5AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;sentry2&quot;
        title=&quot;&quot;
        src=&quot;/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png&quot;
        srcset=&quot;/static/sentry2-30c51a39024573ffb6bb984387e45725-bed0f.png 200w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-5fd34.png 400w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-48538.png 800w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-b70ec.png 1200w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-d134a.png 1600w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-f6ead.png 2400w,
/static/sentry2-30c51a39024573ffb6bb984387e45725-6200b.png 2880w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;小结&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;重视线上报错告警信息，每一个错都是一个潜在的雷，不排除，就被炸，问题越早发现处理成本越低，处理起来越简单; &lt;/li&gt;
&lt;li&gt;重视代码规范(价值观)，各环节的参数校验要到位，现在没问题不代表以后没问题; &lt;/li&gt;
&lt;li&gt;各个环节的监控要配置到位;&lt;/li&gt;
&lt;li&gt;现场只告诉你信息，原因要结合场景进行一些推断，工具是还没那么智能的告诉你那里出问题了; &lt;/li&gt;
&lt;li&gt;工具链非常重要，进程崩溃没有引发大范围业务问题，问题相关的定位太感谢相关的工具(alinode lldb sentry logserver，bugatti dubbo2js zonecontext)，好的工具链能营造一个好的开发体验，让我们便捷的去解决问题;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考文章&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/41178823?spm=a2c4g.11186623.2.23.31636df2AekZJO&quot;&gt;Node 案发现场揭秘 —— Coredump 还原线上异常&lt;/a&gt;
&lt;a href=&quot;https://www.bookstack.cn/read/node-in-debugging/2.1gcorellnode.md&quot;&gt;Node.js 调试指南&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[工作经历介绍]]></title><description><![CDATA[Personal Information name：杨晓东 birth：1987-07-29 github： https://github.com/ blog： https://creasy2010.github.io/ About me…]]></description><link>https://github.com/creasy2010/工作经历/</link><guid isPermaLink="false">https://github.com/creasy2010/工作经历/</guid><content:encoded>&lt;h2&gt;Personal Information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;name：杨晓东&lt;/li&gt;
&lt;li&gt;birth：1987-07-29&lt;/li&gt;
&lt;li&gt;github：&lt;a href=&quot;https://github.com/&quot;&gt;https://github.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;blog：&lt;a href=&quot;https://creasy2010.github.io/&quot;&gt;https://creasy2010.github.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;About me&lt;/h2&gt;
&lt;p&gt;9+年工作经验，涉及前后端数据设计等方面;&lt;/p&gt;
&lt;p&gt;在工作中非常有幸接触并实践了前端工程化，数据分析，灰度，自动化测试&amp;#x26;运维等理念，&lt;/p&gt;
&lt;p&gt;感谢那些一起的奋战的朋友们，&lt;/p&gt;
&lt;p&gt;在余生希望自己再接再厉，不断提高认知，做一个有趣的人;&lt;/p&gt;
&lt;p&gt;接下来的两年希望自己能在图片处理，数据分析方面有所积累;&lt;/p&gt;
&lt;h2&gt;Work Experience&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;2014.6-now 江苏千米网络科技有限公司&lt;/li&gt;
&lt;li&gt;2013.10-2014.6 江苏聚智网络科技有限公司&lt;/li&gt;
&lt;li&gt;2010.8-2013.10 神州数码科技有限公司&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Skill&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Frontend：React &amp;#x26; ReactNative &amp;#x26; Babel &amp;#x26; Typescript &amp;#x26; Webpack&lt;/li&gt;
&lt;li&gt;Backend： node.js &amp;#x26; java&lt;/li&gt;
&lt;li&gt;DataBase： mysql &amp;#x26; oracle&lt;/li&gt;
&lt;li&gt;other： GoogleAnalyse Python&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Project Experience&lt;/h2&gt;
&lt;h3&gt;dubbo2js Project&lt;/h3&gt;
&lt;h4&gt;解决问题&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dubbo/dubbo2.js&quot;&gt;dubbo2js&lt;/a&gt;以 hession 协议无缝打通 node 与 dubbo 通信!
&lt;a href=&quot;http://dubbo.apache.org/zh-cn/index.html&quot;&gt;Apache Dubbo™&lt;/a&gt;
(incubating)是一款高性能 Java RPC 框架，阿里巴巴内部孵化，目前活跃在各大公司中台．千米也选择 dubbo 作为中后台基础技术 ，在千米前端技术演进中逐渐选择 node 作为 bff 层开发框架， 所以 node 与 dubbo 无缝打通，就成了重中之重了．&lt;/p&gt;
&lt;h4&gt;feature&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;原生打通：在 tcp 长连接作为数据通道，以 hession 数据格式进行通信;&lt;/li&gt;
&lt;li&gt;服务发现： 支持 zookeeper 作为注册中心;&lt;/li&gt;
&lt;li&gt;middleware 机制：易于扩展;&lt;/li&gt;
&lt;li&gt;全链路跟踪：打通 opentrace zipkin 等跟踪框架，出现问题时易于定位;&lt;/li&gt;
&lt;li&gt;开发人员无缝对接：翻译师根据 java 接口 class 文件分析出抽像语法树(ast)，再将其转化为 typescript 抽像语法树，最终生成 ts 文件，供应用调用;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;现状&lt;/h4&gt;
&lt;p&gt; dubbo2js 已被&lt;a href=&quot;http://dubbo.apache.org/zh-cn/community/index.html&quot;&gt;官方接纳&lt;/a&gt;，并随 dubbo 进入 Apache 开源孵化器，另外 dubbo2js 也在各公司落地，start 数量 即将突破 300&lt;/p&gt;
&lt;h4&gt;相关图片&lt;/h4&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-343dc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.96525364836691%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABuUlEQVQoz42Myy/cURzF7077B3h05ZEoFQvJUMxMJ6KUaizKQqIew4aZnya1mkmszJhuutbWQrusFm0qGGQQEmPHkj9AGPMwr2aSLn45zp3rVxNEuvjknHPP+V4x2afjg0PHzISOKbsOT78O78DdvB/W4Ru6Vp/9OnsHecuNcI//hYu4/xPXu/v3wunNQCPOHDTjzZPByGQGox6F9G99GYxN3d4bXtg/pzAo+ZRC77TSf29E+5KGk2hf03DMpuH69gcO5n7u3kwr5F7S9zEF8XI+jtbvF+hciKOF2vYjnvWvF+Po+pWAFkhidCOJkfUknIEUen4n0P0zgVfcNM9doJ17+ccLagdVNK5GUbsSRdNaFHX0DcTqj+L5egz19PVLMZiXY2hhtvpj2c62pjDxzsxs8as/nlGFdTuMp1thSK3eDKPuymdzIAzLJoeBCFp3IzDvRLJ9I7Gxr+HeRG+hb9hS/4gnwRAk5aRkL4QyUr1/jioi82PZ74dQQS1mrgyqXubSPYW8rwqqW1FwcIp8Unh4ikeHZ5C54CpLcvvCnN7YFPFNvhsb8eD4BAYPSd4d3sg3fd7N7ugEl5KvPE4gHQCzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;dubbo&quot;
        title=&quot;&quot;
        src=&quot;/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-48538.png&quot;
        srcset=&quot;/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-bed0f.png 200w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-5fd34.png 400w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-48538.png 800w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-b70ec.png 1200w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-d134a.png 1600w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-f6ead.png 2400w,
/static/dubbo-89b0bcafbcf6c4e8f1d7da477e06ec50-343dc.png 2878w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-32735.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 73.84615384615384%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAClElEQVQ4y41T2W4TQRDcv+EQhyARIYcSRP4T8cQb/8ADEiDIQUgcx7GTTWzHa+99zN67RfUsDnkAxEilnp2t6a4+xtjYfo2tnV1s0b7c3ME67er6Nl5svsLG9i7WaFfWtnDv0TPcf/wcD5+uajx4cne/cmuN494ZPu/38HGvjy9HQ4wuTQwvTIwElx3OR5c4GwwxGI6wf3iEr3sH6PXP8G3/EAfff+D45FTvT077MJqqRBr6yMsGSV6hBVBWNcqyBNoWeV6gaVpUdQMaJGmGjGdplmte00DfqeUnlxEnKWwvgOsHWNguHO7njgfLzzDzcm3dqGCAig4qbau6RsGANYPIvqHXoigQJwkMURYkJaK0QpjWtDVCVVEtkBbQCv5nCU9UGiFTODEnGExmuHZ8XFg2+uMbXC0cmHMbPXPMswWGswVOr6baDqaW3sudkeViYpsIgzOkicuUVYoxSXM6m9HJ9c0cfqyoroIqWF9CsWYZU/WiRHMtlmTMwNbCR392jbfD93hz/g4fbj7B8IMI5tTG1FFEipmr4DPlKGsRMH1BlLeIWYIwa+AnlT7zVQ07zFnnBCbFjOYebAoxgohOnBheXMKJRFGNnKosNsgNQsQqYwPqDtL9O+i+G05CxYZ6UOQaaVbAY9RGt72DdE06JiPTtt13t35z5FyAdslXFFJ0CidOzmhLElAxsuN6v+Bz7nJ9qRbUHUTA0qmcC1elaadQxqS+S+CFRCki5QBzkDnEYjU4FYqQmVzyZRZFYcFSGVGSwbQzvpRlOtAEibhwXERx0iXbtn+ELBl24WqFBT9sNiPJG/38BFJwUShRRdHfnN0qJF8Cy2sxspwdDQr9QuKsQ8quWRxqSfVf6paQevqcCAn+E7tiVc+flhKSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;dubbo2js&quot;
        title=&quot;&quot;
        src=&quot;/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-48538.png&quot;
        srcset=&quot;/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-bed0f.png 200w,
/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-5fd34.png 400w,
/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-48538.png 800w,
/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-b70ec.png 1200w,
/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-d134a.png 1600w,
/static/dubbo2js-17fdaa65c1105d50a24d0eb172823fd1-32735.png 2080w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/contr-aec639ce60d9f6e9123762920baa7955-cc891.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 76.19047619047619%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACUklEQVQ4y3VU7XLTMBDM+z8OT8AA/cMPmGFoC+lMW9o0TmMntvVhWZaUZU+yQwqDZm4s3+lWq9XaK+cjYgJOp1OOEAKObYumOaDve3Rdh+ZwgFIKMpZ1EiklaGPR9Yo9HXsjVh2bd3WLaZq44JSTPZt7LlJaE0izoc85qS2gy3MiAc9e70v/qtUjqqPFyMQ4BS6IXBD4HkrOv537ue6n8gwhIfCI0pcB1RBhfTrvKEkzjDms82/CSOSaP9c7Y6AHx/mUgVfaBVTtBO2iIBZdrINiLMCXIbUcnI9jxPXuJ25e79DbAVOMhWGjAuSZZoY+CssBRkDtiN4MZyBhItIMrrxv2z0emw1e2wMZyqXYADOK2HJzYHLC8/oWVUMQNscUkAiQUoRcxfb5Hrfre1R9JAkPsshypZgKoCWYm1LRjxGZrDYVjh3tYC2UM3DKkBUb2Fvvtnh5qdAaYc482Y+8EGEdRcNLXy0XM4zTrBfD8GjcVD/dwFQPcES15zq15il0e4Sqt+CeWGEel4BFP9FtyPrloME1vSjWMYPLdSV5bRkmm1us8y9DalLvDL054mA832OpZ5WBzdMv3D1W2Hb05hQXPtkdItfq8nNa5l07oFMDWmo4MLwYO5s+YV/X2Dct/Sc37maTF/P/V0PjFr8Vy4gn1Wwdx0Y9e7Lki2d7PZQj4+9xSucGww9ffCdNnWxAUGHjZEPWVI4/Wuafg/xd5OyRGqQY8LTv8HD9A9+/fsG3TY2rq/d42Kyh1mts6g7vP3zEu0+fsX7ZwRKw+LfYTQB/AzCKi8RNibGvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;contr&quot;
        title=&quot;&quot;
        src=&quot;/static/contr-aec639ce60d9f6e9123762920baa7955-48538.png&quot;
        srcset=&quot;/static/contr-aec639ce60d9f6e9123762920baa7955-bed0f.png 200w,
/static/contr-aec639ce60d9f6e9123762920baa7955-5fd34.png 400w,
/static/contr-aec639ce60d9f6e9123762920baa7955-48538.png 800w,
/static/contr-aec639ce60d9f6e9123762920baa7955-b70ec.png 1200w,
/static/contr-aec639ce60d9f6e9123762920baa7955-d134a.png 1600w,
/static/contr-aec639ce60d9f6e9123762920baa7955-cc891.png 2058w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-1a84d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 61.91222570532916%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABUklEQVQoz5VTy07DMBDM/x8RZyRuHDhwLuJ1KOIh6IkKilBTQKSpSuPUdlO/MqwTihygSrvRxF7Fnp2sx9FbYjEUBqV/yhrOuQp+boyB1hpa6Wq+yn+PHn5PpE0JZd0PUQkLHz73kWUZ4jhGkiSNYv/Bf49Qb6/eRaEwGk6Qs4LmNVaqVwXaIgoXS1Gie2wxePBKHay1DaKQfB2i8PeMNeBzBmpYo2pYtE1tQFhCENfpyRQ7T4/YH4+xO2XoF8u62PaEtEkbCCmod5xEKmhX/lHa2sNwoRAWvYslOoMce5MUR7Mch2yOAxo7c7G9QqUsPkYSKRG/kK9eyXsjQvw9bkTYOGVp0L9juHlnuOQc97LAlVjgWi6Q26Y/15FGYSKlw3PP4DZVOJMSXb7AOZcVZsZuptB7zbvchya7ZOwTXHKwpYKgQ+F0izwmdMUSOjTbovALjwKq3Ge6m3cAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;dubbo  &quot;
        title=&quot;&quot;
        src=&quot;/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-48538.png&quot;
        srcset=&quot;/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-bed0f.png 200w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-5fd34.png 400w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-48538.png 800w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-b70ec.png 1200w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-d134a.png 1600w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-f6ead.png 2400w,
/static/dubbo生态-af5dbf62199ab7cbab1a5d9b83042ef7-1a84d.png 2552w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;魔方建站 Project&lt;/h3&gt;
&lt;h4&gt;解决问题&lt;/h4&gt;
&lt;p&gt;建站工具，解决saas平台用户UI个性化定制，实现千人千面&lt;/p&gt;
&lt;h4&gt;背景&lt;/h4&gt;
&lt;p&gt;如果一个建站工具，开发不会调，测试不能用，售后用不好，客户用的发脾气，产品经理摸不着头脑怎么办? 推翻他，解放人们!&lt;/p&gt;
&lt;p&gt;魔方建站正是基于这么一个背景，在一场24H不眠不休的hackathon比赛中横空出世;&lt;/p&gt;
&lt;p&gt;从一个创意原型到支撑各个业务线，支撑多平台，拥有丰富的精品组件，我们走了两年的时间;&lt;/p&gt;
&lt;p&gt;速度优化上精益求精，把发布时间从120秒，下降到20秒，15秒 ，1秒，100毫秒，每一次突破，都让我们兴奋不已，每一次也都迫使我们提高对技术的认知&lt;/p&gt;
&lt;p&gt;组件上越来越精简丰富，万能热区组件，商品列表组件，freestyle组件，每一个都让我们热血沸腾，激情澎湃;&lt;/p&gt;
&lt;p&gt;支持平台越来越全面，从pc出发，拿下微信端，攻克rn移动端，每一次都让我们对未来充满憧憬; &lt;/p&gt;
&lt;p&gt;责任越来越大，从商城业务线孵化，支撑供货产品线，家政产品线，万米事业部，每多一条产品线，都是对2年积累的认可;&lt;/p&gt;
&lt;h4&gt;feature&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;多平台支持：支持pc web app 建站; &lt;/li&gt;
&lt;li&gt;平台联动： 一套模板，编辑一处，多平台生效; &lt;/li&gt;
&lt;li&gt;丰富的精品组件：自定义布局，多种营销组件，图片组件;&lt;/li&gt;
&lt;li&gt;易于扩展：对接产品线研发人员，可以自己开发组件，发布到我们组件库中，配置成模板便可上架，供用户使用;&lt;/li&gt;
&lt;li&gt;简单：没有任何经验的商户，5分钟便可可配置出精品的页面，没有任何开发技能的UI便可配置模板上架;&lt;/li&gt;
&lt;li&gt;Saas化服务： 简单对接，3天便可调试，5天便能上线&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;now&lt;/h4&gt;
&lt;p&gt;魔方建站已经 在内部支撑多条产品线，举一个例子，万米一套20W的系统加了建站功能可以卖出30W的价格;&lt;/p&gt;
&lt;p&gt;非常遗憾的是,未到实施我们”走出云的战略”;另外对小程序的支持还没进行下去;&lt;/p&gt;
&lt;h4&gt;相关图片&lt;/h4&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-c7650.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.06389776357827%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVQoz3WSzU7CQBSF+x6+hNFENLCBBSvjhhcw8WfXuHCncW1M3GhcuPARfB0VVIwQtEKgNEBpp3/HOSW3GYxMcjI/d+a75/bWemm20H57Rev5CY7joD8YwHVdjMcu+sOR1mI9Gmnpc9cdY+J56HU66Lbf0fnootdz8N0f4PPrB9bF+Rmury5xf3eL2WwGpRSCIMjl+zN4nqvlFZrP5wh1LAxDqChCHEdQYYAsVkiiENb6yQPW9m/QuHwEkCFJUyRJglTPWZYtzSLu4zhGrIGEpkmM5lDB8QJYtd0GKvU9HNmnhTMC6YSOuZ5Op7lzEfd0GGkY70UqRHesMJxqh5WdbWxtbuD48CC/RNEBZ8K5liR0xZmJJEYoE+TV6fKter2OcrkM27bzIB1w8DGhHDwzSyZM7kkCDr63qtUqSqVSDmSQEqDv+8VFE8g93QmQZRfAWq22BOQDEygNMBvDe9yTybWZeMkhy+ChBCeTSVGyCZQEknjxDVeUbDoU+CqH/5ZsAvN/SyuH6KA0RYDyjf8CVzZFOiuPpdRVQDkzHf4CWVZrJMxesiAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20190127 110414 2x&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-48538.png&quot;
        srcset=&quot;/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-bed0f.png 200w,
/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-5fd34.png 400w,
/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-48538.png 800w,
/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-b70ec.png 1200w,
/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-d134a.png 1600w,
/static/WX20190127-110414@2x-104514580e1f023db84b02763e1cb4de-c7650.png 1878w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-530d4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.51628468033775%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAADOElEQVQ4y02S7W8UVRjF51/wm4aWbUvYnZ3ZndmdXfatEkvLquyGVCPuVxMTU2qIISh8oFS2jTQQm2hlJULjGym2UKqUoAY+0KpopDZAEAKmQXkp9mXR1paxtd3OzzuzrO4kZ+5zJ/eeec45j7S8/22sgVNYPX1YxwQ+O47V18/yiQE48gltzdsJP11H44ubCa6LEow8gqgNp46JVSAaIxCOIFlPuFhxrWW5cQuF5zKsPJ+h8MxmFh57HGIbaHm5CZfbTX18A7FQHH/Qhxbyo+oqXp8XRcAje3CLMzYkvGHQamFjGhozkHkJUltA9kH6BVqbtlEpDq6PricRTaAHdEKhELquIQsij0fgEZlD+NtH+7h7aAcnc10M5N5hZOcrDO1qpvONds69+wEtr71O5Zo1aD6NcGAdirfYkeyVnbVUl/bS2S/f46uenezo+5SW0/2c+/hNBrqzZHIn6B0eoWN3K6uqa1AUBUMLCWI/supx5HrVomRvCaqMNDd2h/ytccypPObkFH/OmswvrmDmp2D+IXv3tFNRXeV0GAlG0HTd6ca91v0/SpJFLU3nZ6GwhP2s2K9ro8wM9vLLj98531r3tFFRVYVP9VEbfpJ4Io4a8Dv+lWS6yz384coYXT0XONhzkeu/TsPkfa52vco3uV2wbJHd+5YgdBHUAgT8Oj6RruL3ClIVX1DUmlL0ULF9FB6Ofn+GY4c7OZrr5e74DPdvjPJtrplDW1PcufwT+zo6qXC5MHSDsB5BlVWnK9s/h0TArkt7aS4/yYPbN8nfuwWWxfjYTYZO9TF8+qTwdYJstoNVrtUiEIO4mEM1qDid2HBIbMllfkr//DXHUkGoK1gsmSamuUD5Y3tYKUIJBUNEjRghw0Az/OhhDb894IGibBvO2Fji0oPhM8ycPeoQ/DwxR3f/ea5eulJGWE1DQwPpdJrkxiSpVIq6uqfwyrIThDPcnmI40qII+N7n3UwMDToEX1+e5IuD+7n9YbMYm2mybQdYLVKur2/g2U2bHOJkMkltIoEqZlMWpOWQHs7Oc+34ICPvH2Fx4W8WxA9+v3SeG4ebwPyDtvYDuGpqUFX1v0ulbkqdleNfQhN6TU9maIgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20190127 110439 2x&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-48538.png&quot;
        srcset=&quot;/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-bed0f.png 200w,
/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-5fd34.png 400w,
/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-48538.png 800w,
/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-b70ec.png 1200w,
/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-d134a.png 1600w,
/static/WX20190127-110439@2x-f18a3e7e778ce42c74137d5dc33327f9-530d4.png 1658w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-587e0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.844183564567764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACP0lEQVQoz5WS3UsUURiH9y/xLgKD0vKjVkIyu7CCItA+yAu7CfZuy7Iu0lIqBCEs7MvqxiVIDTVokYLalLyJLly2CNNt12wzWNdWd3Znznw8nZlZ27Xsohd+nHfec95nfmfm9VR0jBCOLaLlFP4Vhq5jGLaMgmRNSKnZLMnEVxKJBXT57Nm+rZLZz7OYpsn7V3O8DIR5M/SRqbEZQoMRIlMxVMNEUXVysllVVRRFcZrdFxmYloUlJYTAU9rcSTSRdJxcOTJAe8MQ93xjPO1o5VzdY7pOjiEwyeQ0p8mVWZS7ssM25SltaiO68MMpdB99xsVd4/Q3T3D/2CNayka5dWHSPuq404TtyJTuDJkLx9FfQK93D9FozAWeeE2gqZPV0G5WXjTQf7CHOz4baMlrZhHyutmcyqrM7VWTYDvWAatrDxCLx51C4HwQ0VdC8noVKz1byPRuZrgr5OylczrxZc1xKSRIl06FbuZhRcCyqjoJnHcKff7npEOlfL9UQ7J7B4nxSu6efevsxdOC4JzitNoMVy5sncPy6r3EYi4w6HvAfO8peFICI5v4cPk0Qf9wfnis/FJwBMXgIuCXPJBrnXD4OGrbGbRWPxxqhNs3XVfysGFaG/7dtdUoAN1vqPvbsbz7oV6C9jVi1TRgXr3xG/gnbE32HBr2HMqZ9JTvrCc+v+A6HJ+Ah0MwMCL/0KjMB2HyHf8Tnq0VtUyHI2QyGZayGVJCk1LzknlWIZVKbaglKeXnMpPfFvFFZmiZ/sQvqeNOy3o1K38AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;   &quot;
        title=&quot;&quot;
        src=&quot;/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-48538.png&quot;
        srcset=&quot;/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-bed0f.png 200w,
/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-5fd34.png 400w,
/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-48538.png 800w,
/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-b70ec.png 1200w,
/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-d134a.png 1600w,
/static/大转盘-9472e9e9a95e2555fd1ed7de5a3e8767-587e0.png 1874w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-da44d.jpeg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 62.4739402362752%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMEBQb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABQ6PbRmhxX//EABoQAQACAwEAAAAAAAAAAAAAAAMBAgQTIjT/2gAIAQEAAQUCEKWCcdUl6a1FJ115XM9P/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB4QAAICAQUBAAAAAAAAAAAAAAABAhEhAxIiUXGB/9oACAEBAAY/At1cvStSnXbHF18IxwYbyiR//8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFRgaGx/9oACAEBAAE/IRDVjHtBqVcmteJ4QZCnHuBQxHLcvu258n//2gAMAwEAAgADAAAAEFgv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAEDAQE/EDjF/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARMf/aAAgBAgEBPxBcZ7f/xAAcEAEBAAIDAQEAAAAAAAAAAAABEQAhMUFRcZH/2gAIAQEAAT8QtNVNkCzX5goFGx0spPneDlB0lFB733gKEtRreXPOJw7T7Hi41Shazenmf//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;      &quot;
        title=&quot;&quot;
        src=&quot;/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-78f2b.jpeg&quot;
        srcset=&quot;/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-dce19.jpeg 200w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-c1413.jpeg 400w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-78f2b.jpeg 800w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-ab4c4.jpeg 1200w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-bc99b.jpeg 1600w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-34a60.jpeg 2400w,
/static/建站示例图片-d7ee31d2ca6b950edb43df2495ae51a9-da44d.jpeg 2878w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/管理页面-d2be97f15dcd225acf4db01b072b2169-587e0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.08537886872999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACCElEQVQoz41TXWsTQRTdP+NbRbTI2ipIEvEHCCKCLwqK1qz6IiIGfLavVv+QCH1WQgXRBHet2zbpfs7Ox34c752JIRULDhxm7p3dM+eeO+ONx2N8/bKHvc+fEMcHmM/nyLKMkGJ2TEgLFEW+yDmURYFfUYRo8h3hNML+/gHioxnC+Ajeq9EI29tv8G7nLURZwhiNqpKQVQVhQWspUUk3W1CeZ6U1NH2vZAWlFLSS8PqDazh3fh1bjx5iN1IYxxLoatRNi7Z16Lpuuf5XbEE5rQ2861c30b98EY/v38XhcUbS58jzHEIIpGmKnMrjWJOapmkseP0HrIwJ0dFeTYRrt1/izM0XuDV6DylK648tlQiZjOOCYIxZgmPe5zklTzWRTmcCSangbdx5jrUbAe693rEbrKaqFp6QgrqunYKVwTkGl24MzaTsQ2jwI9HwBld8bF44i2dbD6zRrlxHyDEfwmPVPz6IlXL53Ji21tj9qRGlRNjrD+Bf2kDw5KklKanTrptOIZNPJtOF8ScJObckjMyCsNeD7/sIgsASciOYlNdcjtYSYTShn7vTFRpWeAphlmbWcOehsZ2ruQn5DIZ84+E6/J+EeXayKR2V2aoYtfhGP4Z0PYQl4wfQNCsl/004HA6td0mS2LL5SkhF96xidTHpIs8aQWUbyit7IHeaX1VNtnwMFXVZ4TdBoWMMIhXHEQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;    &quot;
        title=&quot;&quot;
        src=&quot;/static/管理页面-d2be97f15dcd225acf4db01b072b2169-48538.png&quot;
        srcset=&quot;/static/管理页面-d2be97f15dcd225acf4db01b072b2169-bed0f.png 200w,
/static/管理页面-d2be97f15dcd225acf4db01b072b2169-5fd34.png 400w,
/static/管理页面-d2be97f15dcd225acf4db01b072b2169-48538.png 800w,
/static/管理页面-d2be97f15dcd225acf4db01b072b2169-b70ec.png 1200w,
/static/管理页面-d2be97f15dcd225acf4db01b072b2169-d134a.png 1600w,
/static/管理页面-d2be97f15dcd225acf4db01b072b2169-587e0.png 1874w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-3a656.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 59.93623804463337%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACD0lEQVQoz4VTTWsUQRCdH+NFQQSDXlTUmENAJAnqagIJRsWgORiIF39ZPIn4M8QcNq6bXXd3vnpn+nueVd0zkxwEG4qu7q5+9d6jOzn5coLv375i8nuEyfk55vM5ZrMZ8jxHmuWYZQKiLFEURYiS87zA+OwXhqc/MRqOMBpPMZr8wdl4gmRl5TYGL7ZDobUGxhhow7OG1jrk1sR9DmstlpWkqELONUpKFGIJWVdI1tafY/fVIYQQkHTQeAfAwzkHT2GtI1AXLnMwqGtzronh4b0Pc/Lw0Qb29g9R15KYaKTCYDg3aJqGgBto22CpfA8SWFNwcx5c1wWDJndXt7D3+iMqkqCVwryUOB1n1M0GubzHOTOr67pnyswUndnWBmNsBLy/uomDD5/CISnFtEqRVRnlDQx5KrVs5bgAqEKDaIfS5Kdkb2ntXQRcfzzAwfvjwIaHY89IEg/feJIc84bl075p63gYF+1QxqNp5ScP1jbx9t0RFcdCph/YMjh11Vb1XnX+df4a61EpYq596yMxvH7zHgY7bwLQ/wDDk/oHoAyAkXVy7cYdPHu5H0y9DMgFDKgYsGnlX2IYGhDgUkZAfgWVSJFcuXoLG093g6EdEza9881623vWvbt+TVekIWCavdPIpj+QPNnawdHxZywWafxuaUr54uKbFXl49EJcfL+4FijoPMtL5EVJ6yWqWuEvlr99zMonixUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;    &quot;
        title=&quot;&quot;
        src=&quot;/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-48538.png&quot;
        srcset=&quot;/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-bed0f.png 200w,
/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-5fd34.png 400w,
/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-48538.png 800w,
/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-b70ec.png 1200w,
/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-d134a.png 1600w,
/static/设备对接-4546d42d72953248d3e6e5c7f538f4a8-3a656.png 1882w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;%E9%A1%B5%E9%9D%A2%E7%AE%A1%E7%90%86.png&quot;&gt;&lt;/p&gt;
&lt;h3&gt;rn-boat  Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h3&gt;云小店(产品线负责人) Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h3&gt;云商城  Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h3&gt;商品中心  Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h3&gt;华泰证券监控 Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h3&gt;华泰证券自动化 Project&lt;/h3&gt;
&lt;p&gt;TODO&lt;/p&gt;
&lt;h2&gt;美好瞬间&lt;/h2&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-27152.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIDBAUB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAD/9oADAMBAAIQAxAAAAHlRmNEIRJk07mTgG+V/8QAGxAAAgMBAQEAAAAAAAAAAAAAAQIAAxESEyH/2gAIAQEAAQUCsfRzs5hPxF1OhLKdfwaeRlSg3bkVFz//xAAZEQACAwEAAAAAAAAAAAAAAAAAAQIQEWH/2gAIAQMBAT8Bl2mjD//EABcRAAMBAAAAAAAAAAAAAAAAAAABEhD/2gAIAQIBAT8BTyij/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAIBEBExQf/aAAgBAQAGPwI7SkNLqsHpibhFZPK3On//xAAcEAACAgMBAQAAAAAAAAAAAAAAAREhMUFRYZH/2gAIAQEAAT8hzwpsOkVlivJuxj5i27LHPwSHBU3Y4aPHBd0Ra2oTM4GJEmzP/9oADAMBAAIAAwAAABAE2L7/xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhUf/aAAgBAwEBPxDDQq4JsIP/xAAXEQEBAQEAAAAAAAAAAAAAAAAAEQFB/9oACAECAQE/EMOLq1v/xAAdEAEBAAMBAAMBAAAAAAAAAAABEQAhMUFRgZHR/9oACAEBAAE/EA3cVQ4C7xxZAp3KVKLr1/mDMyDsopA/MqgNWCIGW0KDe0XprtwCa9r2FizuIL93zgikaU+cxEkbLDAaxCPrDP/Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2616&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-dce19.jpg 200w,
/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-c1413.jpg 400w,
/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-78f2b.jpg 800w,
/static/IMG_2616-fef4f9b27cfb6f7c2eecfd1799b17c1f-27152.jpg 1080w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2614-a616624d3260f0018bc7821770ff00e6-78f2b.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.12499999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGV8zis8BP/xAAZEAEBAAMBAAAAAAAAAAAAAAABAgADERT/2gAIAQEAAQUC0Tr4+ZxEZem2SbVp/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAcEAACAgIDAAAAAAAAAAAAAAAAAQIRITESIiP/2gAIAQEABj8C9FvRUUVwInVVgt5Z/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFRcYH/2gAIAQEAAT8heLV5bhLZ+xMgexLGaAJixsxESvRn/9oADAMBAAIAAwAAABBQ7//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8Qe0Y//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EIm3/8QAGxABAQEAAwEBAAAAAAAAAAAAAREAITGhQWH/2gAIAQEAAT8QW3oTSj8mfLZZDxzk8A9Fp7rX+JdF1+6ATOcocPKV3//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2614&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2614-a616624d3260f0018bc7821770ff00e6-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2614-a616624d3260f0018bc7821770ff00e6-dce19.jpg 200w,
/static/IMG_2614-a616624d3260f0018bc7821770ff00e6-c1413.jpg 400w,
/static/IMG_2614-a616624d3260f0018bc7821770ff00e6-78f2b.jpg 800w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-27152.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAwT/2gAMAwEAAhADEAAAAZuxVB9FQFt4rhC2D//EABsQAAIDAAMAAAAAAAAAAAAAAAEDAAIREBIT/9oACAEBAAEFAmXywYCfQGXUbxdGLZ0JOZz/AP/EABwRAAICAgMAAAAAAAAAAAAAAAABAgMREhNBQv/aAAgBAwEBPwGcfL6FXUbPjMs//8QAGREBAAIDAAAAAAAAAAAAAAAAAQACEBJR/9oACAECAQE/ATsbS4bY/8QAGhABAAIDAQAAAAAAAAAAAAAAAQAxEBESIP/aAAgBAQAGPwK5rAweGKl+P//EABoQAQEBAAMBAAAAAAAAAAAAAAERABAxcUH/2gAIAQEAAT8hGLGPBq7wY17U91woHWpKKs0dN84//9oADAMBAAIAAwAAABCI1z//xAAZEQEAAwEBAAAAAAAAAAAAAAABABEhsVH/2gAIAQMBAT8QBoMxBG9lLR95LtWf/8QAGREBAQEBAQEAAAAAAAAAAAAAAREAIVGx/9oACAECAQE/ELBrrlvM4U8+4AIb/8QAHBABAQADAAMBAAAAAAAAAAAAAREAIUExUaHR/9oACAEBAAE/EJrkSC/ZnKmg3cdqUaT05sqBoOldJ5v6ZcNTxpyhKe0uAVHbvGw1wbwz/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2615&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-dce19.jpg 200w,
/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-c1413.jpg 400w,
/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-78f2b.jpg 800w,
/static/IMG_2615-c54bd1d1b5db454ab9dacdf1c8d4dbe1-27152.jpg 1080w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-9abe2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABSlqiNY0hn//EABkQAAIDAQAAAAAAAAAAAAAAAAECAAMRBP/aAAgBAQABBQJcgOTQY9JqZ1sMXmTP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/Aa1//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AZWv/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERMQIQIf/aAAgBAQAGPwIjUp0UdyZ//8QAGhABAAMBAQEAAAAAAAAAAAAAAQARITFBYf/aAAgBAQABPyEM6ZjFVap7Fl0zcPDmXOmQN7PXXwn/2gAMAwEAAgADAAAAEODf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EEti/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQBh/9oACAECAQE/EHLbf//EABsQAQEBAAIDAAAAAAAAAAAAAAERACFRcYGh/9oACAEBAAE/ELeDwUeHIzQ1PElyAsPbMKeewUyPvBjWIAsgJXuXTLvAnzf/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2605&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-dce19.jpg 200w,
/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-c1413.jpg 400w,
/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-78f2b.jpg 800w,
/static/IMG_2605-8028ae9b005138348d921dc7fe665d31-9abe2.jpg 1008w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-4b6f1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEAf/EABYBAQEBAAAAAAAAAAAAAAAAAAIDBP/aAAwDAQACEAMQAAABn1HnpmLBD//EABwQAQACAQUAAAAAAAAAAAAAAAEAEQIEEhMUIf/aAAgBAQABBQJ2kuxz967OBYaYn//EABcRAAMBAAAAAAAAAAAAAAAAAAABEmH/2gAIAQMBAT8BnCGf/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Bqv/EABwQAAEDBQAAAAAAAAAAAAAAAAABETEhIjJBUf/aAAgBAQAGPwK1XoP0gyESGNn/xAAcEAADAAIDAQAAAAAAAAAAAAAAARExQSFRYYH/2gAIAQEAAT8hV6e5vpunyxcig0/BDSEz2Rqsf//aAAwDAQACAAMAAAAQH8//xAAZEQACAwEAAAAAAAAAAAAAAAAAAVFhkeH/2gAIAQMBAT8Qm+ixaf/EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQIBAT8QS6Sf/8QAHBAAAgMBAAMAAAAAAAAAAAAAAREAITFhUZHB/9oACAEBAAE/EKcT6nqIG5b0bGWOPITNCyjqE6CoSyXnktQKsggT/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2606&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-dce19.jpg 200w,
/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-c1413.jpg 400w,
/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-78f2b.jpg 800w,
/static/IMG_2606-1979fa68b3204db9b3f31f991eed991f-4b6f1.jpg 1000w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2612-54864a17faf4b2d6f0a20bd83556e357-534f3.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 640px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMFAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAezlWKPcM6RW0M6//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEQMT/9oACAEBAAEFAqQjWjpU5xWV5wdYlNU8dNH/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREQIVFS4f/aAAgBAQAGPwJTK7Cp4NwvBo//xAAdEAACAgMAAwAAAAAAAAAAAAABIQARMUFRcaHB/9oACAEBAAE/IVbmY/kuYDm1kcj5K0b5yA1myXASMz7ldZkAJSBFP//aAAwDAQACAAMAAAAQwO8+/8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQESH/2gAIAQMBAT8QDlrAX//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEP/aAAgBAgEBPxA1b//EABwQAQEBAQACAwAAAAAAAAAAAAERIQBBYTFR8P/aAAgBAQABPxCZgwmzDzwsPFjzvKIc++RRxCuBAT71ezif6eVaxRrehWWVykdQLYkLG0fv4OfgEYHf/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2612&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2612-54864a17faf4b2d6f0a20bd83556e357-534f3.jpg&quot;
        srcset=&quot;/static/IMG_2612-54864a17faf4b2d6f0a20bd83556e357-2fba4.jpg 200w,
/static/IMG_2612-54864a17faf4b2d6f0a20bd83556e357-c4be3.jpg 400w,
/static/IMG_2612-54864a17faf4b2d6f0a20bd83556e357-534f3.jpg 640w&quot;
        sizes=&quot;(max-width: 640px) 100vw, 640px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2613-93626954630488bf2b4bb008ffd60c91-78f2b.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABsZjNy3CCf//EABsQAAICAwEAAAAAAAAAAAAAAAECAxESISQz/9oACAEBAAEFAlYZFlphu+qexHH5/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGH/8QAHBAAAQQDAQAAAAAAAAAAAAAAAQACESEQEkFx/9oACAEBAAY/AtUTdYDY7Mokum03xf/EABsQAQADAQADAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/IQm2p7gFdacgXlE5Hbz5AwhquRu7f1P/2gAMAwEAAgADAAAAEHg//8QAFxEAAwEAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPxAzV//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCGP//EABoQAQADAQEBAAAAAAAAAAAAAAERITEAUcH/2gAIAQEAAT8QgrUJ8RvQEDQt1npfSDZZzmmzBtZBPhHAITho1Qw4cCYcGVff/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2613&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2613-93626954630488bf2b4bb008ffd60c91-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2613-93626954630488bf2b4bb008ffd60c91-dce19.jpg 200w,
/static/IMG_2613-93626954630488bf2b4bb008ffd60c91-c1413.jpg 400w,
/static/IMG_2613-93626954630488bf2b4bb008ffd60c91-78f2b.jpg 800w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-f4c42.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 77.33142037302726%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAB66u4vOXD/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACAxEQEiH/2gAIAQEAAQUCqRESU0P1wOD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAQIS/9oACAEDAQE/AdJs/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECIf/aAAgBAgEBPwFyKcP/xAAZEAADAQEBAAAAAAAAAAAAAAAAARECEDL/2gAIAQEABj8C9Id0hTSnYf/EABoQAAMBAAMAAAAAAAAAAAAAAAABESExYfH/2gAIAQEAAT8h8oWsFNUMkIxQnSGqo+GJBFiP/9oADAMBAAIAAwAAABCgz//EABgRAQADAQAAAAAAAAAAAAAAAAEAEZEx/9oACAEDAQE/EBDwwljdGE//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQCR/9oACAECAQE/EBSV66AK9d//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPxC7zRCEqHaTNRAKWhiVQF9662QhHujABAu//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2602&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-dce19.jpg 200w,
/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-c1413.jpg 400w,
/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-78f2b.jpg 800w,
/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-ab4c4.jpg 1200w,
/static/IMG_2602-11f54fb0f3d928f3169b7eeeb606197f-f4c42.jpg 1394w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-d603c.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAc1IbJrxNFEtKOxdBox//8QAHBAAAgICAwAAAAAAAAAAAAAAAQIAAwQSERMh/9oACAEBAAEFAsdFd3TiAgAgo1mTs3cI9u8MrqGsr9E//8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQMBAT8BI//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFlVtf/xAAhEAABAgQHAAAAAAAAAAAAAAAAASECEBExEiIyQUKBkf/aAAgBAQAGPwLOtuJih7QYhaG5RNI1fRNii2HWSS//xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPyFRRfs1gNLPBAxg+Q3oQadlBRrvuNzRHyku4z5u4Oc3KiiuLGJs7DhP/9oADAMBAAIAAwAAABDU+D//xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhUf/aAAgBAwEBPxB6HOidtIj/xAAZEQEBAQADAAAAAAAAAAAAAAABADERUWH/2gAIAQIBAT8QHqEMhxl6X//EAB4QAQACAgIDAQAAAAAAAAAAAAEAESFBMXFRYYHB/9oACAEBAAE/EDS9YoMF31Aa2AJoKE6NfsqbUs1zMAs7poqsd+TyLSN+/U5Uy7rPyo3NcEcCV4iNUcBWHuKmxoKMam0c3sZmdwceJ//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2600&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-dce19.jpg 200w,
/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-c1413.jpg 400w,
/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-78f2b.jpg 800w,
/static/IMG_2600-4dd451fbe50761b412537cf8cd337ac5-d603c.jpg 960w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-1a1df.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.62546353522868%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABizWlnHg//8QAGhABAAIDAQAAAAAAAAAAAAAAAgERAAMSIv/aAAgBAQABBQK9kK3fvAClOkZxUf/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAgMBAAAAAAAAAAAAAAAAEQEyAiJxkf/aAAgBAQAGPwKNi5fL0lvhImf/xAAaEAADAQEBAQAAAAAAAAAAAAABESEAMVEQ/9oACAEBAAE/IeAIlcGazLwRfAO7hBUxVNeApYIMk3//2gAMAwEAAgADAAAAEG//AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxAQ2J//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EI3hD//EACAQAQACAgEEAwAAAAAAAAAAAAEAESExcUFRYYGR0eH/2gAIAQEAAT8QC11QfliZ/euxLegVv3Du+T9ypyZG7d6jlN+RK4MMlw0VtefM/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2603&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-dce19.jpg 200w,
/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-c1413.jpg 400w,
/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-78f2b.jpg 800w,
/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-ab4c4.jpg 1200w,
/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-bc99b.jpg 1600w,
/static/IMG_2603-e8c6cf61c35c59cb5e6ff7189c12f124-1a1df.jpg 1618w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-d1d70.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAABfIJYQmRSU//EAB0QAAEDBQEAAAAAAAAAAAAAAAEAAgMEEyEjMkH/2gAIAQEAAQUC8NUVdcpMAs2x8f/EABURAQEAAAAAAAAAAAAAAAAAABAS/9oACAEDAQE/AZP/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAQIR/9oACAECAQE/AYs1/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAFxAhExMlH/2gAIAQEABj8CHTl9NBSXUiP/xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAQABPyFZWm9dZl+meF4V11uAAMY6/9oADAMBAAIAAwAAABAY/wD/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EFHLC//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QB62r/8QAGxABAQACAwEAAAAAAAAAAAAAAREAMSFBYVH/2gAIAQEAAT8QNNiXcuU441AB8J44FAFO3GHLJyGTJvCd1fMk6stvTdZ//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2608&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-dce19.jpg 200w,
/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-c1413.jpg 400w,
/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-78f2b.jpg 800w,
/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-ab4c4.jpg 1200w,
/static/IMG_2608-47ebe4fd61e0d1c2e501c9a09bb57a84-d1d70.jpg 1280w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-d1d70.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEFBP/EABQBAQAAAAAAAAAAAAAAAAAAAAP/2gAMAwEAAhADEAAAAdhMRpRGIf8A/8QAGRAAAwEBAQAAAAAAAAAAAAAAAQIDABES/9oACAEBAAEFAveLcxmpMm6aMy6TF5//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8BdJ//xAAWEQEBAQAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8BCMz/xAAZEAACAwEAAAAAAAAAAAAAAAAAAQIRMSH/2gAIAQEABj8COmDtiUcFI//EABoQAAIDAQEAAAAAAAAAAAAAAAERACFRMUH/2gAIAQEAAT8hRrID0FrY/G0ayPIKo6hDdIuf/9oADAMBAAIAAwAAABDoD//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8Qnqt//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxAt/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARMSFhQaH/2gAIAQEAAT8QEd29QSyrgde8zYoqLaaitZpXyc2Wsur1be8/Z5q5W3U//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2609&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-dce19.jpg 200w,
/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-c1413.jpg 400w,
/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-78f2b.jpg 800w,
/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-ab4c4.jpg 1200w,
/static/IMG_2609-71cf6a9d0f7462712d5684a9a328c501-d1d70.jpg 1280w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-1a1df.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.62546353522868%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABizWlnHg//8QAGhABAAIDAQAAAAAAAAAAAAAAAgERAAMSIv/aAAgBAQABBQK9kK3fvAClOkZxUf/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAgMBAAAAAAAAAAAAAAAAEQEyAiJxkf/aAAgBAQAGPwKNi5fL0lvhImf/xAAaEAADAQEBAQAAAAAAAAAAAAABESEAMVEQ/9oACAEBAAE/IeAIlcGazLwRfAO7hBUxVNeApYIMk3//2gAMAwEAAgADAAAAEG//AP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxAQ2J//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAECAQE/EI3hD//EACAQAQACAgEEAwAAAAAAAAAAAAEAESExcUFRYYGR0eH/2gAIAQEAAT8QC11QfliZ/euxLegVv3Du+T9ypyZG7d6jlN+RK4MMlw0VtefM/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;IMG 2611&quot;
        title=&quot;&quot;
        src=&quot;/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-78f2b.jpg&quot;
        srcset=&quot;/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-dce19.jpg 200w,
/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-c1413.jpg 400w,
/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-78f2b.jpg 800w,
/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-ab4c4.jpg 1200w,
/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-bc99b.jpg 1600w,
/static/IMG_2611-e8c6cf61c35c59cb5e6ff7189c12f124-1a1df.jpg 1618w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[网红工具了解下]]></title><description><![CDATA[不是为了做网红. 团队内部做分享,需要把视频录制下来,做知识积累. 想做的高大上呢. 所以查资料看看 youtube…]]></description><link>https://github.com/creasy2010/网红工具了解下-obs直播教学/</link><guid isPermaLink="false">https://github.com/creasy2010/网红工具了解下-obs直播教学/</guid><content:encoded>&lt;p&gt;不是为了做网红. 团队内部做分享,需要把视频录制下来,做知识积累. 想做的高大上呢. 所以查资料看看 youtube 上高大上的视频怎么搞出来的. 一查才发现,原来网红这个群体已经把直播工具用到炉火纯青的地步了. 下面进一步了解呢.&lt;/p&gt;
&lt;p&gt;在了解文章前 大家最好对图片是什么有一个初步的了解;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-54a8d.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 77.13625866050808%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGZ8Go0WV//xAAaEAADAAMBAAAAAAAAAAAAAAAAAQIDEiEi/9oACAEBAAEFAonYVYpG+7UP0cP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAQUAAAAAAAAAAAAAAAAAIQECECMxYf/aAAgBAQAGPwJ1zEcMiFoQ3b//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhUUFh/9oACAEBAAE/Iba17PqEVTwO7CWt1kBu0dOHZYAqf//aAAwDAQACAAMAAAAQvM//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFR/9oACAEDAQE/EIsIj//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCsrP/EABsQAQEAAwADAAAAAAAAAAAAAAERACFBMVHR/9oACAEBAAE/EI4aBsvxjkYoreTazuVFqZXxzIKByMyJPoN5gQMhNOf/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;obs&quot;
        title=&quot;&quot;
        src=&quot;/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-78f2b.jpg&quot;
        srcset=&quot;/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-dce19.jpg 200w,
/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-c1413.jpg 400w,
/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-78f2b.jpg 800w,
/static/OBSDemoApp-6431b8272ff6f4784c1552c6b30acbbc-54a8d.jpg 866w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;从一些问题入手,来浅层次了解下相关工具&lt;/p&gt;
&lt;h3&gt;obs 是什么&lt;/h3&gt;
&lt;p&gt;看下&lt;a href=&quot;https://obsproject.com/&quot;&gt;官方&lt;/a&gt;描述:“Free and open source software for video recording and live streaming.”
从这句话我们知道 他是用来做视频录制,可以生成直播流的工具,是一款开源软件,当前斗魚等直播平台 都是在这个基础上进行开发;该软件官方文档 支持 16 国语言,可见其流行程度;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://obsproject.com/&quot;&gt;feature&lt;/a&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;高性能实时视频音频捕获与合并;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;视频数据来源广;
可以从图片, 文本,浏览器,屏幕,摄像头等获取视频流;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多场景化,无缝切换;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以实时播放;
(推流)将本地生成的视频流实时推送到 youtube,mixer, 优酷,斗鱼等视频平台,其他人可以直接收看,后面又可以看录播内容;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;合成视频布局自定义处理;
通过简单的可视化拖拽实现多个视频的布局&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;插件机制可扩展;
强大的程序猿通过编写脚本插件等实现定制功能;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多平台支持, windows mac linux 支持;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;obs 直播摄像头透明背景怎么弄&lt;/h3&gt;
&lt;p&gt;经常在 youtube 上看到下图类似的视频,人物  跃然纸上,又很少影响讲解内容的地方; 如何做到呢?

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/v2-5963caab0b462113a6c0fce42ca59e35_hd-aa63fa577ed2ad30ddcb71421d684a0d-63130.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 550px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.63636363636364%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB51uOVFf/xAAaEAEAAQUAAAAAAAAAAAAAAAABAAIQERMx/9oACAEBAAEFAgmbVrrez//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAACEDH/2gAIAQEABj8Cmi3/xAAZEAADAAMAAAAAAAAAAAAAAAAAATEQEUH/2gAIAQEAAT8hpwaSI2xQvJ//2gAMAwEAAgADAAAAELMP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QJ//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxCxj//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQVGB/9oACAEBAAE/EBFJS8F6lwGF2ks8fYoFgWi+JoXuQ0L2f//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;v2 5963caab0b462113a6c0fce42ca59e35 hd&quot;
        title=&quot;&quot;
        src=&quot;/static/v2-5963caab0b462113a6c0fce42ca59e35_hd-aa63fa577ed2ad30ddcb71421d684a0d-63130.jpg&quot;
        srcset=&quot;/static/v2-5963caab0b462113a6c0fce42ca59e35_hd-aa63fa577ed2ad30ddcb71421d684a0d-202ec.jpg 200w,
/static/v2-5963caab0b462113a6c0fce42ca59e35_hd-aa63fa577ed2ad30ddcb71421d684a0d-900dc.jpg 400w,
/static/v2-5963caab0b462113a6c0fce42ca59e35_hd-aa63fa577ed2ad30ddcb71421d684a0d-63130.jpg 550w&quot;
        sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;简单来说,把有绿幕的视频流逐帧做”扣图”处理, 然后与另一视频源合并;将处理过程可视化便可见下图&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/huanghuangjin/article/details/81461040&quot;&gt;图片绿幕处理算法&lt;/a&gt;
&lt;img src=&quot;/20180806224311406-ecf17910d103d2c8afff176abd716bdf.gif&quot; width=&quot;922&quot; hegiht=&quot;922x500&quot; align=&quot;center&quot;&gt;&lt;/p&gt;
&lt;p&gt; 做为一个程序员,  肯定要死磕到底,如何实现这一流程呢?&lt;/p&gt;
&lt;p&gt;我们的第一印象,图片由像素组成的,将特征点(绿幕)逐一判断,如果符合就设置为透明.这样就需要两个循环,多层循环视频流里每一  帧图像,内层  循环  图像的每一个像素点,如果在阀值范围内,则设置为透明;&lt;/p&gt;
&lt;p&gt;代码很简单, 当然如果你写下去会发现  效率极差. 哈哈.&lt;br&gt;
其实这个逻辑 openCV 已经给我们做到了封装,其算法都是通过  矩阵运算,故性能有所保障;
其两个步骤便可实现&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过  阀值与源图片文件得到图像掩码(二值化,即下图中的黑白图);&lt;/li&gt;
&lt;li&gt;将掩码从源图像中获取透明效果图,再将透明效果图与另一视频源做合并 处理即可;&lt;/li&gt;
&lt;/ol&gt;
&lt;img src=&quot;/20180806224311406-ecf17910d103d2c8afff176abd716bdf.gif&quot; width=&quot;922&quot; hegiht=&quot;922x500&quot; align=&quot;center&quot;&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/huanghuangjin/article/details/81461040&quot;&gt;OpenCV 之图像分割(六) 绿幕背景视频抠图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/34608752&quot;&gt;绿屏抠像教学&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;插件实现&lt;/h3&gt;
&lt;p&gt;(obs plugins 官方文档)[https://obsproject.com/docs/plugins.html]&lt;/p&gt;
&lt;p&gt;偷个懒 这块暂时没用到,后面再看&lt;/p&gt;
&lt;h3&gt;有那些插件&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://www.obsapp.com/apps/&quot;&gt;斗鱼相关插件&lt;/a&gt;
&lt;a href=&quot;http://www.obsapp.com/article/4173.html&quot;&gt;斗图&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;相关资料&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.obsapp.com/&quot;&gt;obsapp&lt;/a&gt;
&lt;a href=&quot;https://obsproject.com/&quot;&gt;obs 官网&lt;/a&gt;
&lt;a href=&quot;http://www.obsapp.net/&quot;&gt;obs 中文网&lt;/a&gt;
&lt;a href=&quot;https://juejin.im/post/5b14cacae51d45068b495725&quot;&gt;obs+node-media-server+flv.js 实现录播和直播&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[what's React Hook?]]></title><description><![CDATA[react Hook 是 react16.7-aplha 新特性;
下面来认识下什么是 react-hook; 为什么而引入 在(官主文档) https://reactjs.org/docs/hooks-intro.html#motivation…]]></description><link>https://github.com/creasy2010/react-hook解读/</link><guid isPermaLink="false">https://github.com/creasy2010/react-hook解读/</guid><content:encoded>&lt;p&gt;react Hook 是 react16.7-aplha 新特性;
下面来认识下什么是 react-hook;&lt;/p&gt;
&lt;h2&gt;为什么而引入&lt;/h2&gt;
&lt;p&gt;在(官主文档)[https://reactjs.org/docs/hooks-intro.html#motivation]上有详细的说明;
主要基于三点而引入这个新特性;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;组件内与状态有关的逻辑很难重用;
目前这部分的重用,主要使用(高阶组件)[https://reactjs.org/docs/higher-order-components.html] 或(render props)[https://reactjs.org/docs/render-props.html],而这种方式会破坏组件的结构 比如我们使用的 react-router,plume2, redux 等库写出的代码,最终在 dom 层会包很多层; 而使用 react-hook 却不会有这样的结果 .&lt;/li&gt;
&lt;li&gt;组件变得难以理解;
任何事情刚开始总是简单易用,当代码有了量变后,有些混乱才会显示出来;在组件中一般我们会把相关逻辑放到 生命周期方法 componentDidmount componentDidUpdate 中, 但这两个生命周期方法可能会包含 2 个甚至多个不相关的逻辑 .时间一长,代码量大了之后会产生混乱,导致容易出错,不易维护; 而使用 react-hook 可以把一个完整的逻辑封装在一起.&lt;/li&gt;
&lt;li&gt;class component 很难进行编译优化;
官方文档还强调了会对开发人员有更高的要求 ,比如要理解 this bind 等操作(这一点不太同意,不做详细说明了)
然而编译优化却是一个难点; 目前前端框架如 svelte, angular glimmer vue.js 等大量产生, 对 react 来说性能优化也要跟上 如 component folding, hot reloading 等,在 class component 开发模式,速度慢,可信度也不高; 而使用 react-hook 使 reactd 在编译阶段的优化变的简单明了可靠;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;个人使用感受&lt;/h2&gt;
&lt;p&gt;试用了下(目前还是测试版本),
第一个感觉是现在做的 react component 似乎成了假的 react ;
第二 函数式的写法给人的感觉很舒服;
第三 Context 使用起来 so easy;
而且 react-hook 考虑到 typescript,相信后面状态库的接入会更简单;&lt;/p&gt;
&lt;h2&gt;useState useEffect 是如何发生变化的&lt;/h2&gt;
&lt;p&gt;不知道大家有没有详细读官方文档 , 有一段说的很清楚:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 1. Use the name state variable&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 2. Use an effect for persisting the form&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;formData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 3. Use the surname state variable&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;surname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSurname&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 4. Use an effect for updating the title&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; surname&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// First render&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ------------&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1. Initialize the name state variable with &apos;Mary&apos;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2. Add an effect for persisting the form&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3. Initialize the surname state variable with &apos;Poppins&apos;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 4. Add an effect for updating the title&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Second render&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1. Read the name state variable (argument is ignored)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2. Replace the effect for persisting the form&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3. Read the surname state variable (argument is ignored)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 4. Replace the effect for updating the title&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;每当状态发生变化时,useState 会执行, 首次执行时,会初始化参数,第二次执行时会读取变量的值, 忽略参数;
useState 会返回一个数组,我们进行数组解构便可以拿到变量值与变量的更新方法(相当于 setState)&lt;/p&gt;
&lt;h2&gt;使用总结&lt;/h2&gt;
&lt;h3&gt;useEffect 优化&lt;/h3&gt;
&lt;p&gt;如上面的例子, 当组件发生变化 useEffect 便会执行一次, 好似在 class component 中在 componentDidmount didUpdate 中调用一般, 那么如何做到只执行一次, 或指定执行次数呢?自己写的代码 不能乱跑&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`You clicked &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;count&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; times`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Only re-run the effect if count changes&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;我们在调用 useEffect 时传入第二个可选参数,当数据发生变化时,才会执行?这样执行一次,或多次我们可以通过控制变量而精确控制&lt;/p&gt;
&lt;h3&gt;为什么只能在顶层使用 useHook?&lt;/h3&gt;
&lt;p&gt;官方举了一个(例子)[https://reactjs.org/docs/hooks-rules.html#explanation],但只说明了,如果不放在顶层 放在条件语句中会导致顺序不一致, 但没有解释 为什么一定要求顺序一致;
难道 useHook 参数只做初始化使用,后面再调用靠的是顺序来确定是什么调用,并不是 key ,如果是这样就说的通了.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 1. Use the name state variable&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 2. Use an effect for persisting the form&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;formData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 3. Use the surname state variable&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;surname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setSurname&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 4. Use an effect for updating the title&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; surname&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// First render&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ------------&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1. Initialize the name state variable with &apos;Mary&apos;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2. Add an effect for persisting the form&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3. Initialize the surname state variable with &apos;Poppins&apos;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 4. Add an effect for updating the title&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Second render&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1. Read the name state variable (argument is ignored)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2. Replace the effect for persisting the form&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 3. Read the surname state variable (argument is ignored)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 4. Replace the effect for updating the title&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 🔴 We&apos;re breaking the first rule by using a Hook in a condition&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;formData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;//如果把usehook放到方法里,会导致顺序与初始化时不一致;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1. Read the name state variable (argument is ignored)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// useEffect(persistForm)  // 🔴 This Hook was skipped!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Poppins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 🔴 2 (but was 3). Fail to read the surname state variable&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 🔴 3 (but was 4). Fail to replace the effect&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;那如果 我们场景中一定要加判断呢?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 👍 We&apos;re not breaking the first rule anymore&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;formData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;custom hooks&lt;/h3&gt;
&lt;p&gt;这个可以看(官方教程)[https://reactjs.org/docs/hooks-custom.html]
在自定义 custom hooks 中可以使用其他 react hooks;&lt;/p&gt;
&lt;h2&gt;context 如何使用 ?&lt;/h2&gt;
&lt;p&gt;传统方式&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ReactDOM &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-dom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Create a Context&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; NumberContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// It returns an object with 2 values:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// { Provider, Consumer }&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Use the Provider to make a value available to all&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// children and grandchildren&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NumberContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Display &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;NumberContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Use the Consumer to grab the value from context&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Notice this component didn&apos;t get any props!&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;NumberContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;The answer is &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;NumberContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;App &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;让我们使用 useContext 优化下 display 的代码:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;NumberContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;The answer is &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;参考文档&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;%5Bhttps://daveceddia.com/usecontext-hook/&quot;&gt;How the useContext Hook Works&lt;/a&gt;
&lt;a href=&quot;https://reactjs.org/docs/hooks-intro.html&quot;&gt;Introducing Hooks&lt;/a&gt;
&lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html&quot;&gt;Hooks API Reference&lt;/a&gt;
&lt;a href=&quot;https://reactjs.org/docs/hooks-faq.html#performance-optimizations&quot;&gt;Performance Optimizations&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2019 plan]]></title><description><![CDATA[2018 年电力已不足,几件有意思的事情罗列下: 学会了游泳; 学会了轮滑; 在带团队上有了明确的提升; 推进 node.js 在公司落地; 2018 年及以前一些规划,所以 2019 年的计划出炉了: 高难度  运动(每天 15 为基数每天+1 个俯卧撑, 5…]]></description><link>https://github.com/creasy2010/2019年计划/</link><guid isPermaLink="false">https://github.com/creasy2010/2019年计划/</guid><content:encoded>&lt;p&gt;2018 年电力已不足,几件有意思的事情罗列下:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;学会了游泳;&lt;/li&gt;
&lt;li&gt;学会了轮滑;&lt;/li&gt;
&lt;li&gt;在带团队上有了明确的提升;&lt;/li&gt;
&lt;li&gt;推进 node.js 在公司落地;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;2018 年及以前一些规划,所以 2019 年的计划出炉了:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;[高难度] 运动(每天 15 为基数每天+1 个俯卧撑, 50 个深蹲,每周一次跑步);&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;中&lt;/a&gt; 教涵涵学轮滑;&lt;/li&gt;
&lt;li&gt;[中] 为 5 本有意义的书(不是 5 本书)做读书笔记;&lt;/li&gt;
&lt;li&gt;[中] 学会 python, 在数据统计及机器学习方面有初步认识,可以做些功能;&lt;/li&gt;
&lt;li&gt;[高] 一个项目出炉(扫描读书软件实现出来 | 或 ydt);&lt;/li&gt;
&lt;li&gt;[可选] 倒腾飞行器;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;未来已来加油&lt;/p&gt;</content:encoded></item><item><title><![CDATA[async-hook]]></title><description><![CDATA[如何在 node 中实现 类似 java 的 threadLocal,react 的 Context? 是什么 node 8 中引入了新特性 async_hook…]]></description><link>https://github.com/creasy2010/async-hook/</link><guid isPermaLink="false">https://github.com/creasy2010/async-hook/</guid><content:encoded>&lt;p&gt;如何在 node 中实现 类似 java 的 threadLocal,react 的 Context?&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;是什么&lt;/h2&gt;
&lt;p&gt;node 8 中引入了新特性 async_hook,一句话概括:“把回调调用的关系体现出来,可以用一棵树形结构来表示回调,并找到父与子的关系”;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181218-142216-1c4c2636182c865258e7b2392e25bda6-bcb1d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 678px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.02654867256638%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACZElEQVQ4y22TW0/bQBCF8///R9Xy0CJQC1WqImgLAgoBQkhwHN8S329rO7aTVFVPzzoxImkfRjOe3fn2zO64U84FsiKBlbgo5ilc4SPNY/oAcq21qsxefL2Jd/PSOj4Le56GYWDCY3zpjDFgPI5mzQG7BTIWedpAX6+1viPVRVnUJFr/WsUatFYjcxJ2a9lw4ugF9No6bbE0qVDwgPo/G6XNaVYYYhZtjNBlnaPcqG0UtpslJMzC5v7adqoqX6ugrVhoExCJhHtSxPSOhPoeFhQxz2LkIlorbIFBCySo4KIIXaS+AzEzMHVmGE40LLnuBB4GmoZfjI8fRzgzDMwlNPZ3gGINXNQFYR5E4KDMEz5QgLfDMRT6P8s5VPq9kYpaqqbSN88qvk5n7CDcBsZ51LS9oEIReaiLFCZbOTYtHEx0XLkOFvIAz8G7kYJzXcdvCri2LLx/6ONYUf5tWbBA5ookgE/rjsfocuOVZeAzoQUBE8/FJ8IO1AkmvoukEDjUDNyEOy3bqde8pPxeUeUDW/uom7gNA9yznX0WPTOnyXhi4MS2sT/mvVYZzqwpjnRj+5UlUA7zkvFUxGxLxSnvph8HtBAfWPzFMGGkEfZVDTd8nEPDgpIJ2FmCPd3aVuimfqNQ2jffx9HUxh1hPbbSp7Jz5k5cDz3GXdvBGb8vTB0zbdi8sqE+rhW2UCWcoqL3OGenw0dcPt3ju2vjgkquCbnSFPwc9WFSod77AUcfoYxdrLQBKgKXnJItYM5XlcC8zJGOeki1J/49MUeDxosXloLa1popWCVeM5NVVaBclM3wl8z/BY5MEpCKgRV5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;调用树&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181218-142216-1c4c2636182c865258e7b2392e25bda6-bcb1d.png&quot;
        srcset=&quot;/static/WX20181218-142216-1c4c2636182c865258e7b2392e25bda6-dd772.png 200w,
/static/WX20181218-142216-1c4c2636182c865258e7b2392e25bda6-6c37a.png 400w,
/static/WX20181218-142216-1c4c2636182c865258e7b2392e25bda6-bcb1d.png 678w&quot;
        sizes=&quot;(max-width: 678px) 100vw, 678px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;让我们用一个简单的 api 一窥究竟;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//参考https://nodejs.org/api/async_hooks.html&lt;/span&gt;

async_hooks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; init&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; before&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; after&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; destroy&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; promiseResolve &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// init is called during object construction. The resource may not have&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// completed construction when this callback runs, therefore all fields of the&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// resource referenced by &quot;asyncId&quot; may not have been populated.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asyncId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; triggerAsyncId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;当我们调用一个异步方法时便触发发 async_hooks init 方法(这是 node 底层赋予我们的能力);
init 方法中有两个参数&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“asyncId”:与回调函数对应的对象标识 id;
triggerAsyncId:(调用)声明回调的函数所对应的对象标识符 id;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;两者是调用与被调用的关系(父子关系).根据这些 id 值,便可以把 node 程序形象表示为一个棵树(这一点很重要)&lt;/p&gt;
&lt;p&gt;node8 中 async_hook 做的很轻只做了这一点,其他丰富的操作要靠我们想像来实现了.&lt;/p&gt;
&lt;h2&gt;Terminology&lt;/h2&gt;
&lt;h3&gt;asynchronous resource&lt;/h3&gt;
&lt;p&gt;一个与回调关联对象,回调  函数可能会被调用 0 次 1 次 N 次;
例如 net.createServer()中的 connection 事件对应的回调会被调用 N 次,而 fs.open()对应的回调会被调用 1 次,至于 0 次的情况大家可以脑补下.&lt;/p&gt;
&lt;h3&gt;AsyncId&lt;/h3&gt;
&lt;p&gt;仅表示一个 asynchronous resource 对象的 id&lt;/p&gt;
&lt;h3&gt;triggerAsyncId&lt;/h3&gt;
&lt;p&gt;从字面意思理解, 触发|调用 异步的 aync resource Id&lt;/p&gt;
&lt;h3&gt;type&lt;/h3&gt;
&lt;p&gt;异步  资源类型:参数格式为 string 可选值为:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;string&quot;&gt;
      &lt;pre class=&quot;language-string&quot;&gt;&lt;code class=&quot;language-string&quot;&gt;FSEVENTWRAP, FSREQWRAP, GETADDRINFOREQWRAP, GETNAMEINFOREQWRAP, HTTPPARSER,
JSSTREAM, PIPECONNECTWRAP, PIPEWRAP, PROCESSWRAP, QUERYWRAP, SHUTDOWNWRAP,
SIGNALWRAP, STATWATCHER, TCPCONNECTWRAP, TCPSERVER, TCPWRAP, TIMERWRAP, TTYWRAP,
UDPSENDWRAP, UDPWRAP, WRITEWRAP, ZLIB, SSLCONNECTION, PBKDF2REQUEST,
RANDOMBYTESREQUEST, TLSWRAP, Timeout, Immediate, TickObject&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;resource&lt;/h3&gt;
&lt;p&gt;resource is an object that represents the actual async resource that has been initialized. This can contain useful information that can vary based on the value of type. For instance, for the GETADDRINFOREQWRAP resource type, resource provides the hostname used when looking up the IP address for the hostname in net.Server.listen(). The API for accessing this information is currently not considered public, but using the Embedder API, users can provide and document their own resource objects. For example, such a resource object could contain the SQL query being executed.&lt;/p&gt;
&lt;h2&gt;应用场景: 隐性传值&lt;/h2&gt;
&lt;p&gt;在回调中有值共享你会怎么做? 一级一级的传递吗?&lt;/p&gt;
&lt;p&gt;熟悉 java 的小伙伴可以回想下 java 的 threadLocal;
熟悉 react 的小伙伴可以考虑下 react 的 context 概念;
在 node 中如何做到呢???? 只能一级一级实现吗?node 中可以借 async_hook 特性轻松实现 node 版本 threadLocal;&lt;/p&gt;
&lt;p&gt;有两个库大家可以参考;
&lt;a href=&quot;https://www.npmjs.com/package/zone-context&quot;&gt;zone-context&lt;/a&gt;
&lt;a href=&quot;https://github.com/angular/zone.js/&quot;&gt;zone.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;eg:使用全链路跟踪传递 traceID&lt;/p&gt;
&lt;h2&gt;zone-context 解读&lt;/h2&gt;
&lt;p&gt;async-hook 使我们可以把相关的回调梳理为一棵树,每一个函数都在树的节点上.同时跟树节点对应,我们可以抽取一个存储的树,key 为 async resource ID,
存值时,以当前 asyncID 为 key 存储一个对象
取值时,先从当前 asyncID 对应的存储对接读取,如果没有值,则从 root 存储对象存储;这里要注意两点:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;当前节点无存储值则从根节点读取;&lt;/li&gt;
&lt;li&gt;是根节点,而不是上级或父节点;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;问题: 是否需要改造为向上级寻找,至到找到为止?&lt;/p&gt;
&lt;h2&gt;参考资料&lt;/h2&gt;
&lt;p&gt;(async&lt;em&gt;hooks Api)[&lt;a href=&quot;https://nodejs.org/dist/latest-v10.x/docs/api/async&quot;&gt;https://nodejs.org/dist/latest-v10.x/docs/api/async&lt;/a&gt;&lt;/em&gt;hooks.html]&lt;/p&gt;
&lt;p&gt;(图解 Node.js 之 async_hooks)[https://blog.csdn.net/liuyaqi1993/article/details/78016166]&lt;/p&gt;
&lt;p&gt;(Node.js v8.x 新特性 Async Hook 简介)[https://zhuanlan.zhihu.com/p/27394440]&lt;/p&gt;</content:encoded></item><item><title><![CDATA[互联网+教育]]></title><description><![CDATA[…]]></description><link>https://github.com/creasy2010/互联网+教育/</link><guid isPermaLink="false">https://github.com/creasy2010/互联网+教育/</guid><content:encoded>&lt;p&gt;互联网+的风吹到学校,听当老师的邻居说起,又特地查了查,感觉这盘棋下的真好;
且听我娓娓道来&lt;/p&gt;
&lt;h2&gt;做什么&lt;/h2&gt;
&lt;p&gt;我所掌握的教育有几个明显的点(也是互联网可以大展身手的地方).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;试卷批改;&lt;/li&gt;
&lt;li&gt;教育资源不均衡;&lt;/li&gt;
&lt;li&gt;所有学生做一套试卷.所以很多时候你在培人做考题;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;而这几个地方也是互联网+教育落地的点;&lt;/p&gt;
&lt;p&gt;我试用了几款软件 “好分数”这一款邻居学校使用的,就用这个来说下吧. &lt;/p&gt;
&lt;h2&gt;怎么进入学校&lt;/h2&gt;
&lt;p&gt;据我了解应该是与学校利益共享,有分成给学校,或直接给学校一笔钱,软件就在学校推广起来了. 也是这互联网中羊毛出在猪身上的经典应用了;
(钱是怎么来了后面会说明)&lt;/p&gt;
&lt;h2&gt;老师使用&lt;/h2&gt;
&lt;p&gt;老师在考试时会把试卷传到平台,学生做的试卷仍是纸质的. 学生交卷后扫描到平台,老师批改试卷即可在平台进行;
试卷中的题目分为主观题与客观题,主观题需要老师在app上批改,客观题会根据正确答案,利用ocr技术自动完成,减少老师工作量&lt;/p&gt;
&lt;p&gt;老师在app上进行批改打分,可以移动办公(在公交上在地铁上),评论也可以以交流语音的形式参与,因为写字这个太麻烦了,倒不如录上一段话,话中的情感也能体现出来.
这样就结束了;&lt;/p&gt;
&lt;h2&gt;学生使用&lt;/h2&gt;
&lt;p&gt;学生要查考试成绩呢,要下载app,改分 看错题;
家长如果要查看分数情况也要下载app看分数;&lt;/p&gt;
&lt;p&gt;这样就结束了吗 ?  当然不是.这才仅仅是个开始,这个基础只是一个舞台. &lt;/p&gt;
&lt;h2&gt;错题集(收费功能)&lt;/h2&gt;
&lt;p&gt;既然平台有试卷,有学生的答卷,有老师的批改,错题集的需求便来了
把学生每次做的错题收集起来. 分析错题背后的知识结构推送相关练习给学生. 错题集的练习当然会跟记忆曲线联系起来. &lt;/p&gt;
&lt;h2&gt;千人千面(收费功能)&lt;/h2&gt;
&lt;p&gt;这也是一重大功能, 一般练习的试卷大家做的都一样, 不能针对尖子生或差生做区分对待, 但平台有了试卷,有了题库,可以自由拼装试券,结合个人以往的错题掌握情况进行针对训练,
而且这个不需要人为干预进来; 尖子生也不需要把题做透了. 达成目的即可了.  &lt;/p&gt;
&lt;h2&gt;知识平移(平台功能)&lt;/h2&gt;
&lt;p&gt;一个学校. 一个区域 一个城市 一个省,如果积累了足够多的信息, 可以不可以把这种能力直接平移给西部, 给山区,因为对老师的要求降底了许多.这种降底不是质量的降低而是繁杂工作少了,一个老师就能影响更多的人了
就好比一个老师 face-to-face 一节课只能影响几十个同学, 但如果网络授课,能同时影响数以万计的同学,录下的视频复播又能源源不断的教育人&lt;/p&gt;
&lt;h2&gt;一对一授课(收费功能)&lt;/h2&gt;
&lt;p&gt;即然 老师 学生 都到我这个平台了, 学生要请私教的问题 也可以在平台上解决了. 订个标准 进行收费;
当然我理解的一对一授课不再与教知识 而在于解惑.  学生学知识可以通过课本,视频,或远程教学来体现&lt;/p&gt;
&lt;h2&gt;中考高考预测(收费功能)&lt;/h2&gt;
&lt;p&gt;以前考试,估分数,在家都不是很精确,但如果你平时所有的练习都在平台上, 平台都你的知识掌握情况能掌握,是不是可以预测你的分数,预测你到那个学校? &lt;/p&gt;
&lt;h2&gt;期望&lt;/h2&gt;
&lt;p&gt;目前教育资源分布不均, 希望能通过这种方式,把享受高质量教育的权利让每个人都可以获取;&lt;br&gt;
百度目前也在教育的风口上投入, 借助vr ai ar等高科技技术,让课堂更丰富多彩, 希望下一代人可以享受这波浪潮!
未来已来!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[我心中的团队]]></title><description><![CDATA[…]]></description><link>https://github.com/creasy2010/团队/</link><guid isPermaLink="false">https://github.com/creasy2010/团队/</guid><content:encoded>&lt;p&gt;从入职场开始,经过许多团队,但团队又是什么? 当上升到带领团队时,又如何操作呢?一些小想法小聊小聊:
可能有错误的地方,欢迎善意的批评!&lt;/p&gt;
&lt;h2&gt;团队是什么?&lt;/h2&gt;
&lt;p&gt;  一个好的团队大家奔着明确的目标,相互配合,达成目的,分享胜利的果实.
所以团队是为了一个使命(明确的计划),互补的团体(一群列磕的人).能以最低成本高效率高质量完成任务.&lt;/p&gt;
&lt;h2&gt;团队成长&lt;/h2&gt;
&lt;p&gt;  任何事务皆有三产九等,团队也有三流一流之分. 那么什么是一流的团队呢?我目前的理解,个个都是精兵强将,
能征善战,做出的产品,掷地有声,每个人都有自己的成长空间,相互间配合默契.当然所获的收益也是可观的.团队每个人都在找人生的价值行业的定位,希望做出优秀的产品服务众生;而不是只拿工资生活(当然这个保证应该时基础)&lt;/p&gt;
&lt;p&gt;  然而,如何打造一个这样的团队呢? &lt;/p&gt;
&lt;p&gt;  我认为关键在于成长(复杂,迭代,自我更新)
不管起点如何,只要每个人天天成长,每个流程日日优化,最终成为一流团队,打造一流产品只是时间问题;
相反没有成长的团队,不管当前状态多好, 都已经走过他最辉煌的时刻;&lt;/p&gt;
&lt;p&gt;  “学习是反人性”,这可能职场的能力提升的魔障.那么带一个团队如何克服这一魔性定律呢?&lt;/p&gt;
&lt;h3&gt;让爱折腾的有空间,让掉队的难受&lt;/h3&gt;
&lt;p&gt;  团队中有爱折腾的,要给空间,给折腾的空间,挑战更大的难度,翻越更高的山;团队Leader要为他们服务,挣取更多的机会,创造更多的机会;
“慈不撑兵”,团队中掉队的,不要任由所为,要让他难受,如果只想着他做好本职工作,完成任务就可以了,反而会一颗老鼠屎坏了一锅汤;其他人的积极性也会下降,要惩罚有引导;
当然目的不是搞人, 是让团队的人,认知一致,一致往前冲,即使跳槽了也希望能跳到更好的职位; (如果大家调性不一样,都很痛苦,建议调到其他组去)&lt;/p&gt;
&lt;p&gt;  目前我所在团队使用的一个办法是: 每个季度有6次分享机会, 针对业务,技术难题展开,分享成功的人,在绩效年终升职均有体现,当然分享应该是高质量的,每一次分享也是个人品牌的打造
而不分享的人呢?当然不会放过. 要让他们痛苦起来.每周两次代码review,没分享的人轮流讲解,其他人进行鞭策,指导(分享的人可根据自己兴趣选择), 除了代码review 还有指定题目(业务,流程或技术方面)进行回答
还有很多其他玩法. 掉队的人在做的过程中也会掌握,顺便教育了其他人,在做的过程中文档也有了,这中间又会发现潜在的问题又有了优化的空间..
有如此反复机制,便能正向反馈,进入良性循环;(还有其他方法,但目标是一致的)&lt;/p&gt;
&lt;h2&gt;知识累积&lt;/h2&gt;
&lt;p&gt;  “退潮时才知道谁在裸泳”
很多事情刚开始在蜜月期时,自己很享受,然而,当危机来时,哭的机会都没有.
说两个例子:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;新人来时业务,技术培训&lt;/li&gt;
&lt;li&gt;业务出现疑问时,总是只有一个人能说不明白,其他人好似局外人一样; &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  知识累积,靠的还是机制,而不是个别人的自觉, 一个团队,一个群体靠人性,是多么不靠谱的一件事,
这些个文档,在做业务,或制订方案时,一定要留出时间来做,这个时候,慢就是快;&lt;/p&gt;
&lt;h2&gt;人员流动&lt;/h2&gt;
&lt;p&gt;  “铁打的营盘流水的兵”,最起码的常识我们应该有,每个人都不会在一个岗位上待一辈子,也不会在一个公司待一辈子
希望的是团队中每一个人以优雅的姿态在进入下一阶梯时,拥有自信;&lt;/p&gt;
&lt;p&gt;  这也更不应该让团队中出现某件事情只有一个人可以做,某个业务只有一个人理解;
团队如果不能消化,不能理解,走弯路也是难免的.
这也是上一节中提到的知识累积,大家认知要一致,就能避免被一个人带领走弯路,有纠正功能.
如果大家都决定做,那说明这个弯路的确要走一走,哈哈,说不定柳暗花明了; &lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;  okr考核问题如何实现?&lt;/p&gt;
&lt;p&gt;如果我所在的团队不是这样子的,那我就打造这样的团队,如何打造不了,那我还在这时做什么!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Insights]]></title><description><![CDATA[解读打心底喜欢的那些语句! Personal 要有敬畏之心,尊重他人! stay hungry stay foolish…]]></description><link>https://github.com/creasy2010/Insights/</link><guid isPermaLink="false">https://github.com/creasy2010/Insights/</guid><content:encoded>&lt;p&gt;解读打心底喜欢的那些语句!&lt;/p&gt;
&lt;h2&gt;Personal&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;要有敬畏之心,尊重他人!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;stay hungry stay foolish !&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;大部分人无法理解这种引入新维度之后的演变，只会盯着新事物在单个维度的不足，来支持自己错误的结论。等到攻守易势，大局已定时，已经没有时间和能力避开灭顶之灾了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Talk is cheap. Show me the code—Linus&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;俗话说:“站着说话不腰痛”! 一个人对一件事&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;厚积薄发!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;第一性原理&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;《教父》里的人生观：第一步要努力实现自我价值，第二步要全力照顾好家人，第三步要尽可能帮助善良的人，第四步为族群发声，第五步为国家争荣誉。事实上作为男人，前两步成功，人生已算得上圆满，做到第三步堪称伟大，而随意颠倒次序的那些人，一般不值得信任。 ​​​​&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;“ 提出一个问题往往比解决一个问题更重要。因为解决问题也许仅是一个数学上或实验上的技能而已，而提出新的问题，却需要有创造性的想象力，而且标志着科学的真正进步。”—阿尔伯特· 爱因斯坦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Move fast and break things. 快速行动，破除陈规。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Team&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;对一个人的判断，一定要基于他做了什么，而不是说了什么。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;关于研发，铸剑是技术，挥剑也是技术&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;不要用战术上的勤奋代替战略上的懒惰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;done is better than perfect 比完美更重要的是完成。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;go big or go home 要么牛逼，要么滚蛋&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;我离开谷歌的部分原因，是因为我觉得自己没有足够的自主权，我想要更小更快的东西，而不是公司让我做的东西。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;长假回来时，我意识到，一群我不知道是谁的人，正在告诉我做一些我不关心的事情。我觉得是时候离开了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Stay focused and keep shipping.保持专注，持续发布。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;最具实效价值的报酬定律：1.伟大的制度让平凡的人变伟大，糟糕的制度让伟大的人变平凡；2.不要死压任务，而是分解奖金；3.不是逼着团队做工作计划，而是设定诱人的激励计划；4.拿明天的钱奖励今天的团队，拿社会的财富激励自己的团队；5.不是好人就有好报，而是好报造就好人。 ​​​​&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Product&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;经常有人问我，新产品如何去与同类型产品竞争，如何打破现有市场格局，这些从来不是我做产品的出发点，我最关心的是，我的产品在今时今日能不能帮助到用户解决问题。— 王铁匠&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;“软件开发就是把一个复杂的问题&lt;strong&gt;分解&lt;/strong&gt;成一系列简单的问题，再把一系列简单的解决方案&lt;strong&gt;组合&lt;/strong&gt;成一个复杂的解决方案。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Program Language&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;JavaScript 的优点是可以写任何东西，缺点是你真的会用它去写这些东西。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;php 是最好的语言&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Mixmax 公司写了一篇文章。他们原先使用 npm 管理 JavaScript 模块，觉得不好就改成了 yarn，后来觉得还是不好，又改回了 npm。 有人说了一句评论，堪称本周金句：“这就是我喜欢 JavaScript 的地方：你总是有活要忙。(that’s why we love javasript echosystem so much : you have always get something to do !)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;其他&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;金钱最有价值的用途就是购买时间&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Eating our own dog food 微软公司让“吃我们自己的狗食”这句话变得人尽皆知，这句话的意思是：每天研发工作的一部分就是使用自己正在开发的软件。这种做法传达的理念是，研发人员在使用自己的软件时能够很快发现漏洞或者不对的地方。&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[前端代码review常见错误汇总]]></title><description><![CDATA[ts定义 GOOD]]></description><link>https://github.com/creasy2010/前端代码review常见错误汇总/</link><guid isPermaLink="false">https://github.com/creasy2010/前端代码review常见错误汇总/</guid><content:encoded>&lt;h3&gt;ts定义&lt;/h3&gt;
&lt;h4&gt;GOOD&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 参数相关的定义都很到位 不错... &lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * 获取订单列表数据
 * @param {OrderListRequest} param
 * @returns {Promise&amp;lt;IGetStoreList&gt;}
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getOrderList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; OrderListRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;AsyncResult&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OrderListResponse&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    param&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;q &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; param&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; param&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; Fetch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Common&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OrderListResponse&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;Config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;D2C_TRADE_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ENVID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/order/list`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;POST&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;//React.Component&amp;lt;any, any&amp;gt;  ts目前的版本.默认值就是any , 可以写为React.Component
//另外如果any 太多, 到处都是, 用ts意义就不大了. 
//并不是文件名改为ts 我们就走了ts的套路; 

@Relax
export default class OrderPrivilege extends React.Component&amp;lt;any, any&amp;gt; {
  props: {
    relaxProps?: {
      switchData: any;
      goodsActivity: any;
      cartData: any;
      setSwitchData: (p) =&amp;gt; void;
      privilegeClick: (p) =&amp;gt; void;
      preOrderInfo: any;
    };
  };&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 不要使用bind方法. bind方法每次都会返回一个新的方法, 所以,会不停刷新;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * 折扣卡片列表信息
 */&lt;/span&gt;
@Relax
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrivilegeListCard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; tradeOriginalPrice &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;relaxProps&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; changedPrice &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_getChangePrice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CashDashboardCard
        title&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;原价&quot;&lt;/span&gt;
        titleRightText&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tradeOriginalPrice &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; changedPrice&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        contentStyle&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ScrollView style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_renderPrivilegeItems&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ScrollView&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;CashDashboardCard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


  &lt;span class=&quot;token function-variable function&quot;&gt;_renderPrivilegeItems&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  
     &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
     
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; privilegesList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;tagMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;PrivilegeItem
          key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          item&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          integral&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;integral&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          isUseIntegral&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isUseIntegral&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          checked&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;checkedIndex &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          onUseCouponClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_onUseCouponClickAction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          onUseIntegralChange&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_onUseIntegralClickAction&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 使用优惠券点击&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;_onUseCouponClickAction&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;couponChoosePopup&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; checkedIndex&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; index &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentCoupon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_getCurrentCoupon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;couponChoosePopup &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RootSiblings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CouponChoosePopup
          onScanCoupon&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_onUseCouponChange&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          onClose&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_closeCouponPopup&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          coupon&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;currentCoupon&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//this.setState 方法是异步的. 如果要向外同步,应该在setState回调中进行; &lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentWillReceiveProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextProps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inputValue &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inputValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; exchange &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nextProps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inputValue &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; nextProps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;amount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;exchange &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isNaN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;exchange&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        exchange &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; exchangeAmount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseFloat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;exchange&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; exchangeAmount &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onExchangeChanged &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onExchangeChanged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseFloat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;exchangeAmount&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//单参数设计, 方便后面扩展; &lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 使用积分下单&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;marketPreOrder&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isUse&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; couponNumber&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; discounts&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IDiscounts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;preOrderRequest&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IPreOrderRequest &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; memberInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;memberInfo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;memberInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        memberInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; memberInfo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isUse &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isUsingIntegral &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isUse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;couponNumber &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isUsingCoupon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; couponNumber &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;couponNumber&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;couponVerifyCode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; couponNumber&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;discounts &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientPrivilegeInfo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; discounts&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_confirmPreOrder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;preOrderRequest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; memberInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;
      &lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[dubbo2js解读]]></title><description><![CDATA[dubbo2js 逐渐落地, 在使用过程中遇到跟踪一些问题,会有些害怕,不知道如何处理,本文来讲解 dubbo 项目相关的概念及源代码解读 question 让我们先从问题入手,看这些问题,你是否也似曾相识; dubbo2js 是什么?
zookeeper…]]></description><link>https://github.com/creasy2010/dubbo2js解读/</link><guid isPermaLink="false">https://github.com/creasy2010/dubbo2js解读/</guid><content:encoded>&lt;p&gt;dubbo2js 逐渐落地, 在使用过程中遇到跟踪一些问题,会有些害怕,不知道如何处理,本文来讲解 dubbo 项目相关的概念及源代码解读&lt;/p&gt;
&lt;h2&gt;question&lt;/h2&gt;
&lt;p&gt;让我们先从问题入手,看这些问题,你是否也似曾相识;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dubbo2js 是什么?
zookeeper 扮演了什么角色?
dubbo 负载是如何做的?
dubbo 服务优雅登机如何做到?
node 与 dubbo 不是一个技术体系, 如何通信的?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Q1: dubbo2js 是什么?&lt;/h3&gt;
&lt;p&gt;dubbo2js 是连接 node 与 dubbo 的一个桥梁. 也可以看做 dubbo 服务的 node 版 sdk;&lt;/p&gt;
&lt;p&gt;其本身依赖了 hession.js ,js-to-java zookeeperClient;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/node-modules/hessian.js/&quot;&gt;hession.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用来解码与编码 hession 协议的字节流;以下两个代码片段也可以看出其作用&lt;/p&gt;
&lt;p&gt;Encoder&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;// java code:
// Map&amp;lt;Long, Integer&amp;gt; map = new HashMap&amp;lt;Long, Integer&amp;gt;();
// map.put(123L, 123456);
// map.put(123456L, 123);

var hessian = require(&amp;#39;hessian.js&amp;#39;);
var encoder = new hessian.Encoder();

// using es6 Map
var map = new Map();
map.set({ &amp;#39;$class&amp;#39;: &amp;#39;java.lang.Long&amp;#39;, &amp;#39;$&amp;#39;: 123 }, 123456);
map.set({ &amp;#39;$class&amp;#39;: &amp;#39;java.lang.Long&amp;#39;, &amp;#39;$&amp;#39;: 123456 }, 123);

encoder.write(map); // or encoder.write({ &amp;#39;$class&amp;#39;: &amp;#39;java.util.HashMap&amp;#39;, &amp;#39;$&amp;#39;: map })&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Decode&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; hessian &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hessian.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; decoder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;hessian&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Decoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//return what it is&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readNull&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readBool&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readLong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readDouble&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readObect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
decoder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;readRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/node-modules/js-to-java&quot;&gt;js-to-java&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;“easy way to wrap js object to java object”&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;var java = require(&amp;#39;js-to-java&amp;#39;);

// Java: com.java.Object o = new com.java.Object();
java(&amp;#39;com.java.Object&amp;#39;, { foo: &amp;#39;bar&amp;#39; });
// =&amp;gt; {$class: &amp;#39;com.java.Object&amp;#39;, $: { foo: &amp;#39;bar&amp;#39; }}

// Java: Boolean r;
java.Boolean(true);
// =&amp;gt; {$class: &amp;#39;java.lang.Boolean&amp;#39;, $: true}

// Java: short[] shorts = new short[] {1, 2, 3};
java.array(&amp;#39;short&amp;#39;, [1, 2, 3]);
// =&amp;gt; {$class: &amp;#39;[short&amp;#39;, $: [1, 2, 3]}

// Java: int[] ints = new int[] {1, 2, 3};
java.array(&amp;#39;int&amp;#39;, [1, 2, 3]);
// same to the next example
java.array.int([1, 2, 3]);
// =&amp;gt; {$class: &amp;#39;[int&amp;#39;, $: [1, 2, 3]}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;zookeeper&lt;/p&gt;
&lt;p&gt;用来做服务发现,负载均衡相关的参数也在这里实现;关于 zookeeper 的详细讲解会在下一个问题详细说明&lt;/p&gt;
&lt;h3&gt;Q2: zookeeper 扮演了什么角色?&lt;/h3&gt;
&lt;p&gt;zookeeper 源于大数据框架 Hadoop,可以用来分布式配置服务,同步服务.其本质是一个目录服务服务,&lt;/p&gt;
&lt;p&gt;在 java 体系中使用 zookeeper 来解耦 Provider 与 consumer;
Provider 把接口信息写入 zookeeper, zookeeper 会通知相关的 consumer 同步信息;
借肋于 zookeeper 特性, dubbo 负载,及服务优雅停机都可以做到了;&lt;/p&gt;
&lt;h3&gt;Q3: dubbo 负载是如何做的?&lt;/h3&gt;
&lt;p&gt;查看@2&lt;/p&gt;
&lt;h3&gt;Q4: dubbo 服务优雅登机如何做到?&lt;/h3&gt;
&lt;p&gt;查看@2
还不明白请留言.&lt;/p&gt;
&lt;h2&gt;dubbo2js 相关词汇&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;hession 协议&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;hession.js&lt;/li&gt;
&lt;li&gt;js-to-java&lt;/li&gt;
&lt;li&gt;翻译师&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;序列化&lt;/li&gt;
&lt;li&gt;Provider&lt;/li&gt;
&lt;li&gt;Zookeeper&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;dubbo 报文格式&lt;/h4&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-dcd04.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.63452266152362%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACPElEQVQ4y2VSyY7TUBDMZ8IFxA0Eh5E4IPEBIIHgEilkI5eIRRy4j4RYZlglhJh7yGQy3p3YsR0viZMUXe0xCmCp5X793quuqn4NyBdnPl4c38Lzo+t4e9LCq08HeP3lDt78bOLlx5s4/PEYdwffcfn+e1x9eIQbzc+43f2Ggydfce3RMa48+IBL997h2eEJGgQsViucnU1gmOfwPBem/P2Zh9nMh2FUtfk8gOf7sG1baqbmjuPIHRNBEMr5mdyz0NjtdkjSDK5LABZNvZSmKcIwxGKx0EjTJZbLpeRVLY5jbRgGgdQTJLLmvcZ2u0EkB9nJdV1Mz6fSMVDAJEmw2WxQliXW67UGcwbr8/kcvjD1BZjNLMu6kLwulRkLk8kpxuOxdsvzHOvyb6B98P0m2+1WrPEqwFw8JCC9YkdK4SYtoOwgDJQ1ZaoN0QJZlqkKMmONzVWyAhYrTKdTMdvA+HSs0nk4iiK9wMv8ByKRTWhFURQKwuDeSkg5jgDmeYYwiuEKI06NRcsyqwHJnz7FsQDLUNiEQPwokT7WwTXV/WFIMPNiMGmW6lQphUHASGTSBjbglMms9vM/DwspUi49YFjynsiQ75OMyIwAlEowNqHMqkFQyZYzJNVYRKG+Qy48z9fDBGDXehhc0yPuOa6jAKHs2bYlqgzN6bNKTvgolyl+yVMZjUYatclkVOdkyjWjHhKDk+ef0nXKw+EQTwcDtFottNttdDoddLtd9Ho99Pt9Deb/rut8P5rNJn4DM1260G1CkqkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20181127 100520&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-48538.png&quot;
        srcset=&quot;/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-bed0f.png 200w,
/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-5fd34.png 400w,
/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-48538.png 800w,
/static/WX20181127-100520-d71cca2fc02fd9dabbec7f14c7c9756e-dcd04.png 1037w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-6bdde.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.587786259541986%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABQElEQVQoz32RO0sDQRSF91dqVIjRVmwCihb+DisRTKOVTYIbRCxi3DS2ghDMQyWokKi789p5HO/MZkVFHPjmnrmz9+xcbvQ8y/DOFKwDNG1fGIfc2KCN9bo4f6f8ttQ8t4ik0pilHNNUQOQ5rNEBOAPAQiqJjyyD1iqcATOPgBAKKRMol/9pBEvFRhJUIC2mFF4zgFHaW3CqzXIqpqhcASdPSoV7ARe0RdFFdDtJsd0coh73Ub9pY3S8C36xAt5dRNapQFwtQHYrYJ0lYjnk385rGB00A+PDFu73T5H2H8Pbo7sXhp3WEFvtPjaTMwxO9sAu18F7q+DXNcikCkHwpEasQfSqZLyBp0Yb46MYD404GLPBBNobhuYdyVyGfphviXD4n7+WH07k+1YllqZlDKHpktDz+Buf1/YHmsz8lD8BU/EKnsu3eQ8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20181127 100546&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-48538.png&quot;
        srcset=&quot;/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-bed0f.png 200w,
/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-5fd34.png 400w,
/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-48538.png 800w,
/static/WX20181127-100546-1c2faae480fb03d6a6b1d9025cdf5847-6bdde.png 1048w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-0d797.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 31.36320305052431%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQY022QbU/aUBiG+/9/wjKZskqAjtcWkUwwbhXUzThHLNIXXekL7dyWkCUkUuDa037ehzv3fZ8n5zonj7LdbsmV7Xa8ijJgK3oV+UnCIk3xwpAHxyZ8eSlm2X+0ye/t9yi7HJJl/LFm/L37xvLkhKDTIex2CXJJTvt90uGQVHpq6KS6Tqx3ScRTwyj6z57BL89D2Qs1Byb3d/y+vsSvvMc5PMA5KuGVS0UOqyph+wOR9Fg9YqkeFrNAfCk9Fo8rZZJHC2Wz2bBarXh6NvHDMwZ+g7qnchufUp2XOfU0zFDnYPqG2+WA+lyl41WZBAbvpm8xA53ek8bxrIQb3aPksFT25P8YEwYjvtodLh5qXD02+WTVMS2NL3aba7vFjdtm7DSYuE2u5k0+zzRuvDYTp8XY1lhEUxTZJev1WoCmAM+49Br0rDJ9+cnAPi585MoDixYfoxrnkcZ5rDFwKwwXNUaSR3J2EdXx4+/8A8rknbw+VPV9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20181127 100556&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-48538.png&quot;
        srcset=&quot;/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-bed0f.png 200w,
/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-5fd34.png 400w,
/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-48538.png 800w,
/static/WX20181127-100556-71bf82f1b6852abd67fd0fd1c932b45f-0d797.png 1049w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;&lt;a href=&quot;https://github.com/dubbo/dubbo2.js/tree/master/packages/interpret-cli&quot;&gt;翻译师&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-89d06.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.22673031026253%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACK0lEQVQoz32Q204TURSG+3p4hQ/gAW+oLyApltSKkQBKjIloBDSddurhQkLQaIygEC5UqJxboKXt9DTTmWlnpucD8LlbLrxzJ1/+lbX3/vOv5XK7b7O0uIQkBQkEQ0ihEEFZRpbDyCFZ9GQkQTAYJhx6L3rvCAXf9JGksNC3BAIyH5c/c+PmEK7A6wC0zlHVIqZhYusWhYJNtVKn3ehQrrRwai2KFZv94hExPUHcyHBaypIs5TkonnCkpTBxmHn6BNfLuXkMs0xke5eTeIJoNMZpukBGLaOXbHTTpmQ52LUqm9kIPzO/WEuts57eYCX5nR+pNX4rW1Qu6kxMTeKaX3iFU62xdxDlNKVwnEiSVHKoRR1NN2i02jTbXRrNLppjopRzpEU61daF5igIzZh5eufR45lLw5IlxjmMklYypDI5NFWnqIp0epVmq0NdmNqNGmbNQnV01IpOztb6teYYIlD9n+Hc/ALdc0ikemYFNKNM0bBEOvFZoBmXJPN5VqIbfNr/ypf9VRZ3l/mws8y3+Cox7YQmXSamxcizs8/pnl2IlBXKdhXLqfbVLFf6lKxe7WCIfR7mj9nNHrKXjbGp/CGi7Ij9RdhStjmuxPE99OOSAhKIhKrYV8myhFmNZuOMTps+Z11od6DabPSe/fc8m32Ba3DwKv7xB3g8o9z1evF6fX3u+f3474/38Yl6ZMzD8Kiba3euMzRyi2GPG7//8m7M52NyapqBgSv8BXBwY/lzcBCGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20181127 100646&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-48538.png&quot;
        srcset=&quot;/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-bed0f.png 200w,
/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-5fd34.png 400w,
/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-48538.png 800w,
/static/WX20181127-100646-5076e5f945265c5870f7d5a582978b5c-89d06.png 838w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;dubbo2js 解读&lt;/h2&gt;
&lt;h3&gt; 词汇&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;SokcetWorker:与 dubbo 服务所在主机的一个&lt;/li&gt;
&lt;li&gt;socket 连接&lt;/li&gt;
&lt;li&gt;Context:一次 dubbo 服务调用的上下文,与 koa context 概念一致&lt;/li&gt;
&lt;li&gt;RequestId:为发出的请求做一个编号&lt;/li&gt;
&lt;li&gt;DubboAgent:dubbo 服务管理&lt;/li&gt;
&lt;li&gt;Scheduler:调度器&lt;/li&gt;
&lt;li&gt;Dubbo 实例&lt;/li&gt;
&lt;li&gt;Quene:请求队列&lt;/li&gt;
&lt;li&gt;Middleware:中间件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;dubbo2js 发送信息时序图&lt;/h3&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-29d28.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.71484759095378%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACZElEQVQ4y2VT2XLaQBDk/z8rbzzE5QAFBoSQkNB939eq07sScWwvNcVe6pnp7t2Eng9T0yDHPM9r4Mv4f0/N8W2sG6b5wKavanRZ8fV8aBHae6TOBdHzCIgJU1cg9ZbEgufx84DUvSBxPxDZJ9SRDu18xCZPMzxud2RZhjiOkSQJQt+DY2iIPBuBbWC32+F02CN0LJRVhTxL4ZgaPJ551p1zHTHvnj9OrLBuYWt3JFGEyA8I4iMJY1YXIOA6Z/UZk1ZFCTEKjBOrZYhpaV2ImWuhKjcMA5uhaVHxg+8jdXxIOkLDwvVwgnW5IQuiTx7HSU4wC8FE48LhCzCPkuUiD2XIkfmhItu96tCPZ1iajqduQjQdxqrFWNSY6uV/kJFXS4U9AYsX4KqyqtALMLMV56Ljuj8q0NQNgGHE3A2YCCraHk2Uoq3rry2Xcfqj5dyPFKAElsLJdiVg13VoSMXQdi8fkU+x2sbEpsoLuA8bTdugLEsVddPANR4UJEPD7Ep9hvOwYBkmTP2O4Omibck/VS/yHEPX43a7YVMwu60bKMpCWUdGURTk7I40SZW62+0Wf97fFwAmkAkliOe6yhkZ7zUE1vhAaJvmH4dipmKrKLLVitVKELk3UUl5L3R9pFFMT9KrpoWM9mqZ4JNDcuGbNsIgRE9+iLqobD0J6qNidpCjkYq2Wc5jyRl92K0ccj6uc2Wbki2HfIOzNGg/KMC+yKDvfiG87+Fov9GzgjYP4RsH9eHY1nhet3Bv74w3zt8QPw44H/eLyu33t8zfJN/vNGJkq4udhFq/7CX35VrGMAxry3f8BadEL2H3kYJlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WX20181127 100611&quot;
        title=&quot;&quot;
        src=&quot;/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-48538.png&quot;
        srcset=&quot;/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-bed0f.png 200w,
/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-5fd34.png 400w,
/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-48538.png 800w,
/static/WX20181127-100611-ed82a9d059c860980e0ce679fd402a8d-29d28.png 1017w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;常见问题&lt;/h3&gt;
&lt;h2&gt; 相关信息&lt;/h2&gt;
&lt;p&gt;ppt&lt;/p&gt;</content:encoded></item><item><title><![CDATA[灰度方案如何拉低我的焦虑值]]></title><description><![CDATA[“潮退时就知道谁在裸泳” 如果给你 100W/M 的工资,你能写出无 bug…]]></description><link>https://github.com/creasy2010/灰度/</link><guid isPermaLink="false">https://github.com/creasy2010/灰度/</guid><content:encoded>&lt;p&gt;&lt;strong&gt;“潮退时就知道谁在裸泳”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果给你 100W/M 的工资,你能写出无 bug 的代码吗?&lt;/p&gt;
&lt;p&gt;我相信有这样的大神存在,但在一个项目要靠大神才能保障安全,也是可笑至极,最后的结果极可能是大神要烦死,小神们没空间成长,&lt;strong&gt;参天大树之下只有杂草丛生&lt;/strong&gt;;&lt;/p&gt;
&lt;p&gt;正常项目都会遇到人员的流失,新人的培养,在能力锻炼的过程中,总会出一些线上问题,当问题出现时该如何处理?&lt;/p&gt;
&lt;p&gt;风险的规避隔离应该是每一个人的选择,灰度是我的其中一个极有效选择;借助灰度可以打造一个&lt;strong&gt;良性循环&lt;/strong&gt;的团队升级机制;&lt;/p&gt;
&lt;h3&gt;灰度解决的痛点&lt;/h3&gt;
&lt;p&gt;在我的实践中,灰度会解决下列问题:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;次生灾害:一人生病,所有人受治疗的方案,可能  使正常用户受连带影响,甚至导致次生灾害的发生;&lt;/li&gt;
&lt;li&gt;版本困境:版本升与不升都有用户受影响,升新版本就会影响 A 用户,不升版本 B 用户;&lt;/li&gt;
&lt;li&gt;版本魔咒:每个版本总会有些问题的魔咒,上线会紧张,节假日前更慌的要命;&lt;/li&gt;
&lt;li&gt;bug 复现难:某个问题在本地无法复现;&lt;/li&gt;
&lt;li&gt;A/B 测试:一部分用户先尝试某功能,获取用户报告;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;上面列的问题会复合发生,我曾经历一个问题(2 与 4 的复合体),真的打打飞的去现场改 bug; 升版本会影响 KA 用户,不升版本又不能赶上功能上线时间;但本地使用各种方法都不能复现,最后  迫不得已,打飞的去客户现场才解决了问题 ;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 176.63551401869157%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAGWklEQVRIx51WaVOTVxjNr+iXfnH6pWNlEXABgYraUesGuNWO0qrVUUexaqUWW2oLo9K61BUXqlhQyyYErVpFQRBRkAg0ILLEl4SQQEL2vElICKf3uSFAKp2xzcyZuz7nnme5940kMX4VEpetxqdrkhC/bAWWLklEWNgMhARHIDg4HLExc/DRvIVYvCiB9eciKCiMz8+cEYP4+JVYsGAJFi5Yii1rJiNlTzIksfPmIHJuDKKjZyM6ajYiZ8Ygkm2mdub0aE6YmLCKI2pmrG+NgfrRs+IwK/JDxETHYXp4GHYm74IkNC4M01ZGYGrENIQEhSM0JIIjhKkImjIVEeGRWP/5F0hK2oApk0P5PCE4iBDG26mh0zBp0vvYvHkbJNeuFuDM6QvIzb2GwsIbKCgo5pCWlqF0BEWFxSguKhkdl5ZK+bpUepOjrOwWbhSX4PHjGkhO5/0ByXsJ2H+qAAazCK3eCqvoxv/9STJ/K4fkg3XYk5mDbkUHOtvb8EJWjx6lAOG1AppeNV62tqCVobmpEe2dAtSdVbBqGzDkBTweN4MHQ0NDGBwchMQiuiAo1TAaBtDUpUFtSw+eyZVoeNULQT3AFNugUOmg1Rmg0w1AP2CEsV+AR9RxRcPDwxz0I2LJeLkZefVYl34XO449QPKxeyh50o3L9wWknf0TB7OkuFVeH+CenyiA0OulwTCcrkGknbmD9HP3se2HPCzc+DPO5D/ClyfuYvsRKXYfzkVWbhk39Hq9AWQBhP6BixFu//5XpBzKx/a0y0jcchS7Mi5j/sZMrE85heQD5/FTVv4I4RjJGwr9Awrqd4ezsffHCzibXYrk/aeRfvwKPks+iK/Tz2Jn6hH8kpX39oTkxs1KOc7lV+NiUS0uFVXjdlUHMrKbsSOzAkmpUhzJfvT2hB7PEDbty8GM5YcQt/YoohLScaLgBU5WiNidp8THaTVIOd/wXwg92LYvC7OXp2L+mjREL96LnBvVkNYJuHi7ESmnbiH9wk0f4fBbELrdHiRtPoCw2PWYFrcBIVFrkcLiGb/5EGJWpGDqoh3Ymno8IMsBmZ4ohhVVdSh/WIvb9x6jWHof1bUvUMb6lTUNeFhdh+aW9jdKZbzSUUI/jCYLbDYbDCYTdHoDBgYMbM7MrLwB7o0HL7lBDzQ6Kwbd7rGbQouiaIfdzsBap9PBT3SzTVarDQ6HE+PEBPycLg9eq43sLjNCip3T6eIDj8cLXb8eRr0RWq0Oii4BJqbaw14Bl8vNi38iDLK1YRYyOlxiF53Q9hlgYyqG3C6cvVKCb08WIedKMa6cyMBLeTNXYDazZ81qnxAWiw02u8NHSOpMJitz14FhpuROZTWOXi1lSZBBXvcI+j41C4GLG9ps4r9CZMJGCekEfhKD2cySMmCCwcASZGdEIwbjFZFaEkGtr29hsRd9hLRZ1atHd1sb2p/Xo0OhweNnrZC/7GZhsPPNJp59H6mdudbbq4VKpYZarWGx7ud9IuaElD0bk6vu6oSiqQmdnQo0vmiEXN4CjaYPT5/WQyZr5ER+hdQn0CH+PvFwQsoSudyr6YdGq4deTzVoZDVoYgb20WSMxcvBw0LzZDfm8khSKOUmowXTV3+Dd2ZvxfWSh6ita4XQ0w8zN7BxA6PRPOo+uahQCLwl9wVByWJu8t0UrpApWJ16EbM+SUVJaTEqKx6gobkLNfVtaGntQl1dPZqbW1j7HOXlD1FTU4vKyio8fy7j4aB5Cg8npCyTS6IosqsD9HXehE4lY6UyxFRZuELLiNt+pf7skst+t+3j65Bi0yZvg4wloKNTBUGlh1qj56Xgj5+/JUNyT8/vupH3qaW10Sw7mbRLB77C9rjpTL4MbS+70PzXq4DMWq1jpFQqPT296O/Xc2Iqn9GycTpcsDvYqU/uoefOdagEBZQtMii7OnhRT3TVHMzG6Rzkt4NAYwJ/HFxsgTad//0e+/YWok72Ck0tArpVffw6cmU2RwBhX5+OJ4EUEkixmcXX7c8ybZq7KRPvzt+DnKslLINP0SVo0Ktl76FxADZTz8gV9BGSm0REsSPQmOa5QqfTyfw3w0j1xu+pib+LIgsDkTgdIlwOC//fwp8q1lKs6NnztW5mw7LPHmXiYgrptTGyGIj0yvJPAX2jCd6Rlt5DqrF/gshov1LJKqNbycd/A9psbG0BGlyrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;WechatIMG1&quot;
        title=&quot;&quot;
        src=&quot;/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png&quot;
        srcset=&quot;/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-bed0f.png 200w,
/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5fd34.png 400w,
/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png 800w,
/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png 856w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;灰度 是什么&lt;/h3&gt;
&lt;p&gt;百科上解释&lt;/p&gt;
&lt;p&gt;灰度 是指在黑与白之间，能够平滑过渡的一种发布方式。在其上可以进行 A/B testing，即让一部分用户继续用产品特性 A，一部分用户开始用产品特性 B，如果用户对 B 没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到 B 上面来。灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。
灰度期：灰度发布开始到结束期间的这一段时间，称为灰度期。&lt;/p&gt;
&lt;p&gt;在上线流程上添加一个环节 “灰度上线”,就能解决上面列出的 5 类问题;&lt;/p&gt;
&lt;p&gt;问题突发时: 尤其在问题并不明朗的情况下,可以把受影响用户切到灰度,单独为其部署 fix 版本;控制了影响范围,上线心理压力自然小些;&lt;/p&gt;
&lt;p&gt;新版本上线:可以拉一些用户进行体验,借助数据分析, 错误追踪,售后等措施,获取用户反馈,在震荡期过后,可以平移到线上;&lt;/p&gt;
&lt;p&gt;A/B 测试:新特性上线,邀请用户体验新功能;&lt;/p&gt;
&lt;h3&gt;灰度实现&lt;/h3&gt;
&lt;p&gt;这里不做过多说明,如果对方案有兴趣可以留言;&lt;/p&gt;
&lt;h3&gt;总结&lt;/h3&gt;
&lt;p&gt;灰度方案 也不是银弹, 只是辅助工具;&lt;/p&gt;
&lt;p&gt;配合错误  跟踪,数据统计等工具,能达到最好的  “治疗”效果;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[sentry落地实战]]></title><description><![CDATA[sentry 翻译过来是 哨兵,寓意着像哨兵一样守护应用;
它是一个完善,开放的 error trace 工具,围绕”Stop hoping your users will report errors”的理念,提供一系列工具,帮助 coder…]]></description><link>https://github.com/creasy2010/sentry落地实战/</link><guid isPermaLink="false">https://github.com/creasy2010/sentry落地实战/</guid><content:encoded>&lt;p&gt;sentry 翻译过来是 哨兵,寓意着像哨兵一样守护应用;
它是一个完善,开放的 error trace 工具,围绕”Stop hoping your users will report errors”的理念,提供一系列工具,帮助 coder 快速定位问题,发现问题,解决问题;&lt;/p&gt;
&lt;p&gt;你的项目经常会遇到以下问题(如果没有遇到可以忽略此文,好幸运,&lt;a href=&quot;/about/&quot;&gt;求交往&lt;/a&gt;!):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;需要用户的帐号密码才能复现问题;&lt;/li&gt;
&lt;li&gt;用户那里有问题,在开发这边怎么也复现不了,也不清楚用户环境信息;&lt;/li&gt;
&lt;li&gt;每次出问题都是从前端定位到后端,一系列流程之后才找到原因;&lt;/li&gt;
&lt;li&gt;项目人员的更替流失,找不到谁维护项目;&lt;/li&gt;
&lt;li&gt;每次出问题自己都是最后一个知道,经过客户,客服/售后,teamLeader or boss;&lt;/li&gt;
&lt;li&gt;线上事故似乎总会冷不防的蹦出来,不能安安静静的写代码;&lt;/li&gt;
&lt;li&gt;上线时出现问题,并不能第一时间发现,导致影响大批用户,不能把火情控制在最小范围;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;coder 是为了解决问题而生的工程师, 如果上面的问题你遇到 3 个或 3 个以上,那很不幸,估计眼中噙着泪水, 心中一 W 个草尼马在奔腾;
然并卵,真不幸遇到了这些问题,该如何解决呢 ? 如何带领团队走出困境;&lt;/p&gt;
&lt;h3&gt;特性&lt;/h3&gt;
&lt;p&gt;对比了一票工具, 最终选择了 sentry,基于以下理由;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.sentry.io/platforms/?platform=javascript&quot;&gt;多端覆盖&lt;/a&gt;: 我们能想到的语言也好端也好基本都有对应的 SDK, 像小程序也有社区提供的 SDK;&lt;/li&gt;
&lt;li&gt;coder style: 完整对接开发工具栈(github,jira,slack…),开放 openapi 支持扩展任意;连独立部署都提供 docker,真是不能太周到体贴;&lt;/li&gt;
&lt;li&gt;产品细致到位: sourcemap,suspect commit,suggested assignees,alert rule 等在实际使用时让人倍感关怀,似乎能想到的,都已经做到;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面会详细说明这些特性:&lt;/p&gt;
&lt;h4&gt;vocabulary&lt;/h4&gt;
&lt;p&gt;把 sentry 涉及到的词汇整理出来:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Issue:与 githubissue 同义, 问题;一个 issue 可以发生多次 event;&lt;/li&gt;
&lt;li&gt;Event:一个问题发生的一次,会聚合到一个 issue;&lt;/li&gt;
&lt;li&gt;SourceMap:压缩后代码映射到压缩前的信息,可以获取在错误源代码的文件路径,行号 列号,有利于定位问题;&lt;/li&gt;
&lt;li&gt;FeedBack:用户反馈,当发生问题时,弹出对话框,可以让用户填写信息,描述错误影响及发生错误的场景;&lt;/li&gt;
&lt;li&gt;Release:发布的版本;&lt;/li&gt;
&lt;li&gt;Breadcrumb:童话里的面包屑,在问题发生之前的一些动作, 可以自己记录一些信息(用户点击动作),在 raven sdk 默认会把 console 打印信息记录下来,通过配置可以记录 http 请求 (&lt;a href=&quot;https://docs.sentry.io/learn/breadcrumbs/&quot;&gt;https://docs.sentry.io/learn/breadcrumbs/&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.sentry.io/quickstart/#about-the-dsn&quot;&gt;Dsn( Data Source Name)&lt;/a&gt; 格式:https://&lt;key&gt;@sentry.io/&lt;project&gt;,包含上传协议,key 服务地址,项目标识&lt;/li&gt;
&lt;li&gt;Suspect Commit:commit 语义同 githubcommit,即一次提交,suspect commit 表示出现的问题可能与某次 commit 有关联;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;主动上报问题;&lt;/h4&gt;
&lt;p&gt;sentry 的基本职责,当出现问题时,把错误现场信息,一些调试必要的业务信息及用户信息带到服务端;
当采集一段时间,我们就能知道一段时间发生了多少错,某个版本发生了多少错,影响了多少用户;
再通过告警,让我们第一时间感知到问题所在,进行修复;
当用户或售后反馈时,我们可以坦然的说,“已经上线了!”或”正在上线中!“;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/issue列表-ead2385ae692eb289c2e661ced35733f-fdcf4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.112676056338024%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0UlEQVQoz1WSW0/bQBCF/Tt4QCoFVRWCFKIEIYKgVSXuLzxV7Xv/DgIJCJeA1Kr/jHBzEt8vu9716czYCWSlkdeW98w536zze/8XNlcO0Lv4C601ojCGUhplWYIXP7mstVLj97dV7+vvztG3n+g09nDX/SffAz9AFMUTAWtJzFhplCYpVK6QUxWFQaGL6kmlaa9UwYI/sNHYxf3lH9BZDAYefC/AaOgj9CNkaU5C2VTlmUIcptAkoCkNJ8q5WRjC2ekcY/XTFnrn98iVRf/RJZchAi+sDpObLK1E2B0Xu2F3nJxTGEahFco0gfN17RBfFjq4JcHClOj3XXLnYUhOvZE/YfqeH+85Ju8N4WAk3CSjZs52aw/LH9dxc9aDKSye+s94fXHx+uxK9CRORGA8IF4swigqQSPF/NJMw9ls7mDxQxvXZ7dknRi6HrmKZAB8cDLL2t3YIfMrCbqRoRCCnHjGJLix8h2fZ5u4Or0Rhg8PLyQ6FHcVNwKe5XJwImqrqCJeR1YUOaV/nfbSNuZnGrg86YrDx6ehTHjgjuQKJfVVsSLw5lTY1VeK35kpN3a22rtYnGuhe3oNK5FHCAO6LuzKmKmoU7HHQjxx5kj8DF2l/zx71uR+nSMiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;issue列表&quot;
        title=&quot;&quot;
        src=&quot;/static/issue列表-ead2385ae692eb289c2e661ced35733f-48538.png&quot;
        srcset=&quot;/static/issue列表-ead2385ae692eb289c2e661ced35733f-bed0f.png 200w,
/static/issue列表-ead2385ae692eb289c2e661ced35733f-5fd34.png 400w,
/static/issue列表-ead2385ae692eb289c2e661ced35733f-48538.png 800w,
/static/issue列表-ead2385ae692eb289c2e661ced35733f-b70ec.png 1200w,
/static/issue列表-ead2385ae692eb289c2e661ced35733f-d134a.png 1600w,
/static/issue列表-ead2385ae692eb289c2e661ced35733f-fdcf4.png 1917w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-e6552.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.11047420531527%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0ElEQVQoz11S22oUQRDtD1FBBE1Awq6rLCFudIMQcnvJU8RnP0Z92EVNICrqN/kggs8iureZ6XvPTB+ra3Y2WRsONVU9depUdYmXhy+w++AYH959hbUOSmoEX6KuI2KMZGtUVdWgrNhvT7pv0R5xsvccg+4hLt9+htEK08kM89kC2SJjmwpY4xhamxWpVholfYeQCkZY8hXlipPhGQadAyL8wpdZJpHnihIMjLFritrDqomMO4g1+9l0TmIKiP3Hp3i48RTno0/Ucon5XKGQHlKXcD6grupVW5YKhqSK4mXZjGU6kZRn0TYthv0j9DZ2MX59AS0VqfR84Snp+4+fpNKslH37ZTFZyDS9VSzPNSTlYVlUPHl0gK0727gYf2yIwvIBqvqabVD+F0/ExgYUhedOki8GvX3cv93H+9EltRPxd6aQUdVc0otrj0I5QhrBFVKsIQSK3OHPbwNZBOqqgtjpPsPmrR7OlwqVsjSfmh/o+lqsA7QFjteryA3Bk59ILUR/a4h7N7sYvRrTvEhZlsM5IqVZpsHzvOIVmp2LrMxZz/8m3zlPHRHhdmcPd290MH4z4otsQbunJJMbrdctw7ANwdErV0TqeIUUrZmk7v4BpOzV4s4j5QoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;issue详情1&quot;
        title=&quot;&quot;
        src=&quot;/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-48538.png&quot;
        srcset=&quot;/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-bed0f.png 200w,
/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-5fd34.png 400w,
/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-48538.png 800w,
/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-b70ec.png 1200w,
/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-d134a.png 1600w,
/static/issue详情1-ab31143c772f3223eeaa6ce4e31c81b7-e6552.png 1919w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-e6552.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.31891610213653%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABUElEQVQoz42S3UrDQBCF8yCCCFIUxDZUqbYEGlSsohfSG7302kcRtGqs1aogvpT4DNpim+Zn/467m1A3bQIuHHaZzHx7ZjbWxck59uptvDy8QwiOYBIgDEMwxv4lIURG1rF7hsZ6C0/eG9RSSb4/wWjsYywVBKG8IMpIx6IIXAJmlwSewqkcoH+fAikDIQRUO+DgXEjxjJQTSil+hiNdk3HYctrYWGmid/uqP8Yx0cksLWY5UpeovO+vQQaoHbq1I9glB92bZx1Q7lTLREIJyRH920UKg7Fbzc1DlJe30e30dYCqlmVysbv0zBJBuTOBTnUfa0s1eNePKZAikIMvdJi6YzyZsXYHo+WGvYvVxSrurnoJUBZwlu9OAVSx7xN8fgz0a8/NcKvsorRQMYAEnPK5lzWlwHFsODSBdXtHAzuX3rTlMIr1LAvF2PS3mm35F7kf3Ghe7zk3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;issue详情2&quot;
        title=&quot;&quot;
        src=&quot;/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-48538.png&quot;
        srcset=&quot;/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-bed0f.png 200w,
/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-5fd34.png 400w,
/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-48538.png 800w,
/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-b70ec.png 1200w,
/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-d134a.png 1600w,
/static/issue详情2-b619d4c1df9c12dd5ce8038ce40d3b15-e6552.png 1919w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-c4c6d.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.35355648535565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABy0lEQVQoz22Rb2sUMRDG93MoRZAWilDPA7XF40BbocUW3/iqBV/3K4mtV1vPKv1aorbu7f9sks1m93FmsldRDAxJJskzv2cSHR+8xeTRPuazKzjnUJUKrnHoug5918N7j7ZdRhvyfS9xu6Z5OaLXO0eYPNzDxcklrDFYxAnSJEOeFcjSHLXSMNpK6NpIARaqVS1FnKNCvoOpNVSckuD2IQnu4vPZlVTI0gJVoVAWFVSl5PG/g6lYWCgpeBRJijiuEO1N32C8NsV8ELTGwlNl74NQRzOL8p6JwpkPeR/yHP3S8vbmAUarE1zMvoIlfi0U0txIHxXZ5Z7WZMdQO7iYIqtaG7KvZeYhd8mNofPo+dNX2Li/hfMPX2A98O1ngZtFDUuXmrKAVgpN00jwp7Awr621suYc743mvEM0fbyLB/ee4OPpJVri/nGTY5EqockzhYoq8+/zI5611rdiTM4ivOc834km45dYXxnj7GSOhjx/vy4Rp1psFCXbNoOgGwjtX4TOEaFtxL4Ibo1eYO3uCLP3nwLhdY44CYRJWaFkwsEyCzNVIDJ/euhCD0Xw2XgHq3c2cPruXAiXPWTCvLLyMfzA/YeQIwi2g2WH3/z31eVDIrrvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;issue详issue事件列表情2&quot;
        title=&quot;&quot;
        src=&quot;/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-48538.png&quot;
        srcset=&quot;/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-bed0f.png 200w,
/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-5fd34.png 400w,
/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-48538.png 800w,
/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-b70ec.png 1200w,
/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-d134a.png 1600w,
/static/issue事件列表-b1bd914359c8076471b01a4f89295b47-c4c6d.png 1912w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-e6552.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.006253256904635%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQoz5WSW0/CMBiG90OMiTEhGhMBiQciqBATlOCNVxqv/TdGBUXFE/44z+y8dYN222v7DQzxRviSb13b9Nn7NNNO6yfYWmmgc/WCMAjhuwx8IBDHCZIkkWOMKIrSFhHNR6X25SMdh6UdVI9Rztdx3+pKYABDN2EaFizLppH5gVzvUwcsJLCC+j6DkB/gPIKIYgRy7vcMCawcoZTbkwm7dEj/NuA6HoHUofFE48kUmAyG6VzTgt5zodVKhygs7OC2+QTP8ygZH3CMLJKh0t/+VZbFOacm5cp6A/lMSSZ8pgXbYRhwdWdCKv3fyoBJE9MwKbW2vbqP5fkibpqPiAXHx6sOPxRTA23bocRauVDD0twa2pcPSgK9ng0v4NMBGZP37qbAzfwuFmcLuL7okLJjuWAqoZgMqDTDsE9QBdc2shVkZnJond9B7uLrzYDt84mBo4SWZaXAYq4qgVk0z9oU+f3TgcemV1Z/h3r/Ad1l16y/QesGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;issue影响用户列表&quot;
        title=&quot;&quot;
        src=&quot;/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-48538.png&quot;
        srcset=&quot;/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-bed0f.png 200w,
/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-5fd34.png 400w,
/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-48538.png 800w,
/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-b70ec.png 1200w,
/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-d134a.png 1600w,
/static/issue影响用户列表-7525d70b64b7d1d3dcdb9412cc8497e5-e6552.png 1919w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;如何与 github 完美结合&lt;/h4&gt;
&lt;p&gt;sentry 与 github 的结合与可谓深入浅出,浅在简单易用,深在巧妙利用 issue commit coder 的关联;
先问一个问题?sentry 与 github 结合能给我们带来什么?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;把问题相关的 commit 展示出来;&lt;/li&gt;
&lt;li&gt;选出最适合改这个 bug 的人;&lt;/li&gt;
&lt;li&gt;两个版本之间的 commit 列出来;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;注:
第二项,完美实现了这些,当问题发生时,任何一个人都可以分配问题,而不是一定要 TeamLeader 来做这件事,&lt;/p&gt;
&lt;p&gt;下面详细说明如何实现:&lt;/p&gt;
&lt;p&gt;与此相关的概念: Issue,Event,Release,Suspect Commit;&lt;/p&gt;
&lt;p&gt;首先在项目中授权项目的 github 地址;&lt;/p&gt;
&lt;p&gt;当我们发布版本时,设置一个 hook 把版本及 coomit 信息通知到 sentry;&lt;/p&gt;
&lt;p&gt;当采集到问题时, 把问题的版本 version 关联上来;&lt;/p&gt;
&lt;p&gt;这样就完成了. 对, 就这么简单! 然后呢 ? 以 js 为例说明&lt;/p&gt;
&lt;p&gt;首先,根据上传的问题 call stack 分析到是那个 js 出了问题;
然后根据 js 中 sourcemap 信息推断出源代码的 path line colume,方便用户调试;
接着分析源代码的相关 commit 及 coder;&lt;/p&gt;
&lt;p&gt;然后一切就明清晰了;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-f032e.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.84860173577628%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6ElEQVQoz21Sy27UQBD016HkgqJEkCyHiAs3/oFP5Ao3RHax1297PB7PeOyiqx1Hu1IstXo8j+rqqk5+fDrADiNMZ9BULaZxwrIscG7CHGZcfuu6Xv3HEDAYCydvmL0PSL7cfUWWZijyAucsx/HliKZuMLmgMRqDrOj0Mj/mvZAdLEY7CoFVM0MB86xAVdQYhgFd28Fa+8amLc/4+fske9PGKi4SUdd9b6QTp2tmFkgOH59R172gT0LdYZo85jkqi/3hVct728v7UiQPtwd0ZYmXP3+15XOaC8tedWUQNIqmbGt/GNyIUyXy2B6BRWWb51GIJPc3j0p16Af0YgxZ+on6edVrB2HmI368+ytP4YTmumz7NDLQlPvbJ2FYIT2lqMpa3eaBF0C6x0xwyrCBrzDjjLx3pKWacn8ruFwwNAOMVGYmU+4FP+slxv5IWw5RC7MTnumeX+RfAB9unmRMWqT/ziiLCnXVaNDBoMYIYNyYsOPJSrGuFp2NsJ7f5BhtFIkU8FHFpxEEbptOo5a1kWGdZwGT2FqWUWkblOcMtndXDi+v45TcffisU06QqmxUxz2TKc/IjoB0M68NjlkDL/quF4DxddSS78/fMKqzXjNdZq47i3Nl0Bm3ORm30Zm9l8f+it3lHP4HHyuQV5yCmcEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;release相关commit及coder&quot;
        title=&quot;&quot;
        src=&quot;/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-48538.png&quot;
        srcset=&quot;/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-bed0f.png 200w,
/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-5fd34.png 400w,
/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-48538.png 800w,
/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-b70ec.png 1200w,
/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-d134a.png 1600w,
/static/release相关commit及coder-e119a2f27e7b0347b9b65691db55c4b3-f032e.png 2074w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.sentry.io/2017/05/01/release-commits&quot;&gt;开通流程参考&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;多端覆盖&lt;/h4&gt;
&lt;p&gt;sentry 目前最新版本 9.0 算得上老牌厂商了, 我们能用得上的语言他基本都可以支持;小程序的采集与有社区贡献代码;&lt;/p&gt;
&lt;p&gt;eg :javascript&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://web-img.qmimg.com/qmfe/lib/ravenjs/raven-3.26.2.min.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    Raven&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://&amp;lt;key&gt;@sentry.io/&amp;lt;project&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; logger&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@qianmi/official-mobile&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; release&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;QM_VERSION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; environment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;eg:(reactNative)[https://docs.sentry.io/clients/javascript/integrations/react/]&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//index.ios.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Sentry &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-native-sentry&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Sentry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://8070a174f3ab4fe298d4c5516b3e2704@sentry.qianmi.com/7&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// set the user context&lt;/span&gt;
Sentry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setUserContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  email&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  userID&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ADMINID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  username&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DEVICE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  extra&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    is_admin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Sentry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTagsContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  environment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  react&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

Sentry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setEventSentSuccessfully&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;发送错误&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h5&gt;备注&lt;/h5&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.sentry.io/platforms/?platform=javascript&quot;&gt;node java python …接入&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/youzan/raven-weapp&quot;&gt;小程序接入&lt;/a&gt;:&lt;/p&gt;
&lt;h4&gt;&lt;a href=&quot;https://docs.sentry.io/api/&quot;&gt;openapi&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;借助于 openapi 几乎可以做到所有的事情(项目管理,issue 管理),像第三方工具对接,&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/api-c4c845b87fd3126de7dea66516fd5bea-32735.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 70.38461538461537%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9UlEQVQ4y52TS0/bQBSF/T94bBDZlKeoUtpSHimPVDwrUfWHoC5aCUpTKgib7rplwYYNO/5Iq6qABAJBkjbECY7jB44fp3euxyYqorK40pFH9sw35/jOKD++/8ThryOcnZ7jqlyBqCAIWL7vx+N/5fuBmImTYw0H+xfQ6w6vVT68+4TdnT28X8nh6/Y3eJ5HH3UYhgnbvkHyCjdSMs9nMT6cRU9XGrnVLYLVcXlxiVKhhDqNXdeF4zhoNpuh5Pj2ncsmBIwdzk+/wavMa3S19SK3tkkTb6CqKhp6g6RDFyIwi8aapvFG17UaPRukMEkMnJtaxmL2LVId/fi8lqeoBkrFIi+ybRuWacKyLFbkkN3JpzAgUkT/XpkcmcfM2BJSnQMcuVatolgowJYQIZOgQiLaHbkeNy8q5SUBR9Mz6G7vw5f1PE0AQS08pKTDBTwdzKCbI2/xv/tTKnM8X7q47+i0KgZmns2yw1THAAMdp0kOr2VUi6LbcaRo4X3uOHJ2Yglzk8vscGN9m19WKxaqqh0f1qQwdpjuG8OT/nHu8sbHPH9QrwyUfxvk1mu5OUgUXRl6NAIBFV2OgJWyQVDRYVdesaRNociPe15Ih61Ak4HCYRJXfLeD8G5LYOhQNEVUXaO73DBjd/8DWdQ0w6BjRo0r6AH+AsDc4mxUfZ5WAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;api.png&quot;
        title=&quot;&quot;
        src=&quot;/static/api-c4c845b87fd3126de7dea66516fd5bea-48538.png&quot;
        srcset=&quot;/static/api-c4c845b87fd3126de7dea66516fd5bea-bed0f.png 200w,
/static/api-c4c845b87fd3126de7dea66516fd5bea-5fd34.png 400w,
/static/api-c4c845b87fd3126de7dea66516fd5bea-48538.png 800w,
/static/api-c4c845b87fd3126de7dea66516fd5bea-b70ec.png 1200w,
/static/api-c4c845b87fd3126de7dea66516fd5bea-d134a.png 1600w,
/static/api-c4c845b87fd3126de7dea66516fd5bea-32735.png 2080w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;问题处理流程&lt;/h4&gt;
&lt;p&gt;我们的愿景是对问题主动出击,那么如何实现主动,如何在第一时间感知问题?
sentry 提供了 email 与 webhook;基于 webhook 可以把问题简略信息发布到钉钉,企业微信或个人微信;让我们能第一时间感知&lt;/p&gt;
&lt;p&gt;项目中肯定会有报错是低优先级的,不影响流程的,这种错误可以借助 sentry 统计起来, 一周或一个月集中处理;(这个时候是不是锻炼新队员的好时候,哈哈.)&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/告警群-79d56e54366b8389668adbdace4c2f42-671f5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 85.57377049180327%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAADLElEQVQ4y6WUy4/jRBDG8+9y5rRCIIGQWK1Wc1hAK64c4AiHBaHRitkMeTieZJyZ2cHxO+kkdmLHmcRO/E4+qtvZADckIv1U1d3p6u6qr9xgbIr53CXmOAI4Ho8n/umLwdlC/PPv9UNVibGmaWiM2RyLYA134WO13mCzjfG02daQv95wIkH4FJ3HQbhBXpQiUJqXYq/OA07YDN3+A357N0B7oOHmYYzeoweZ6A4t3D6YGJkMqjGGqtuEA82awJl6SLNc3DbJK7jLFQxdR+NR1dBs9XDd6RMyrtsyOoqBzqOPtmKhM1AhKRodeo+2JKMr38J0ppi6wSkgkGQVtnECx7HR0E0bcl9BqyOhJd9DUWd4MFwMNUJf4I4YmVM4lBp7UuMwV9gPAeOkgE8pGI8dNEb0DOneQW+oQerf0e0sdO8cdIY2Wgq3tEbr70c2NNPByHDOT0+zQgTcpSXldIsJDxiGa5RUpIwSm6aZOJX7POF8w26fCvg4zwthi6JeL/nG4wF7CrgInmBZJhps5tGGBBGRVwdkPFCeU15yssW/oTU+n+S5qGx1rOWTlkdRdcOgohiWg+uWhKvL33F7o8BQTbDZEox5YBMXzJlhRvDx1GZibjKmPFoM+2iHY5og3uwQrCNYpkFVJklcX0lQn30E9fOPYb34FNrFF9BffQXj9UuYzz+B8fwzaN9cwP7yGcavXmD+7UuE310g//5r4MfXSH/+AZ7DYFgWl42Bq2YPzV/eovXrWzTfXKL50xv0Lt/hVhpC+UPGn+0OVLkPlVvCHihg71Ukpg74LmJqCne+gGlSDqfkBOst/LjCkhOV8E6+tymEjSlfUVqQrQRRVmKzz1DXGNhTw7h+WD9ZpxwOlHvc9AcwyXe9JYLVGn4QnvGoCxY+saxZ+vVcRqrgnZLSIVyHpkEBLXsMidTfbHXRkQfgKeBaE3DdkeZ0ewZ9EkKbrE6EYNQp2an1uNRWYUhVpoBBsBJ64ot5USChU7kty1JQlLXeivJAej2cbUXwL02WZYhJp3OX55ACRlGE//tL8wOeSEKi9fgNC9EVdZf8V7IPkODjeEefvS003cBfj7zohC1CmiAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;告警群&quot;
        title=&quot;&quot;
        src=&quot;/static/告警群-79d56e54366b8389668adbdace4c2f42-48538.png&quot;
        srcset=&quot;/static/告警群-79d56e54366b8389668adbdace4c2f42-bed0f.png 200w,
/static/告警群-79d56e54366b8389668adbdace4c2f42-5fd34.png 400w,
/static/告警群-79d56e54366b8389668adbdace4c2f42-48538.png 800w,
/static/告警群-79d56e54366b8389668adbdace4c2f42-b70ec.png 1200w,
/static/告警群-79d56e54366b8389668adbdace4c2f42-d134a.png 1600w,
/static/告警群-79d56e54366b8389668adbdace4c2f42-671f5.png 1830w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-412e1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.61121856866537%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB1klEQVQoz4WSS2sUQRSF+y+KooSEGKNEQyAg6O9w50oQF24CiotAFmIgm6AhkCzEhS5cZfrd1d0z3fWu4701mXEkqA2XW3RVn/rOPZ082XqGVnTQSsM7j8UTQgC8R/AOzhg4a+G56J13jsrGPT7nfbjuHsne9nN0bU+iPYbZCCU1iRtYY2FIWFP10mI0HorWlu6xmJei+/ms0Sb2YToi2d18irpsMckEsqxCUwsMwxgPyItz6Isv0F8v4X7+gL88g0uv4M5P4T6fwH7/Bkd0c2IPKRWSnY39SFcUNYqsRN9NyQpbIMdH74DXL4D3bxCODxHevkT4+AHh4FVcu9NP4CmxXS5NpMmj9T00VYs0q5Fe5ahIWEoZN5VxUNpCWR9JHNlkgdi54pjnYgyhKIdke20XoumQFw3qqoEcJc1RRUFLIThScM4tKVYrBuSvQ1kIbt17DFG3JCiW82NBQ6HEpFdS/2v5Fcubd3eITCBNS0zIMq+n/SzSMcGc0C8/uknof1vmUDbuPCSyDkXVQ4gpZrMBI9smfP4dmJR7FL0hGP6YYSRcv/0AVdkgnRTI0xwlhSJES4Lqv5YXs+MZM2kkXLt1P/6HedHGhMdBLgP559xWCBfhsJtfjZ5B5HaxXocAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;复盘也是必要的&quot;
        title=&quot;&quot;
        src=&quot;/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-48538.png&quot;
        srcset=&quot;/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-bed0f.png 200w,
/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-5fd34.png 400w,
/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-48538.png 800w,
/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-b70ec.png 1200w,
/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-d134a.png 1600w,
/static/复盘也是必要的-9774e76d3191ff206c5ea38960113ae9-412e1.png 2068w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;也许有经验的小伙伴会反驳,告警群里一直反馈问题不停的报警,会引发 coder 的反感,最终演化成”狼来了”的故事;
为了避免陷入这种困境,一定要有一个原则:“所报出的问题,都是有价值的,都是值得追踪的”;
sentry 为我们提供了灵活的报警策略,实现这个目标:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/告警规则-8d135d708aa067f48da8322026f46231-5b1cb.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 67.79069767441861%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+klEQVQ4y21U2Y7bMAzM/39ZHwoU6HOB7rbdZpP4kC1L1mFpOqTspNnWwECkLA/FIemTGSY4uyA5hxQzgg8IqyAihoTMvRS5przbWe0Y+J5nxAY2oG5qn5xfsVqLdegwzRaWcItThBCwlQ3b9i8CCVNKXBO+fzP48TLTJ+EyO0TeoDDO68tPEnnUCpRSFI2gfEDbq7XwAgGfP13w9Uun5Kd5shppyxne8bZ+YbruCesH/74XPIPGljKyBjot1iHnloZ3FmbsMZuBkUfMU8NEX/bEtoK57bll4kUCdV2pqSePaMgUtxQb4bJi6ExLu1QUptVQeYZBc/NlFT8TaS+UFksI5YahP6PkpES3S4f+Nqot+jrrFRIwqyxeK3xo3FB1VcKRbRNj1GqubBkzzFiERAgZTGzRVj6Q4h3VfyYsD8LJWG2BlrJHYqUeqT7QUt7u/pHu0afynRJKEx+9NdqI89XgfBnw9t7j17nDb64K7p2vo65v3Bf7xmyu3QRjA3zcbzhPS0uZhNYnvFO/nrc2THWkhoKBZ2Ttxhn9aNWX9z4VxcoihXxo2BslLGVTwcVfOT3/e7xL1DTe/boXo/6toYivk0JCsbtbD+dkWuoT5JH5dmwt8WOQqhe1n6osH5fymM82LUEHXbXNO7Y2/PqjkPahPHEvhP44csMfhNRCyRFCqCoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;告警规则&quot;
        title=&quot;&quot;
        src=&quot;/static/告警规则-8d135d708aa067f48da8322026f46231-48538.png&quot;
        srcset=&quot;/static/告警规则-8d135d708aa067f48da8322026f46231-bed0f.png 200w,
/static/告警规则-8d135d708aa067f48da8322026f46231-5fd34.png 400w,
/static/告警规则-8d135d708aa067f48da8322026f46231-48538.png 800w,
/static/告警规则-8d135d708aa067f48da8322026f46231-b70ec.png 1200w,
/static/告警规则-8d135d708aa067f48da8322026f46231-d134a.png 1600w,
/static/告警规则-8d135d708aa067f48da8322026f46231-5b1cb.png 1720w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-00700.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 68.71980676328504%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABr0lEQVQ4y6VTy27bQAzU/39ST73k0M8oYDeOpX2/tA9lSlKWY6QOULSHgXZlcjgzoqecC0JIKN4jqwUxZaSYkFNBpOe6rhhjoPd+B99rbSjU22pHShU5V/ltykRQyiqXlZ7zdUZrTZqeo98HvGNALRnfv53x4+UixFMiQms8KakY24DRTlDpzir5fSM1rEgGdSJrXcBnFuFcJLJd1ORcANseNyuWyPRsYJXD8qYQqHjrmzTXUhF9xJrXHXQ32uLy+gZ2KoQpZgQq6hsZ2Daa5jDPC65kncFn74Mo5TxPpzO0NjDGytM5Dx+COGBBk4RPhPX6E6NxsEOaa61iUcInW0zGNjmiGCJ9yCjnjUR0IuLaXSG91ItFzUkmGLKqrhoLYb4sco4+wVCN46yJvNwscwRaGZxPv2hI+rDMhbvkTSwoKlJKw1ondhvnS0p4TbjZkl1Hv7Htvc7KhxPLvHM89VgLtsqqcyliRyzx/t1WJVBe4WbZy3nPj6P6UGjDfcKxuJ+X+XGpj+ZnkI/CuT0SPjZ/xldDDkwcJuMZ4b9gkpUgHFl9/Zf7O0x/5tP/i/g3ML9Cf68LMYgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;告警规则设置&quot;
        title=&quot;&quot;
        src=&quot;/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-48538.png&quot;
        srcset=&quot;/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-bed0f.png 200w,
/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-5fd34.png 400w,
/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-48538.png 800w,
/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-b70ec.png 1200w,
/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-d134a.png 1600w,
/static/告警规则设置-64d01fb7a63ec97a1b57001a229aa565-00700.png 1656w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h4&gt;服务端日志处理&lt;/h4&gt;
&lt;p&gt;服务端错误日志采集最好与官方提供的 sdk 进行结合,但目前已运行项目已经接入 logserver,通过 kafka 进行消息传递,那么我们怎么办呢?;
通过监听 kafka 的日志消息将错误日志上报到 sentry;

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-9415b.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 80.53204353083434%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACLElEQVQ4y61UPWgUQRR+M7M/N7s7u5s777xcgtEkiCQaSGEQGyEaIRhsREQMxoCIFsEUXqFNUKysBGNOETXYqJ0giK2IoqBYWAg21oJgpZafb+5y7l3gUE+Lx857M++b9+b73pIYPwi5+Bjy0GUQUZcmsrWcq2HTWyC88x06ySPUOZAQfwwWzBDiKsGcIsiUY2LXUQRLL+HOrUA4LmITQSrVliQEW4sfRiGiKEIQBBi73YvJD8OYeF6BN2wBB8ZBBy6AJo7UD2utodYBrrc4juG6Ll8iUTzpYfNygL5LPlTRtnzsKiovAHPjC3Tcg3yacEVZy3lDGBkgbOxpaTMMuZIOF8qZ80juA7mlVyDHq7fs+z4811bp4OY5B3gT4+kVBcUJPlvCLYuO75wzoPIIKK3UA8bEbAZRqLmKEA8vBsCnQbxe0Uh4vyAJ/Z7M3pR9UmtmfWdqAemtr9DVJ5CuDxOFbSyPDRKOTxF2j2ZVFDlZdZJNbr6G0fdA6d4PeCatv2GTZSHaE5pVlVQGEEwzSWfZ5lk2iY1ZlqerEDsPNw4wy62ykQyqZOPbjPW5EmVHoMDroWse9n7cih3PUqghK5tte0CzyxD7FhoaC4PfysZW6ohG2/nThC13NXotaSXed0/UMP4OKK9+Qy4pIK4zKP9q9GwRmWwmz8Bc/wx/8RFPitfVLIdWlxkx1PVPQfyaHINU/SNgE2wDE/agX2N/IP8P4HZPYLUo4a75PwGb0oZK1CuSRgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;server告警流程.png&quot;
        title=&quot;&quot;
        src=&quot;/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-48538.png&quot;
        srcset=&quot;/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-bed0f.png 200w,
/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-5fd34.png 400w,
/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-48538.png 800w,
/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-b70ec.png 1200w,
/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-d134a.png 1600w,
/static/server告警流程-e1305b8366fc4cd7797ec75e731e113e-9415b.png 1654w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    ;&lt;/p&gt;
&lt;p&gt;优点:侵入小,无改动,只需监听消息便可以把所以错误消息导入;
缺点:错误异常栈,影响用户,代码版本,breadcrumb 等信息皆无, 只有通过上报的一条消息; 另外每一个消息的 fingerprint 要自己提取设置, 不&lt;/p&gt;
&lt;p&gt;参考资料:
&lt;a href=&quot;https://docs.sentry.io/clients/node/usage/?platform=javascript&quot;&gt;Multiple Instances &amp;#x26; Capturing Messages&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;部署&lt;/h4&gt;
&lt;p&gt;sentry sass 服务注册帐号是直接可以使用的,但他的服务器是 American,我们可以单独进行&lt;a href=&quot;https://docs.sentry.io/server/installation/?platform=javascript&quot;&gt;部署&lt;/a&gt;

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/sentry-docker-10f66eb27ad869010c5910888b466091-b903a.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75.16879219804952%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACjklEQVQ4y4VTy27TQBT1tyBAPFQkaIHQNE1fadqmTUsLTQUIvoAVEhvEhm9g0x0bxAIWfFCp1JA0iWN7xvFj7NjO4d5xG1oIYqSja4/t4zPnnms0T5r4cXQMq29hMPAwGo3Ai+u/kGVZjjSjNzMcH7n49vkY3dMAxru3H/D1y3ccfvyEN6/fw5UuoiiGUhGiM6hQ6RrHQ0KsyS7+ICXiOE5pfwRjtbyDjeU9lO5Xsbf5Ar2uiVazhXb7FN1OF53TDponP2m/h2SYIEnS8SkmLaNcWMf8gzXcujKDenUfjuNASgEhBHzPI3UhQoJSSl9HaqiVkCkT7TBYXWPnFaZvl7C91oDZ66Pd6pEyUxP9b/2p1qjMb6MyX8fU1YeksAHbstGnBjFM00JA/vE3aZpeRpL8pU4TLs1uolLawZ3rBa3Qtm06tk1d70PaLpQI4QsPriXh2ZLscOG6gbZgklpjubiF1fJjTF0raA9ty4LFIELfkQiFiwGTCB+e6yMMgrzrESdAaWK2JqZ7rXDhUQ2blQbmZqrYrT2HJBJXSAg5gOsF8FWMQIPiEyeIqNPnNUc63stY4SIRVhd2cfdmEdvrB6RiQIoG6NsCDqkLwgg+KfKp8scJZZkxTEeXEKdZnkMm3Fh6guJ0RXvoEJkkZWGUaCgiYYSkgNX6YY4gGtIPsjH4nfScsLayjxJlcbf2DI7NOZTko62vHUdoeDSW7BtPEPuWUJcvNeRiU+rVA5qUNR0bkyai2+lQFlt6SsyeqSeGA58TqnHIuUHhWY3Om7IyV0e1TB7eKGpCJuGZnRSJPIPZhZrjdxaJcHG2hq3KPmbvLeNp/SWEI/WRBR2Tj8dGp1lu+CTwM488d6WHIXX7F/SRHVvfYwqjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;sentry-docker&quot;
        title=&quot;&quot;
        src=&quot;/static/sentry-docker-10f66eb27ad869010c5910888b466091-48538.png&quot;
        srcset=&quot;/static/sentry-docker-10f66eb27ad869010c5910888b466091-bed0f.png 200w,
/static/sentry-docker-10f66eb27ad869010c5910888b466091-5fd34.png 400w,
/static/sentry-docker-10f66eb27ad869010c5910888b466091-48538.png 800w,
/static/sentry-docker-10f66eb27ad869010c5910888b466091-b70ec.png 1200w,
/static/sentry-docker-10f66eb27ad869010c5910888b466091-b903a.png 1333w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    ;
文档 说的很详细不再赘述!&lt;/p&gt;
&lt;p&gt;在部署的时间有一个有意思的事情 , sentry 服务内部 的报错会上报给自己,这样当我们查一些问题通过上报的错误信息就知道发生了什么. 很棒,好的工具给人惊喜!&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-564e4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.27629513343799%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABvElEQVQoz2VSXU8TQRTdH0JMiEFCTGyRoBBKBGKCoL74ZOSZf0PQ8FGlSjT+MiPQpt0u7e52OzM7H8c7d7JlGyc52Zk7e0/OOXei48MjbK++Ref8F7TWmBYCSpVwzqG+rLVcq1AtOj3sqR693/uEVvMA3y9/czEdpygmBRMYY2FN+GZZjgnVpVAMow10qUmE/xqUSkPJ0hN+RKvxBj8ufhIJMBimGI1yZGkOMZWBkJpmoLNvztOCncwgFf8f7bc+4PnyK3TOriGkwZ+bIYZJjjwrIEQJbeatB2tgYm/RWjJtHTvykUW7L9+hudSiDK+htMPNXUyEGUbjAtlEohDBljEm2CPU8/T7QGZYZbSzfoBnjzfx7UuHFf69jTHoD5HEySxPIfygVAA1+WavqlIY8vY5Uobba/t4uvgC7c9XnGG/n2B0n3KGU8qEc/QXc5bdTGWlkAlLItxafY2VR2ton36FVAa9XkzKMrrU/5HMwbqabfdgeaOxiycLTVyctKFKh26XhjJIcJ+MmdhbllISVBhAReKflK1btiwi2mzuYWmhgbOTS55or9tHTIRsuZjyW6tbrKuqT9k/KZ/xPzlL155wIPnhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;&quot;
        alt=&quot;sentry内部报错.png&quot;
        title=&quot;&quot;
        src=&quot;/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-48538.png&quot;
        srcset=&quot;/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-bed0f.png 200w,
/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-5fd34.png 400w,
/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-48538.png 800w,
/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-b70ec.png 1200w,
/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-d134a.png 1600w,
/static/sentry内部报错-1181e56d4df7b9792e593c4804807e3a-564e4.png 1911w&quot;
        sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    ;&lt;/p&gt;
&lt;p&gt;问一句,如果拿开源代码这个在墙内部署,供其他人使用,是否有问题?&lt;/p&gt;
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;如果让我用一句话来总结 sentry,我想说:“改变了对问题的态度,从被 push 到 pull, 从此运筹帷幄,可以安安静静写代码!”&lt;/p&gt;
&lt;p&gt;从此摆脱传话筒的尴尬局面;&lt;/p&gt;
&lt;h2&gt;问题&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;开源与 sass 的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;相关资料&lt;/h2&gt;</content:encoded></item></channel></rss>