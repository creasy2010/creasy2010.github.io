webpackJsonp([0xb0d8358dea01],{770:function(e,t){e.exports={data:{post:{id:"/Users/dong/dong/blogs/content/posts/2018-09-30--灰度/index.md absPath of file >>> MarkdownRemark",html:'<p><strong>“潮退时就知道谁在裸泳”</strong></p>\n<p>如果给你 100W/M 的工资,你能写出无 bug 的代码吗?</p>\n<p>我相信有这样的大神存在,但在一个项目要靠大神才能保障安全,也是可笑至极,最后的结果极可能是大神要烦死,小神们没空间成长,<strong>参天大树之下只有杂草丛生</strong>;</p>\n<p>正常项目都会遇到人员的流失,新人的培养,在能力锻炼的过程中,总会出一些线上问题,当问题出现时该如何处理?</p>\n<p>风险的规避隔离应该是每一个人的选择,灰度是我的其中一个极有效选择;借助灰度可以打造一个<strong>良性循环</strong>的团队升级机制;</p>\n<h3>灰度解决的痛点</h3>\n<p>在我的实践中,灰度会解决下列问题:</p>\n<ol>\n<li>次生灾害:一人生病,所有人受治疗的方案,可能 \b 使正常用户受连带影响,甚至导致次生灾害的发生;</li>\n<li>版本困境:版本升与不升都有用户受影响,升新版本就会影响 A 用户,不升版本 B 用户;</li>\n<li>版本魔咒:每个版本总会有些问题的魔咒,上线会紧张,节假日前更慌的要命;</li>\n<li>bug 复现难:某个问题在本地无法复现;</li>\n<li>A/B 测试:一部分用户先尝试某功能,获取用户报告;</li>\n</ol>\n<p>上面列的问题会复合发生,我曾经历一个问题(2 与 4 的复合体),真的打打飞的去现场改 bug; 升版本会影响 KA 用户,不升版本又不能赶上功能上线时间;但本地使用各种方法都不能复现,最后 \b\b 迫不得已,打飞的去客户现场才解决了问题 ;</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 176.63551401869157%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,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\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="WechatIMG1.jpeg"\n        title=""\n        src="/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png"\n        srcset="/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-bed0f.png 200w,\n/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5fd34.png 400w,\n/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png 800w,\n/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png 856w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>灰度 是什么</h3>\n<p>百科上解释</p>\n<p>灰度 是指在黑与白之间，能够平滑过渡的一种发布方式。在其上可以进行 A/B testing，即让一部分用户继续用产品特性 A，一部分用户开始用产品特性 B，如果用户对 B 没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到 B 上面来。灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。\n灰度期：灰度发布开始到结束期间的这一段时间，称为灰度期。</p>\n<p>在上线流程上添加一个环节 “灰度上线”,就能解决上面列出的 5 类问题;</p>\n<p>问题突发时: 尤其在问题并不明朗的情况下,可以把受影响用户切到灰度,单独为其部署 fix 版本;控制了影响范围,上线心理压力自然小些;</p>\n<p>新版本上线:可以拉一些用户进行体验,借助数据分析, 错误追踪,售后等措施,获取用户反馈,在震荡期过后,可以平移到线上;</p>\n<p>A/B 测试:新特性上线,邀请用户体验新功能;</p>\n<h3>灰度实现</h3>\n<p>这里不做过多说明,如果对方案有兴趣可以留言;</p>\n<h3>总结</h3>\n<p>灰度方案 也不是银弹,\b 只是辅助工具;</p>\n<p>配合错误 \b 跟踪,数据统计等工具,能达到最好的 \b “治疗”效果;</p>',htmlAst:{type:"root",children:[{type:"element",tagName:"p",properties:{},children:[{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"“潮退时就知道谁在裸泳”"}]}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"如果给你 100W/M 的工资,你能写出无 bug 的代码吗?"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"我相信有这样的大神存在,但在一个项目要靠大神才能保障安全,也是可笑至极,最后的结果极可能是大神要烦死,小神们没空间成长,"},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"参天大树之下只有杂草丛生"}]},{type:"text",value:";"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"正常项目都会遇到人员的流失,新人的培养,在能力锻炼的过程中,总会出一些线上问题,当问题出现时该如何处理?"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"风险的规避隔离应该是每一个人的选择,灰度是我的其中一个极有效选择;借助灰度可以打造一个"},{type:"element",tagName:"strong",properties:{},children:[{type:"text",value:"良性循环"}]},{type:"text",value:"的团队升级机制;"}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"灰度解决的痛点"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"在我的实践中,灰度会解决下列问题:"}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:[{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"次生灾害:一人生病,所有人受治疗的方案,可能 \b 使正常用户受连带影响,甚至导致次生灾害的发生;"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"版本困境:版本升与不升都有用户受影响,升新版本就会影响 A 用户,不升版本 B 用户;"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"版本魔咒:每个版本总会有些问题的魔咒,上线会紧张,节假日前更慌的要命;"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"bug 复现难:某个问题在本地无法复现;"}]},{type:"text",value:"\n"},{type:"element",tagName:"li",properties:{},children:[{type:"text",value:"A/B 测试:一部分用户先尝试某功能,获取用户报告;"}]},{type:"text",value:"\n"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"上面列的问题会复合发生,我曾经历一个问题(2 与 4 的复合体),真的打打飞的去现场改 bug; 升版本会影响 KA 用户,不升版本又不能赶上功能上线时间;但本地使用各种方法都不能复现,最后 \b\b 迫不得已,打飞的去客户现场才解决了问题 ;"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"\n  "},{type:"element",tagName:"a",properties:{className:["gatsby-resp-image-link"],href:"/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png",style:"display: block",target:"_blank",rel:["noopener"]},children:[{type:"text",value:"\n  \n  "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-wrapper"],style:"position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"},children:[{type:"text",value:"\n    "},{type:"element",tagName:"span",properties:{className:["gatsby-resp-image-background-image"],style:"padding-bottom: 176.63551401869157%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;"},children:[{type:"text",value:"\n      "},{type:"element",tagName:"img",properties:{className:["gatsby-resp-image-image"],style:"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;",alt:"WechatIMG1.jpeg",title:"",src:"/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png",srcSet:["/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-bed0f.png 200w","/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5fd34.png 400w","/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-48538.png 800w","/static/WechatIMG1-ff651233ad6778f81efeef5d5dd04e1b-5db87.png 856w"],sizes:["(max-width:","800px)","100vw,","800px"]},children:[]},{type:"text",value:"\n    "}]},{type:"text",value:"\n  "}]},{type:"text",value:"\n  \n  "}]},{type:"text",value:"\n    "}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"灰度 是什么"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"百科上解释"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"灰度 是指在黑与白之间，能够平滑过渡的一种发布方式。在其上可以进行 A/B testing，即让一部分用户继续用产品特性 A，一部分用户开始用产品特性 B，如果用户对 B 没有什么反对意见，那么逐步扩大范围，把所有用户都迁移到 B 上面来。灰度发布可以保证整体系统的稳定，在初始灰度的时候就可以发现、调整问题，以保证其影响度。\n灰度期：灰度发布开始到结束期间的这一段时间，称为灰度期。"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"在上线流程上添加一个环节 “灰度上线”,就能解决上面列出的 5 类问题;"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"问题突发时: 尤其在问题并不明朗的情况下,可以把受影响用户切到灰度,单独为其部署 fix 版本;控制了影响范围,上线心理压力自然小些;"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"新版本上线:可以拉一些用户进行体验,借助数据分析, 错误追踪,售后等措施,获取用户反馈,在震荡期过后,可以平移到线上;"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"A/B 测试:新特性上线,邀请用户体验新功能;"}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"灰度实现"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"这里不做过多说明,如果对方案有兴趣可以留言;"}]},{type:"text",value:"\n"},{type:"element",tagName:"h3",properties:{},children:[{type:"text",value:"总结"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"灰度方案 也不是银弹,\b 只是辅助工具;"}]},{type:"text",value:"\n"},{type:"element",tagName:"p",properties:{},children:[{type:"text",value:"配合错误 \b 跟踪,数据统计等工具,能达到最好的 \b “治疗”效果;"}]}],data:{quirksMode:!1}},fields:{slug:"/灰度/",prefix:"2018-09-30"},frontmatter:{title:"灰度方案如何拉低我的焦虑值",subTitle:"用技术拯救自己",cover:{childImageSharp:{resize:{src:"/static/焦虑-2ad9b326cdf103c41de037096c51c44b-160fa.png"}}}}},author:{id:"/Users/dong/dong/blogs/content/parts/author.md absPath of file >>> MarkdownRemark",html:"<p>游大千世界,看大千世界,认知世界!</p>"},footnote:{id:"/Users/dong/dong/blogs/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:'<p>I am a coder who solves the problem<a href="/about/">contact</a></p>'},site:{siteMetadata:{facebook:{appId:"coder.yang2001@gmail.com"}}}},pathContext:{slug:"/灰度/"}}}});
//# sourceMappingURL=path---灰度-a04e5292485b2f363469.js.map